-- Adminer 4.3.1 MySQL dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

DROP TABLE IF EXISTS `q777_access_actiondom`;
CREATE TABLE `q777_access_actiondom` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_actions`;
CREATE TABLE `q777_access_actions` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_category`;
CREATE TABLE `q777_access_category` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`),
  KEY `context_key` (`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_context`;
CREATE TABLE `q777_access_context` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_access_context` (`id`, `target`, `principal_class`, `principal`, `authority`, `policy`) VALUES
(1,	'web',	'modUserGroup',	0,	9999,	3),
(2,	'mgr',	'modUserGroup',	1,	0,	2),
(3,	'web',	'modUserGroup',	1,	0,	2);

DROP TABLE IF EXISTS `q777_access_elements`;
CREATE TABLE `q777_access_elements` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`),
  KEY `context_key` (`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_media_source`;
CREATE TABLE `q777_access_media_source` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`),
  KEY `context_key` (`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_menus`;
CREATE TABLE `q777_access_menus` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_namespace`;
CREATE TABLE `q777_access_namespace` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`),
  KEY `context_key` (`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_permissions`;
CREATE TABLE `q777_access_permissions` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `template` int(10) unsigned NOT NULL DEFAULT '0',
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` text NOT NULL,
  `value` tinyint(1) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  KEY `template` (`template`),
  KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_access_permissions` (`id`, `template`, `name`, `description`, `value`) VALUES
(1,	1,	'about',	'perm.about_desc',	1),
(2,	1,	'access_permissions',	'perm.access_permissions_desc',	1),
(3,	1,	'actions',	'perm.actions_desc',	1),
(4,	1,	'change_password',	'perm.change_password_desc',	1),
(5,	1,	'change_profile',	'perm.change_profile_desc',	1),
(6,	1,	'charsets',	'perm.charsets_desc',	1),
(7,	1,	'class_map',	'perm.class_map_desc',	1),
(8,	1,	'components',	'perm.components_desc',	1),
(9,	1,	'content_types',	'perm.content_types_desc',	1),
(10,	1,	'countries',	'perm.countries_desc',	1),
(11,	1,	'create',	'perm.create_desc',	1),
(12,	1,	'credits',	'perm.credits_desc',	1),
(13,	1,	'customize_forms',	'perm.customize_forms_desc',	1),
(14,	1,	'dashboards',	'perm.dashboards_desc',	1),
(15,	1,	'database',	'perm.database_desc',	1),
(16,	1,	'database_truncate',	'perm.database_truncate_desc',	1),
(17,	1,	'delete_category',	'perm.delete_category_desc',	1),
(18,	1,	'delete_chunk',	'perm.delete_chunk_desc',	1),
(19,	1,	'delete_context',	'perm.delete_context_desc',	1),
(20,	1,	'delete_document',	'perm.delete_document_desc',	1),
(21,	1,	'delete_eventlog',	'perm.delete_eventlog_desc',	1),
(22,	1,	'delete_plugin',	'perm.delete_plugin_desc',	1),
(23,	1,	'delete_propertyset',	'perm.delete_propertyset_desc',	1),
(24,	1,	'delete_snippet',	'perm.delete_snippet_desc',	1),
(25,	1,	'delete_template',	'perm.delete_template_desc',	1),
(26,	1,	'delete_tv',	'perm.delete_tv_desc',	1),
(27,	1,	'delete_role',	'perm.delete_role_desc',	1),
(28,	1,	'delete_user',	'perm.delete_user_desc',	1),
(29,	1,	'directory_chmod',	'perm.directory_chmod_desc',	1),
(30,	1,	'directory_create',	'perm.directory_create_desc',	1),
(31,	1,	'directory_list',	'perm.directory_list_desc',	1),
(32,	1,	'directory_remove',	'perm.directory_remove_desc',	1),
(33,	1,	'directory_update',	'perm.directory_update_desc',	1),
(34,	1,	'edit_category',	'perm.edit_category_desc',	1),
(35,	1,	'edit_chunk',	'perm.edit_chunk_desc',	1),
(36,	1,	'edit_context',	'perm.edit_context_desc',	1),
(37,	1,	'edit_document',	'perm.edit_document_desc',	1),
(38,	1,	'edit_locked',	'perm.edit_locked_desc',	1),
(39,	1,	'edit_plugin',	'perm.edit_plugin_desc',	1),
(40,	1,	'edit_propertyset',	'perm.edit_propertyset_desc',	1),
(41,	1,	'edit_role',	'perm.edit_role_desc',	1),
(42,	1,	'edit_snippet',	'perm.edit_snippet_desc',	1),
(43,	1,	'edit_template',	'perm.edit_template_desc',	1),
(44,	1,	'edit_tv',	'perm.edit_tv_desc',	1),
(45,	1,	'edit_user',	'perm.edit_user_desc',	1),
(46,	1,	'element_tree',	'perm.element_tree_desc',	1),
(47,	1,	'empty_cache',	'perm.empty_cache_desc',	1),
(48,	1,	'error_log_erase',	'perm.error_log_erase_desc',	1),
(49,	1,	'error_log_view',	'perm.error_log_view_desc',	1),
(50,	1,	'export_static',	'perm.export_static_desc',	1),
(51,	1,	'file_create',	'perm.file_create_desc',	1),
(52,	1,	'file_list',	'perm.file_list_desc',	1),
(53,	1,	'file_manager',	'perm.file_manager_desc',	1),
(54,	1,	'file_remove',	'perm.file_remove_desc',	1),
(55,	1,	'file_tree',	'perm.file_tree_desc',	1),
(56,	1,	'file_update',	'perm.file_update_desc',	1),
(57,	1,	'file_upload',	'perm.file_upload_desc',	1),
(58,	1,	'file_unpack',	'perm.file_unpack_desc',	1),
(59,	1,	'file_view',	'perm.file_view_desc',	1),
(60,	1,	'flush_sessions',	'perm.flush_sessions_desc',	1),
(61,	1,	'frames',	'perm.frames_desc',	1),
(62,	1,	'help',	'perm.help_desc',	1),
(63,	1,	'home',	'perm.home_desc',	1),
(64,	1,	'import_static',	'perm.import_static_desc',	1),
(65,	1,	'languages',	'perm.languages_desc',	1),
(66,	1,	'lexicons',	'perm.lexicons_desc',	1),
(67,	1,	'list',	'perm.list_desc',	1),
(68,	1,	'load',	'perm.load_desc',	1),
(69,	1,	'logout',	'perm.logout_desc',	1),
(70,	1,	'logs',	'perm.logs_desc',	1),
(71,	1,	'menu_reports',	'perm.menu_reports_desc',	1),
(72,	1,	'menu_security',	'perm.menu_security_desc',	1),
(73,	1,	'menu_site',	'perm.menu_site_desc',	1),
(74,	1,	'menu_support',	'perm.menu_support_desc',	1),
(75,	1,	'menu_system',	'perm.menu_system_desc',	1),
(76,	1,	'menu_tools',	'perm.menu_tools_desc',	1),
(77,	1,	'menu_user',	'perm.menu_user_desc',	1),
(78,	1,	'menus',	'perm.menus_desc',	1),
(79,	1,	'messages',	'perm.messages_desc',	1),
(80,	1,	'namespaces',	'perm.namespaces_desc',	1),
(81,	1,	'new_category',	'perm.new_category_desc',	1),
(82,	1,	'new_chunk',	'perm.new_chunk_desc',	1),
(83,	1,	'new_context',	'perm.new_context_desc',	1),
(84,	1,	'new_document',	'perm.new_document_desc',	1),
(85,	1,	'new_static_resource',	'perm.new_static_resource_desc',	1),
(86,	1,	'new_symlink',	'perm.new_symlink_desc',	1),
(87,	1,	'new_weblink',	'perm.new_weblink_desc',	1),
(88,	1,	'new_document_in_root',	'perm.new_document_in_root_desc',	1),
(89,	1,	'new_plugin',	'perm.new_plugin_desc',	1),
(90,	1,	'new_propertyset',	'perm.new_propertyset_desc',	1),
(91,	1,	'new_role',	'perm.new_role_desc',	1),
(92,	1,	'new_snippet',	'perm.new_snippet_desc',	1),
(93,	1,	'new_template',	'perm.new_template_desc',	1),
(94,	1,	'new_tv',	'perm.new_tv_desc',	1),
(95,	1,	'new_user',	'perm.new_user_desc',	1),
(96,	1,	'packages',	'perm.packages_desc',	1),
(97,	1,	'policy_delete',	'perm.policy_delete_desc',	1),
(98,	1,	'policy_edit',	'perm.policy_edit_desc',	1),
(99,	1,	'policy_new',	'perm.policy_new_desc',	1),
(100,	1,	'policy_save',	'perm.policy_save_desc',	1),
(101,	1,	'policy_view',	'perm.policy_view_desc',	1),
(102,	1,	'policy_template_delete',	'perm.policy_template_delete_desc',	1),
(103,	1,	'policy_template_edit',	'perm.policy_template_edit_desc',	1),
(104,	1,	'policy_template_new',	'perm.policy_template_new_desc',	1),
(105,	1,	'policy_template_save',	'perm.policy_template_save_desc',	1),
(106,	1,	'policy_template_view',	'perm.policy_template_view_desc',	1),
(107,	1,	'property_sets',	'perm.property_sets_desc',	1),
(108,	1,	'providers',	'perm.providers_desc',	1),
(109,	1,	'publish_document',	'perm.publish_document_desc',	1),
(110,	1,	'purge_deleted',	'perm.purge_deleted_desc',	1),
(111,	1,	'remove',	'perm.remove_desc',	1),
(112,	1,	'remove_locks',	'perm.remove_locks_desc',	1),
(113,	1,	'resource_duplicate',	'perm.resource_duplicate_desc',	1),
(114,	1,	'resourcegroup_delete',	'perm.resourcegroup_delete_desc',	1),
(115,	1,	'resourcegroup_edit',	'perm.resourcegroup_edit_desc',	1),
(116,	1,	'resourcegroup_new',	'perm.resourcegroup_new_desc',	1),
(117,	1,	'resourcegroup_resource_edit',	'perm.resourcegroup_resource_edit_desc',	1),
(118,	1,	'resourcegroup_resource_list',	'perm.resourcegroup_resource_list_desc',	1),
(119,	1,	'resourcegroup_save',	'perm.resourcegroup_save_desc',	1),
(120,	1,	'resourcegroup_view',	'perm.resourcegroup_view_desc',	1),
(121,	1,	'resource_quick_create',	'perm.resource_quick_create_desc',	1),
(122,	1,	'resource_quick_update',	'perm.resource_quick_update_desc',	1),
(123,	1,	'resource_tree',	'perm.resource_tree_desc',	1),
(124,	1,	'save',	'perm.save_desc',	1),
(125,	1,	'save_category',	'perm.save_category_desc',	1),
(126,	1,	'save_chunk',	'perm.save_chunk_desc',	1),
(127,	1,	'save_context',	'perm.save_context_desc',	1),
(128,	1,	'save_document',	'perm.save_document_desc',	1),
(129,	1,	'save_plugin',	'perm.save_plugin_desc',	1),
(130,	1,	'save_propertyset',	'perm.save_propertyset_desc',	1),
(131,	1,	'save_role',	'perm.save_role_desc',	1),
(132,	1,	'save_snippet',	'perm.save_snippet_desc',	1),
(133,	1,	'save_template',	'perm.save_template_desc',	1),
(134,	1,	'save_tv',	'perm.save_tv_desc',	1),
(135,	1,	'save_user',	'perm.save_user_desc',	1),
(136,	1,	'search',	'perm.search_desc',	1),
(137,	1,	'settings',	'perm.settings_desc',	1),
(138,	1,	'events',	'perm.events_desc',	1),
(139,	1,	'source_save',	'perm.source_save_desc',	1),
(140,	1,	'source_delete',	'perm.source_delete_desc',	1),
(141,	1,	'source_edit',	'perm.source_edit_desc',	1),
(142,	1,	'source_view',	'perm.source_view_desc',	1),
(143,	1,	'sources',	'perm.sources_desc',	1),
(144,	1,	'steal_locks',	'perm.steal_locks_desc',	1),
(145,	1,	'tree_show_element_ids',	'perm.tree_show_element_ids_desc',	1),
(146,	1,	'tree_show_resource_ids',	'perm.tree_show_resource_ids_desc',	1),
(147,	1,	'undelete_document',	'perm.undelete_document_desc',	1),
(148,	1,	'unpublish_document',	'perm.unpublish_document_desc',	1),
(149,	1,	'unlock_element_properties',	'perm.unlock_element_properties_desc',	1),
(150,	1,	'usergroup_delete',	'perm.usergroup_delete_desc',	1),
(151,	1,	'usergroup_edit',	'perm.usergroup_edit_desc',	1),
(152,	1,	'usergroup_new',	'perm.usergroup_new_desc',	1),
(153,	1,	'usergroup_save',	'perm.usergroup_save_desc',	1),
(154,	1,	'usergroup_user_edit',	'perm.usergroup_user_edit_desc',	1),
(155,	1,	'usergroup_user_list',	'perm.usergroup_user_list_desc',	1),
(156,	1,	'usergroup_view',	'perm.usergroup_view_desc',	1),
(157,	1,	'view',	'perm.view_desc',	1),
(158,	1,	'view_category',	'perm.view_category_desc',	1),
(159,	1,	'view_chunk',	'perm.view_chunk_desc',	1),
(160,	1,	'view_context',	'perm.view_context_desc',	1),
(161,	1,	'view_document',	'perm.view_document_desc',	1),
(162,	1,	'view_element',	'perm.view_element_desc',	1),
(163,	1,	'view_eventlog',	'perm.view_eventlog_desc',	1),
(164,	1,	'view_offline',	'perm.view_offline_desc',	1),
(165,	1,	'view_plugin',	'perm.view_plugin_desc',	1),
(166,	1,	'view_propertyset',	'perm.view_propertyset_desc',	1),
(167,	1,	'view_role',	'perm.view_role_desc',	1),
(168,	1,	'view_snippet',	'perm.view_snippet_desc',	1),
(169,	1,	'view_sysinfo',	'perm.view_sysinfo_desc',	1),
(170,	1,	'view_template',	'perm.view_template_desc',	1),
(171,	1,	'view_tv',	'perm.view_tv_desc',	1),
(172,	1,	'view_user',	'perm.view_user_desc',	1),
(173,	1,	'view_unpublished',	'perm.view_unpublished_desc',	1),
(174,	1,	'workspaces',	'perm.workspaces_desc',	1),
(175,	2,	'add_children',	'perm.add_children_desc',	1),
(176,	2,	'copy',	'perm.copy_desc',	1),
(177,	2,	'create',	'perm.create_desc',	1),
(178,	2,	'delete',	'perm.delete_desc',	1),
(179,	2,	'list',	'perm.list_desc',	1),
(180,	2,	'load',	'perm.load_desc',	1),
(181,	2,	'move',	'perm.move_desc',	1),
(182,	2,	'publish',	'perm.publish_desc',	1),
(183,	2,	'remove',	'perm.remove_desc',	1),
(184,	2,	'save',	'perm.save_desc',	1),
(185,	2,	'steal_lock',	'perm.steal_lock_desc',	1),
(186,	2,	'undelete',	'perm.undelete_desc',	1),
(187,	2,	'unpublish',	'perm.unpublish_desc',	1),
(188,	2,	'view',	'perm.view_desc',	1),
(189,	3,	'load',	'perm.load_desc',	1),
(190,	3,	'list',	'perm.list_desc',	1),
(191,	3,	'view',	'perm.view_desc',	1),
(192,	3,	'save',	'perm.save_desc',	1),
(193,	3,	'remove',	'perm.remove_desc',	1),
(194,	4,	'add_children',	'perm.add_children_desc',	1),
(195,	4,	'create',	'perm.create_desc',	1),
(196,	4,	'copy',	'perm.copy_desc',	1),
(197,	4,	'delete',	'perm.delete_desc',	1),
(198,	4,	'list',	'perm.list_desc',	1),
(199,	4,	'load',	'perm.load_desc',	1),
(200,	4,	'remove',	'perm.remove_desc',	1),
(201,	4,	'save',	'perm.save_desc',	1),
(202,	4,	'view',	'perm.view_desc',	1),
(203,	5,	'create',	'perm.create_desc',	1),
(204,	5,	'copy',	'perm.copy_desc',	1),
(205,	5,	'list',	'perm.list_desc',	1),
(206,	5,	'load',	'perm.load_desc',	1),
(207,	5,	'remove',	'perm.remove_desc',	1),
(208,	5,	'save',	'perm.save_desc',	1),
(209,	5,	'view',	'perm.view_desc',	1),
(210,	6,	'load',	'perm.load_desc',	1),
(211,	6,	'list',	'perm.list_desc',	1),
(212,	6,	'view',	'perm.view_desc',	1),
(213,	6,	'save',	'perm.save_desc',	1),
(214,	6,	'remove',	'perm.remove_desc',	1),
(215,	6,	'view_unpublished',	'perm.view_unpublished_desc',	1),
(216,	6,	'copy',	'perm.copy_desc',	1),
(217,	7,	'list',	'perm.list_desc',	1),
(218,	7,	'load',	'perm.load_desc',	1),
(219,	7,	'view',	'perm.view_desc',	1),
(220,	8,	'ticket_delete',	'ticket_delete',	1),
(221,	8,	'ticket_publish',	'ticket_publish',	1),
(222,	8,	'ticket_save',	'ticket_save',	1),
(223,	8,	'ticket_view_private',	'ticket_view_private',	1),
(224,	8,	'ticket_vote',	'ticket_vote',	1),
(225,	8,	'ticket_star',	'ticket_star',	1),
(226,	8,	'comment_save',	'comment_save',	1),
(227,	8,	'comment_delete',	'comment_delete',	1),
(228,	8,	'comment_remove',	'comment_remove',	1),
(229,	8,	'comment_publish',	'comment_publish',	1),
(230,	8,	'comment_vote',	'comment_vote',	1),
(231,	8,	'comment_star',	'comment_star',	1),
(232,	8,	'ticket_file_upload',	'ticket_file_upload',	1),
(233,	8,	'ticket_file_delete',	'ticket_file_delete',	1),
(234,	8,	'thread_close',	'thread_close',	1),
(235,	8,	'thread_delete',	'thread_delete',	1),
(236,	8,	'thread_remove',	'thread_remove',	1),
(237,	9,	'section_add_children',	'section_add_children',	1);

DROP TABLE IF EXISTS `q777_access_policies`;
CREATE TABLE `q777_access_policies` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `description` mediumtext,
  `parent` int(10) unsigned NOT NULL DEFAULT '0',
  `template` int(10) unsigned NOT NULL DEFAULT '0',
  `class` varchar(255) NOT NULL DEFAULT '',
  `data` text,
  `lexicon` varchar(255) NOT NULL DEFAULT 'permissions',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `parent` (`parent`),
  KEY `class` (`class`),
  KEY `template` (`template`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_access_policies` (`id`, `name`, `description`, `parent`, `template`, `class`, `data`, `lexicon`) VALUES
(1,	'Resource',	'MODX Resource Policy with all attributes.',	0,	2,	'',	'{\"add_children\":true,\"create\":true,\"copy\":true,\"delete\":true,\"list\":true,\"load\":true,\"move\":true,\"publish\":true,\"remove\":true,\"save\":true,\"steal_lock\":true,\"undelete\":true,\"unpublish\":true,\"view\":true}',	'permissions'),
(2,	'Administrator',	'Context administration policy with all permissions.',	0,	1,	'',	'{\"about\":true,\"access_permissions\":true,\"actions\":true,\"change_password\":true,\"change_profile\":true,\"charsets\":true,\"class_map\":true,\"components\":true,\"content_types\":true,\"countries\":true,\"create\":true,\"credits\":true,\"customize_forms\":true,\"dashboards\":true,\"database\":true,\"database_truncate\":true,\"delete_category\":true,\"delete_chunk\":true,\"delete_context\":true,\"delete_document\":true,\"delete_eventlog\":true,\"delete_plugin\":true,\"delete_propertyset\":true,\"delete_role\":true,\"delete_snippet\":true,\"delete_template\":true,\"delete_tv\":true,\"delete_user\":true,\"directory_chmod\":true,\"directory_create\":true,\"directory_list\":true,\"directory_remove\":true,\"directory_update\":true,\"edit_category\":true,\"edit_chunk\":true,\"edit_context\":true,\"edit_document\":true,\"edit_locked\":true,\"edit_plugin\":true,\"edit_propertyset\":true,\"edit_role\":true,\"edit_snippet\":true,\"edit_template\":true,\"edit_tv\":true,\"edit_user\":true,\"element_tree\":true,\"empty_cache\":true,\"error_log_erase\":true,\"error_log_view\":true,\"export_static\":true,\"file_create\":true,\"file_list\":true,\"file_manager\":true,\"file_remove\":true,\"file_tree\":true,\"file_update\":true,\"file_upload\":true,\"file_unpack\":true,\"file_view\":true,\"flush_sessions\":true,\"frames\":true,\"help\":true,\"home\":true,\"import_static\":true,\"languages\":true,\"lexicons\":true,\"list\":true,\"load\":true,\"logout\":true,\"logs\":true,\"menus\":true,\"menu_reports\":true,\"menu_security\":true,\"menu_site\":true,\"menu_support\":true,\"menu_system\":true,\"menu_tools\":true,\"menu_user\":true,\"messages\":true,\"namespaces\":true,\"new_category\":true,\"new_chunk\":true,\"new_context\":true,\"new_document\":true,\"new_document_in_root\":true,\"new_plugin\":true,\"new_propertyset\":true,\"new_role\":true,\"new_snippet\":true,\"new_static_resource\":true,\"new_symlink\":true,\"new_template\":true,\"new_tv\":true,\"new_user\":true,\"new_weblink\":true,\"packages\":true,\"policy_delete\":true,\"policy_edit\":true,\"policy_new\":true,\"policy_save\":true,\"policy_template_delete\":true,\"policy_template_edit\":true,\"policy_template_new\":true,\"policy_template_save\":true,\"policy_template_view\":true,\"policy_view\":true,\"property_sets\":true,\"providers\":true,\"publish_document\":true,\"purge_deleted\":true,\"remove\":true,\"remove_locks\":true,\"resource_duplicate\":true,\"resourcegroup_delete\":true,\"resourcegroup_edit\":true,\"resourcegroup_new\":true,\"resourcegroup_resource_edit\":true,\"resourcegroup_resource_list\":true,\"resourcegroup_save\":true,\"resourcegroup_view\":true,\"resource_quick_create\":true,\"resource_quick_update\":true,\"resource_tree\":true,\"save\":true,\"save_category\":true,\"save_chunk\":true,\"save_context\":true,\"save_document\":true,\"save_plugin\":true,\"save_propertyset\":true,\"save_role\":true,\"save_snippet\":true,\"save_template\":true,\"save_tv\":true,\"save_user\":true,\"search\":true,\"settings\":true,\"sources\":true,\"source_delete\":true,\"source_edit\":true,\"source_save\":true,\"source_view\":true,\"steal_locks\":true,\"tree_show_element_ids\":true,\"tree_show_resource_ids\":true,\"undelete_document\":true,\"unlock_element_properties\":true,\"unpublish_document\":true,\"usergroup_delete\":true,\"usergroup_edit\":true,\"usergroup_new\":true,\"usergroup_save\":true,\"usergroup_user_edit\":true,\"usergroup_user_list\":true,\"usergroup_view\":true,\"view\":true,\"view_category\":true,\"view_chunk\":true,\"view_context\":true,\"view_document\":true,\"view_element\":true,\"view_eventlog\":true,\"view_offline\":true,\"view_plugin\":true,\"view_propertyset\":true,\"view_role\":true,\"view_snippet\":true,\"view_sysinfo\":true,\"view_template\":true,\"view_tv\":true,\"view_unpublished\":true,\"view_user\":true,\"workspaces\":true}',	'permissions'),
(3,	'Load Only',	'A minimal policy with permission to load an object.',	0,	3,	'',	'{\"load\":true}',	'permissions'),
(4,	'Load, List and View',	'Provides load, list and view permissions only.',	0,	3,	'',	'{\"load\":true,\"list\":true,\"view\":true}',	'permissions'),
(5,	'Object',	'An Object policy with all permissions.',	0,	3,	'',	'{\"load\":true,\"list\":true,\"view\":true,\"save\":true,\"remove\":true}',	'permissions'),
(6,	'Element',	'MODX Element policy with all attributes.',	0,	4,	'',	'{\"add_children\":true,\"create\":true,\"delete\":true,\"list\":true,\"load\":true,\"remove\":true,\"save\":true,\"view\":true,\"copy\":true}',	'permissions'),
(7,	'Content Editor',	'Context administration policy with limited, content-editing related Permissions, but no publishing.',	0,	1,	'',	'{\"change_profile\":true,\"class_map\":true,\"countries\":true,\"edit_document\":true,\"frames\":true,\"help\":true,\"home\":true,\"load\":true,\"list\":true,\"logout\":true,\"menu_reports\":true,\"menu_site\":true,\"menu_support\":true,\"menu_tools\":true,\"menu_user\":true,\"resource_duplicate\":true,\"resource_tree\":true,\"save_document\":true,\"source_view\":true,\"tree_show_resource_ids\":true,\"view\":true,\"view_document\":true,\"new_document\":true,\"delete_document\":true}',	'permissions'),
(8,	'Media Source Admin',	'Media Source administration policy.',	0,	5,	'',	'{\"create\":true,\"copy\":true,\"load\":true,\"list\":true,\"save\":true,\"remove\":true,\"view\":true}',	'permissions'),
(9,	'Media Source User',	'Media Source user policy, with basic viewing and using - but no editing - of Media Sources.',	0,	5,	'',	'{\"load\":true,\"list\":true,\"view\":true}',	'permissions'),
(10,	'Developer',	'Context administration policy with most Permissions except Administrator and Security functions.',	0,	0,	'',	'{\"about\":true,\"change_password\":true,\"change_profile\":true,\"charsets\":true,\"class_map\":true,\"components\":true,\"content_types\":true,\"countries\":true,\"create\":true,\"credits\":true,\"customize_forms\":true,\"dashboards\":true,\"database\":true,\"delete_category\":true,\"delete_chunk\":true,\"delete_context\":true,\"delete_document\":true,\"delete_eventlog\":true,\"delete_plugin\":true,\"delete_propertyset\":true,\"delete_snippet\":true,\"delete_template\":true,\"delete_tv\":true,\"delete_role\":true,\"delete_user\":true,\"directory_chmod\":true,\"directory_create\":true,\"directory_list\":true,\"directory_remove\":true,\"directory_update\":true,\"edit_category\":true,\"edit_chunk\":true,\"edit_context\":true,\"edit_document\":true,\"edit_locked\":true,\"edit_plugin\":true,\"edit_propertyset\":true,\"edit_role\":true,\"edit_snippet\":true,\"edit_template\":true,\"edit_tv\":true,\"edit_user\":true,\"element_tree\":true,\"empty_cache\":true,\"error_log_erase\":true,\"error_log_view\":true,\"export_static\":true,\"file_create\":true,\"file_list\":true,\"file_manager\":true,\"file_remove\":true,\"file_tree\":true,\"file_update\":true,\"file_upload\":true,\"file_unpack\":true,\"file_view\":true,\"frames\":true,\"help\":true,\"home\":true,\"import_static\":true,\"languages\":true,\"lexicons\":true,\"list\":true,\"load\":true,\"logout\":true,\"logs\":true,\"menu_reports\":true,\"menu_site\":true,\"menu_support\":true,\"menu_system\":true,\"menu_tools\":true,\"menu_user\":true,\"menus\":true,\"messages\":true,\"namespaces\":true,\"new_category\":true,\"new_chunk\":true,\"new_context\":true,\"new_document\":true,\"new_static_resource\":true,\"new_symlink\":true,\"new_weblink\":true,\"new_document_in_root\":true,\"new_plugin\":true,\"new_propertyset\":true,\"new_role\":true,\"new_snippet\":true,\"new_template\":true,\"new_tv\":true,\"new_user\":true,\"packages\":true,\"property_sets\":true,\"providers\":true,\"publish_document\":true,\"purge_deleted\":true,\"remove\":true,\"resource_duplicate\":true,\"resource_quick_create\":true,\"resource_quick_update\":true,\"resource_tree\":true,\"save\":true,\"save_category\":true,\"save_chunk\":true,\"save_context\":true,\"save_document\":true,\"save_plugin\":true,\"save_propertyset\":true,\"save_snippet\":true,\"save_template\":true,\"save_tv\":true,\"save_user\":true,\"search\":true,\"settings\":true,\"source_delete\":true,\"source_edit\":true,\"source_save\":true,\"source_view\":true,\"sources\":true,\"tree_show_element_ids\":true,\"tree_show_resource_ids\":true,\"undelete_document\":true,\"unpublish_document\":true,\"unlock_element_properties\":true,\"view\":true,\"view_category\":true,\"view_chunk\":true,\"view_context\":true,\"view_document\":true,\"view_element\":true,\"view_eventlog\":true,\"view_offline\":true,\"view_plugin\":true,\"view_propertyset\":true,\"view_role\":true,\"view_snippet\":true,\"view_sysinfo\":true,\"view_template\":true,\"view_tv\":true,\"view_user\":true,\"view_unpublished\":true,\"workspaces\":true}',	'permissions'),
(11,	'Context',	'A standard Context policy that you can apply when creating Context ACLs for basic read/write and view_unpublished access within a Context.',	0,	6,	'',	'{\"load\":true,\"list\":true,\"view\":true,\"save\":true,\"remove\":true,\"copy\":true,\"view_unpublished\":true}',	'permissions'),
(12,	'Hidden Namespace',	'Hidden Namespace policy, will not show Namespace in lists.',	0,	7,	'',	'{\"load\":false,\"list\":false,\"view\":true}',	'permissions'),
(13,	'TicketUserPolicy',	'A policy for create and update Tickets.',	0,	8,	'',	'{\"ticket_delete\":true,\"ticket_publish\":true,\"ticket_save\":true,\"ticket_vote\":true,\"ticket_star\":true,\"comment_save\":true,\"comment_delete\":true,\"comment_remove\":true,\"comment_publish\":true,\"comment_vote\":true,\"comment_star\":true,\"ticket_file_upload\":true,\"ticket_file_delete\":true,\"thread_close\":true,\"thread_delete\":true,\"thread_remove\":true}',	'tickets:permissions'),
(14,	'TicketSectionPolicy',	'A policy for add tickets in section.',	0,	9,	'',	'{\"section_add_children\":true}',	'tickets:permissions'),
(15,	'TicketVipPolicy',	'A policy for create and update private Tickets.',	0,	8,	'',	'{\"ticket_delete\":true,\"ticket_publish\":true,\"ticket_save\":true,\"ticket_vote\":true,\"ticket_star\":true,\"comment_save\":true,\"comment_delete\":true,\"comment_remove\":true,\"comment_publish\":true,\"comment_vote\":true,\"comment_star\":true,\"ticket_view_private\":true,\"ticket_file_upload\":true,\"ticket_file_delete\":true,\"thread_close\":true,\"thread_delete\":true,\"thread_remove\":true}',	'tickets:permissions');

DROP TABLE IF EXISTS `q777_access_policy_templates`;
CREATE TABLE `q777_access_policy_templates` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `template_group` int(10) unsigned NOT NULL DEFAULT '0',
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` mediumtext,
  `lexicon` varchar(255) NOT NULL DEFAULT 'permissions',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_access_policy_templates` (`id`, `template_group`, `name`, `description`, `lexicon`) VALUES
(1,	1,	'AdministratorTemplate',	'Context administration policy template with all permissions.',	'permissions'),
(2,	3,	'ResourceTemplate',	'Resource Policy Template with all attributes.',	'permissions'),
(3,	2,	'ObjectTemplate',	'Object Policy Template with all attributes.',	'permissions'),
(4,	4,	'ElementTemplate',	'Element Policy Template with all attributes.',	'permissions'),
(5,	5,	'MediaSourceTemplate',	'Media Source Policy Template with all attributes.',	'permissions'),
(6,	2,	'ContextTemplate',	'Context Policy Template with all attributes.',	'permissions'),
(7,	6,	'NamespaceTemplate',	'Namespace Policy Template with all attributes.',	'permissions'),
(8,	1,	'TicketsUserPolicyTemplate',	'A policy for users to create Tickets and comments.',	'tickets:permissions'),
(9,	3,	'TicketsSectionPolicyTemplate',	'A policy for users to add Tickets to section.',	'tickets:permissions');

DROP TABLE IF EXISTS `q777_access_policy_template_groups`;
CREATE TABLE `q777_access_policy_template_groups` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` mediumtext,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_access_policy_template_groups` (`id`, `name`, `description`) VALUES
(1,	'Admin',	'All admin policy templates.'),
(2,	'Object',	'All Object-based policy templates.'),
(3,	'Resource',	'All Resource-based policy templates.'),
(4,	'Element',	'All Element-based policy templates.'),
(5,	'MediaSource',	'All Media Source-based policy templates.'),
(6,	'Namespace',	'All Namespace based policy templates.');

DROP TABLE IF EXISTS `q777_access_resources`;
CREATE TABLE `q777_access_resources` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`),
  KEY `context_key` (`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_resource_groups`;
CREATE TABLE `q777_access_resource_groups` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`,`target`,`principal`,`authority`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`),
  KEY `context_key` (`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_access_templatevars`;
CREATE TABLE `q777_access_templatevars` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `target` varchar(100) NOT NULL DEFAULT '',
  `principal_class` varchar(100) NOT NULL DEFAULT 'modPrincipal',
  `principal` int(10) unsigned NOT NULL DEFAULT '0',
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  `policy` int(10) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `target` (`target`),
  KEY `principal_class` (`principal_class`),
  KEY `principal` (`principal`),
  KEY `authority` (`authority`),
  KEY `policy` (`policy`),
  KEY `context_key` (`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_actiondom`;
CREATE TABLE `q777_actiondom` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `set` int(11) NOT NULL DEFAULT '0',
  `action` varchar(255) NOT NULL DEFAULT '',
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` text,
  `xtype` varchar(100) NOT NULL DEFAULT '',
  `container` varchar(255) NOT NULL DEFAULT '',
  `rule` varchar(100) NOT NULL DEFAULT '',
  `value` text NOT NULL,
  `constraint` varchar(255) NOT NULL DEFAULT '',
  `constraint_field` varchar(100) NOT NULL DEFAULT '',
  `constraint_class` varchar(100) NOT NULL DEFAULT '',
  `active` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `for_parent` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `rank` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `set` (`set`),
  KEY `action` (`action`),
  KEY `name` (`name`),
  KEY `active` (`active`),
  KEY `for_parent` (`for_parent`),
  KEY `rank` (`rank`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_actions`;
CREATE TABLE `q777_actions` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `namespace` varchar(100) NOT NULL DEFAULT 'core',
  `controller` varchar(255) NOT NULL,
  `haslayout` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `lang_topics` text NOT NULL,
  `assets` text NOT NULL,
  `help_url` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `namespace` (`namespace`),
  KEY `controller` (`controller`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_actions` (`id`, `namespace`, `controller`, `haslayout`, `lang_topics`, `assets`, `help_url`) VALUES
(1,	'console',	'console',	1,	'console:default',	'',	''),
(2,	'formit',	'index',	1,	'formit:mgr',	'',	''),
(3,	'migx',	'index',	0,	'example:default',	'',	''),
(4,	'simpleupdater',	'index',	1,	'simpleupdater:default',	'',	'');

DROP TABLE IF EXISTS `q777_actions_fields`;
CREATE TABLE `q777_actions_fields` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `action` varchar(255) NOT NULL DEFAULT '',
  `name` varchar(255) NOT NULL DEFAULT '',
  `type` varchar(100) NOT NULL DEFAULT 'field',
  `tab` varchar(255) NOT NULL DEFAULT '',
  `form` varchar(255) NOT NULL DEFAULT '',
  `other` varchar(255) NOT NULL DEFAULT '',
  `rank` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `action` (`action`),
  KEY `type` (`type`),
  KEY `tab` (`tab`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_actions_fields` (`id`, `action`, `name`, `type`, `tab`, `form`, `other`, `rank`) VALUES
(1,	'resource/update',	'modx-resource-settings',	'tab',	'',	'modx-panel-resource',	'',	0),
(2,	'resource/update',	'modx-resource-main-left',	'tab',	'',	'modx-panel-resource',	'',	1),
(3,	'resource/update',	'id',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	0),
(4,	'resource/update',	'pagetitle',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	1),
(5,	'resource/update',	'longtitle',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	2),
(6,	'resource/update',	'description',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	3),
(7,	'resource/update',	'introtext',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	4),
(8,	'resource/update',	'modx-resource-main-right',	'tab',	'',	'modx-panel-resource',	'',	2),
(9,	'resource/update',	'template',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	0),
(10,	'resource/update',	'alias',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	1),
(11,	'resource/update',	'menutitle',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	2),
(12,	'resource/update',	'link_attributes',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	3),
(13,	'resource/update',	'hidemenu',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	4),
(14,	'resource/update',	'published',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	5),
(15,	'resource/update',	'modx-page-settings',	'tab',	'',	'modx-panel-resource',	'',	3),
(16,	'resource/update',	'modx-page-settings-left',	'tab',	'',	'modx-panel-resource',	'',	4),
(17,	'resource/update',	'parent-cmb',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	0),
(18,	'resource/update',	'class_key',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	1),
(19,	'resource/update',	'content_type',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	2),
(20,	'resource/update',	'content_dispo',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	3),
(21,	'resource/update',	'menuindex',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	4),
(22,	'resource/update',	'modx-page-settings-right',	'tab',	'',	'modx-panel-resource',	'',	5),
(23,	'resource/update',	'publishedon',	'field',	'modx-page-settings-right',	'modx-panel-resource',	'',	0),
(24,	'resource/update',	'pub_date',	'field',	'modx-page-settings-right',	'modx-panel-resource',	'',	1),
(25,	'resource/update',	'unpub_date',	'field',	'modx-page-settings-right',	'modx-panel-resource',	'',	2),
(26,	'resource/update',	'modx-page-settings-right-box-left',	'tab',	'',	'modx-panel-resource',	'',	6),
(27,	'resource/update',	'isfolder',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	0),
(28,	'resource/update',	'searchable',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	1),
(29,	'resource/update',	'richtext',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	2),
(30,	'resource/update',	'uri_override',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	3),
(31,	'resource/update',	'uri',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	4),
(32,	'resource/update',	'modx-page-settings-right-box-right',	'tab',	'',	'modx-panel-resource',	'',	7),
(33,	'resource/update',	'cacheable',	'field',	'modx-page-settings-right-box-right',	'modx-panel-resource',	'',	0),
(34,	'resource/update',	'syncsite',	'field',	'modx-page-settings-right-box-right',	'modx-panel-resource',	'',	1),
(35,	'resource/update',	'deleted',	'field',	'modx-page-settings-right-box-right',	'modx-panel-resource',	'',	2),
(36,	'resource/update',	'modx-panel-resource-tv',	'tab',	'',	'modx-panel-resource',	'tv',	8),
(37,	'resource/update',	'modx-resource-access-permissions',	'tab',	'',	'modx-panel-resource',	'',	9),
(38,	'resource/update',	'modx-resource-content',	'field',	'modx-resource-content',	'modx-panel-resource',	'',	0),
(39,	'resource/create',	'modx-resource-settings',	'tab',	'',	'modx-panel-resource',	'',	0),
(40,	'resource/create',	'modx-resource-main-left',	'tab',	'',	'modx-panel-resource',	'',	1),
(41,	'resource/create',	'id',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	0),
(42,	'resource/create',	'pagetitle',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	1),
(43,	'resource/create',	'longtitle',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	2),
(44,	'resource/create',	'description',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	3),
(45,	'resource/create',	'introtext',	'field',	'modx-resource-main-left',	'modx-panel-resource',	'',	4),
(46,	'resource/create',	'modx-resource-main-right',	'tab',	'',	'modx-panel-resource',	'',	2),
(47,	'resource/create',	'template',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	0),
(48,	'resource/create',	'alias',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	1),
(49,	'resource/create',	'menutitle',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	2),
(50,	'resource/create',	'link_attributes',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	3),
(51,	'resource/create',	'hidemenu',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	4),
(52,	'resource/create',	'published',	'field',	'modx-resource-main-right',	'modx-panel-resource',	'',	5),
(53,	'resource/create',	'modx-page-settings',	'tab',	'',	'modx-panel-resource',	'',	3),
(54,	'resource/create',	'modx-page-settings-left',	'tab',	'',	'modx-panel-resource',	'',	4),
(55,	'resource/create',	'parent-cmb',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	0),
(56,	'resource/create',	'class_key',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	1),
(57,	'resource/create',	'content_type',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	2),
(58,	'resource/create',	'content_dispo',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	3),
(59,	'resource/create',	'menuindex',	'field',	'modx-page-settings-left',	'modx-panel-resource',	'',	4),
(60,	'resource/create',	'modx-page-settings-right',	'tab',	'',	'modx-panel-resource',	'',	5),
(61,	'resource/create',	'publishedon',	'field',	'modx-page-settings-right',	'modx-panel-resource',	'',	0),
(62,	'resource/create',	'pub_date',	'field',	'modx-page-settings-right',	'modx-panel-resource',	'',	1),
(63,	'resource/create',	'unpub_date',	'field',	'modx-page-settings-right',	'modx-panel-resource',	'',	2),
(64,	'resource/create',	'modx-page-settings-right-box-left',	'tab',	'',	'modx-panel-resource',	'',	6),
(65,	'resource/create',	'isfolder',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	0),
(66,	'resource/create',	'searchable',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	1),
(67,	'resource/create',	'richtext',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	2),
(68,	'resource/create',	'uri_override',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	3),
(69,	'resource/create',	'uri',	'field',	'modx-page-settings-right-box-left',	'modx-panel-resource',	'',	4),
(70,	'resource/create',	'modx-page-settings-right-box-right',	'tab',	'',	'modx-panel-resource',	'',	7),
(71,	'resource/create',	'cacheable',	'field',	'modx-page-settings-right-box-right',	'modx-panel-resource',	'',	0),
(72,	'resource/create',	'syncsite',	'field',	'modx-page-settings-right-box-right',	'modx-panel-resource',	'',	1),
(73,	'resource/create',	'deleted',	'field',	'modx-page-settings-right-box-right',	'modx-panel-resource',	'',	2),
(74,	'resource/create',	'modx-panel-resource-tv',	'tab',	'',	'modx-panel-resource',	'tv',	8),
(75,	'resource/create',	'modx-resource-access-permissions',	'tab',	'',	'modx-panel-resource',	'',	9),
(76,	'resource/create',	'modx-resource-content',	'field',	'modx-resource-content',	'modx-panel-resource',	'',	0),
(145,	'resource/update',	'cacheable',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	2),
(144,	'resource/update',	'properties[disable_jevix]',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	1),
(143,	'resource/update',	'searchable',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	0),
(142,	'resource/update',	'tickets-box-options',	'tab',	'modx-resource-main-right',	'modx-panel-resource',	'tickets',	11),
(141,	'resource/update',	'alias',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	6),
(140,	'resource/update',	'tickets-combo-section',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	5),
(139,	'resource/update',	'modx-resource-createdby',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	4),
(138,	'resource/update',	'template',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	3),
(137,	'resource/update',	'unpub_date',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	2),
(136,	'resource/update',	'pub_date',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	1),
(135,	'resource/update',	'publishedon',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	0),
(134,	'resource/update',	'tickets-box-publishing-information',	'tab',	'modx-resource-main-right',	'modx-panel-resource',	'tickets',	10),
(133,	'resource/create',	'modx-tickets-comments',	'tab',	'',	'modx-panel-resource',	'tickets',	12),
(132,	'resource/create',	'isfolder',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	8),
(131,	'resource/create',	'hidemenu',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	7),
(130,	'resource/create',	'richtext',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	6),
(129,	'resource/create',	'private',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	5),
(128,	'resource/create',	'published',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	4),
(127,	'resource/create',	'properties[process_tags]',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	3),
(126,	'resource/create',	'cacheable',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	2),
(125,	'resource/create',	'properties[disable_jevix]',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	1),
(124,	'resource/create',	'searchable',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	0),
(123,	'resource/create',	'tickets-box-options',	'tab',	'modx-resource-main-right',	'modx-panel-resource',	'tickets',	11),
(122,	'resource/create',	'alias',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	6),
(121,	'resource/create',	'tickets-combo-section',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	5),
(120,	'resource/create',	'modx-resource-createdby',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	4),
(119,	'resource/create',	'template',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	3),
(118,	'resource/create',	'unpub_date',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	2),
(117,	'resource/create',	'pub_date',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	1),
(116,	'resource/create',	'publishedon',	'field',	'tickets-box-publishing-information',	'modx-panel-resource',	'tickets',	0),
(115,	'resource/create',	'tickets-box-publishing-information',	'tab',	'modx-resource-main-right',	'modx-panel-resource',	'tickets',	10),
(146,	'resource/update',	'properties[process_tags]',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	3),
(147,	'resource/update',	'published',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	4),
(148,	'resource/update',	'private',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	5),
(149,	'resource/update',	'richtext',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	6),
(150,	'resource/update',	'hidemenu',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	7),
(151,	'resource/update',	'isfolder',	'field',	'tickets-box-options',	'modx-panel-resource',	'tickets',	8),
(152,	'resource/update',	'modx-tickets-comments',	'tab',	'',	'modx-panel-resource',	'tickets',	12);

DROP TABLE IF EXISTS `q777_active_users`;
CREATE TABLE `q777_active_users` (
  `internalKey` int(9) NOT NULL DEFAULT '0',
  `username` varchar(50) NOT NULL DEFAULT '',
  `lasthit` int(20) NOT NULL DEFAULT '0',
  `id` int(10) DEFAULT NULL,
  `action` varchar(255) NOT NULL DEFAULT '',
  `ip` varchar(20) NOT NULL DEFAULT '',
  PRIMARY KEY (`internalKey`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_categories`;
CREATE TABLE `q777_categories` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `parent` int(10) unsigned DEFAULT '0',
  `category` varchar(45) NOT NULL DEFAULT '',
  `rank` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `category` (`parent`,`category`),
  KEY `parent` (`parent`),
  KEY `rank` (`rank`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_categories` (`id`, `parent`, `category`, `rank`) VALUES
(1,	0,	'Console',	0),
(2,	0,	'daSite',	0),
(3,	0,	'pdoTools',	0),
(4,	0,	'Tickets',	0),
(5,	0,	'Jevix',	0),
(6,	0,	'FormIt',	0),
(7,	0,	'AjaxForm',	0),
(8,	0,	'TinyMCE Rich Text Editor',	0),
(9,	0,	'MIGX',	0),
(10,	0,	'pThumb',	0),
(11,	0,	'Resizer',	0),
(12,	0,	'simpleUpdater',	0),
(13,	0,	'AdminPanel',	0),
(14,	0,	'debugParser',	0),
(15,	0,	'SEO',	0),
(16,	0,	'Параметры',	0);

DROP TABLE IF EXISTS `q777_categories_closure`;
CREATE TABLE `q777_categories_closure` (
  `ancestor` int(10) unsigned NOT NULL DEFAULT '0',
  `descendant` int(10) unsigned NOT NULL DEFAULT '0',
  `depth` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`ancestor`,`descendant`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_categories_closure` (`ancestor`, `descendant`, `depth`) VALUES
(1,	1,	0),
(0,	1,	0),
(2,	2,	0),
(0,	2,	0),
(3,	3,	0),
(0,	3,	0),
(4,	4,	0),
(0,	4,	0),
(5,	5,	0),
(0,	5,	0),
(6,	6,	0),
(0,	6,	0),
(7,	7,	0),
(0,	7,	0),
(8,	8,	0),
(0,	8,	0),
(9,	9,	0),
(0,	9,	0),
(10,	10,	0),
(0,	10,	0),
(11,	11,	0),
(0,	11,	0),
(12,	12,	0),
(0,	12,	0),
(13,	13,	0),
(0,	13,	0),
(14,	14,	0),
(0,	14,	0),
(15,	15,	0),
(0,	15,	0),
(16,	16,	0),
(0,	16,	0);

DROP TABLE IF EXISTS `q777_class_map`;
CREATE TABLE `q777_class_map` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `class` varchar(120) NOT NULL DEFAULT '',
  `parent_class` varchar(120) NOT NULL DEFAULT '',
  `name_field` varchar(255) NOT NULL DEFAULT 'name',
  `path` tinytext,
  `lexicon` varchar(255) NOT NULL DEFAULT 'core:resource',
  PRIMARY KEY (`id`),
  UNIQUE KEY `class` (`class`),
  KEY `parent_class` (`parent_class`),
  KEY `name_field` (`name_field`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_class_map` (`id`, `class`, `parent_class`, `name_field`, `path`, `lexicon`) VALUES
(1,	'modDocument',	'modResource',	'pagetitle',	'',	'core:resource'),
(2,	'modWebLink',	'modResource',	'pagetitle',	'',	'core:resource'),
(3,	'modSymLink',	'modResource',	'pagetitle',	'',	'core:resource'),
(4,	'modStaticResource',	'modResource',	'pagetitle',	'',	'core:resource'),
(5,	'modTemplate',	'modElement',	'templatename',	'',	'core:resource'),
(6,	'modTemplateVar',	'modElement',	'name',	'',	'core:resource'),
(7,	'modChunk',	'modElement',	'name',	'',	'core:resource'),
(8,	'modSnippet',	'modElement',	'name',	'',	'core:resource'),
(9,	'modPlugin',	'modElement',	'name',	'',	'core:resource');

DROP TABLE IF EXISTS `q777_content_type`;
CREATE TABLE `q777_content_type` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `description` tinytext,
  `mime_type` tinytext,
  `file_extensions` tinytext,
  `headers` mediumtext,
  `binary` tinyint(1) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_content_type` (`id`, `name`, `description`, `mime_type`, `file_extensions`, `headers`, `binary`) VALUES
(1,	'HTML',	'HTML content',	'text/html',	'',	NULL,	0),
(2,	'XML',	'XML content',	'text/xml',	'.xml',	NULL,	0),
(3,	'text',	'plain text content',	'text/plain',	'.txt',	NULL,	0),
(4,	'CSS',	'CSS content',	'text/css',	'.css',	NULL,	0),
(5,	'javascript',	'javascript content',	'text/javascript',	'.js',	NULL,	0),
(6,	'RSS',	'For RSS feeds',	'application/rss+xml',	'.rss',	NULL,	0),
(7,	'JSON',	'JSON',	'application/json',	'.json',	NULL,	0),
(8,	'PDF',	'PDF Files',	'application/pdf',	'.pdf',	NULL,	1);

DROP TABLE IF EXISTS `q777_context`;
CREATE TABLE `q777_context` (
  `key` varchar(100) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `description` tinytext,
  `rank` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`key`),
  KEY `name` (`name`),
  KEY `rank` (`rank`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_context` (`key`, `name`, `description`, `rank`) VALUES
('web',	'Website',	'The default front-end context for your web site.',	0),
('mgr',	'Manager',	'The default manager or administration context for content management activity.',	0);

DROP TABLE IF EXISTS `q777_context_resource`;
CREATE TABLE `q777_context_resource` (
  `context_key` varchar(255) NOT NULL,
  `resource` int(11) unsigned NOT NULL,
  PRIMARY KEY (`context_key`,`resource`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_context_setting`;
CREATE TABLE `q777_context_setting` (
  `context_key` varchar(255) NOT NULL,
  `key` varchar(50) NOT NULL,
  `value` mediumtext,
  `xtype` varchar(75) NOT NULL DEFAULT 'textfield',
  `namespace` varchar(40) NOT NULL DEFAULT 'core',
  `area` varchar(255) NOT NULL DEFAULT '',
  `editedon` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`context_key`,`key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_context_setting` (`context_key`, `key`, `value`, `xtype`, `namespace`, `area`, `editedon`) VALUES
('mgr',	'allow_tags_in_post',	'1',	'combo-boolean',	'core',	'system',	NULL),
('mgr',	'modRequest.class',	'modManagerRequest',	'textfield',	'core',	'system',	NULL);

DROP TABLE IF EXISTS `q777_dashboard`;
CREATE TABLE `q777_dashboard` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` text,
  `hide_trees` tinyint(1) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `name` (`name`),
  KEY `hide_trees` (`hide_trees`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_dashboard` (`id`, `name`, `description`, `hide_trees`) VALUES
(1,	'Default',	'',	0);

DROP TABLE IF EXISTS `q777_dashboard_widget`;
CREATE TABLE `q777_dashboard_widget` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` text,
  `type` varchar(100) NOT NULL,
  `content` mediumtext,
  `namespace` varchar(255) NOT NULL DEFAULT '',
  `lexicon` varchar(255) NOT NULL DEFAULT 'core:dashboards',
  `size` varchar(255) NOT NULL DEFAULT 'half',
  PRIMARY KEY (`id`),
  KEY `name` (`name`),
  KEY `type` (`type`),
  KEY `namespace` (`namespace`),
  KEY `lexicon` (`lexicon`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_dashboard_widget` (`id`, `name`, `description`, `type`, `content`, `namespace`, `lexicon`, `size`) VALUES
(1,	'w_newsfeed',	'w_newsfeed_desc',	'file',	'[[++manager_path]]controllers/default/dashboard/widget.modx-news.php',	'core',	'core:dashboards',	'half'),
(2,	'w_securityfeed',	'w_securityfeed_desc',	'file',	'[[++manager_path]]controllers/default/dashboard/widget.modx-security.php',	'core',	'core:dashboards',	'half'),
(3,	'w_whosonline',	'w_whosonline_desc',	'file',	'[[++manager_path]]controllers/default/dashboard/widget.grid-online.php',	'core',	'core:dashboards',	'half'),
(4,	'w_recentlyeditedresources',	'w_recentlyeditedresources_desc',	'file',	'[[++manager_path]]controllers/default/dashboard/widget.grid-rer.php',	'core',	'core:dashboards',	'half'),
(5,	'w_configcheck',	'w_configcheck_desc',	'file',	'[[++manager_path]]controllers/default/dashboard/widget.configcheck.php',	'core',	'core:dashboards',	'full');

DROP TABLE IF EXISTS `q777_dashboard_widget_placement`;
CREATE TABLE `q777_dashboard_widget_placement` (
  `dashboard` int(10) unsigned NOT NULL DEFAULT '0',
  `widget` int(10) unsigned NOT NULL DEFAULT '0',
  `rank` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`dashboard`,`widget`),
  KEY `rank` (`rank`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_dashboard_widget_placement` (`dashboard`, `widget`, `rank`) VALUES
(1,	5,	0),
(1,	1,	1),
(1,	2,	2),
(1,	3,	3),
(1,	4,	4);

DROP TABLE IF EXISTS `q777_documentgroup_names`;
CREATE TABLE `q777_documentgroup_names` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `private_memgroup` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `private_webgroup` tinyint(1) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_document_groups`;
CREATE TABLE `q777_document_groups` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `document_group` int(10) NOT NULL DEFAULT '0',
  `document` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `document_group` (`document_group`),
  KEY `document` (`document`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_element_property_sets`;
CREATE TABLE `q777_element_property_sets` (
  `element` int(10) unsigned NOT NULL DEFAULT '0',
  `element_class` varchar(100) NOT NULL DEFAULT '',
  `property_set` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`element`,`element_class`,`property_set`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_element_property_sets` (`element`, `element_class`, `property_set`) VALUES
(19,	'modSnippet',	1),
(19,	'modSnippet',	2);

DROP TABLE IF EXISTS `q777_extension_packages`;
CREATE TABLE `q777_extension_packages` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `namespace` varchar(40) NOT NULL DEFAULT 'core',
  `name` varchar(100) NOT NULL DEFAULT 'core',
  `path` text,
  `table_prefix` varchar(255) NOT NULL DEFAULT '',
  `service_class` varchar(255) NOT NULL DEFAULT '',
  `service_name` varchar(255) NOT NULL DEFAULT '',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `namespace` (`namespace`),
  KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_fc_profiles`;
CREATE TABLE `q777_fc_profiles` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` text NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '0',
  `rank` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `name` (`name`),
  KEY `rank` (`rank`),
  KEY `active` (`active`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_fc_profiles_usergroups`;
CREATE TABLE `q777_fc_profiles_usergroups` (
  `usergroup` int(11) NOT NULL DEFAULT '0',
  `profile` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`usergroup`,`profile`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_fc_sets`;
CREATE TABLE `q777_fc_sets` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `profile` int(11) NOT NULL DEFAULT '0',
  `action` varchar(255) NOT NULL DEFAULT '',
  `description` text NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '0',
  `template` int(11) NOT NULL DEFAULT '0',
  `constraint` varchar(255) NOT NULL DEFAULT '',
  `constraint_field` varchar(100) NOT NULL DEFAULT '',
  `constraint_class` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `profile` (`profile`),
  KEY `action` (`action`),
  KEY `active` (`active`),
  KEY `template` (`template`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_formit_forms`;
CREATE TABLE `q777_formit_forms` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `form` varchar(255) NOT NULL DEFAULT '',
  `context_key` varchar(100) NOT NULL DEFAULT '',
  `values` text NOT NULL,
  `ip` varchar(15) NOT NULL DEFAULT '',
  `date` int(11) NOT NULL DEFAULT '0',
  `encrypted` tinyint(1) NOT NULL DEFAULT '0',
  `encryption_type` int(2) NOT NULL DEFAULT '1',
  `hash` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_lexicon_entries`;
CREATE TABLE `q777_lexicon_entries` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `value` text NOT NULL,
  `topic` varchar(255) NOT NULL DEFAULT 'default',
  `namespace` varchar(40) NOT NULL DEFAULT 'core',
  `language` varchar(20) NOT NULL DEFAULT 'en',
  `createdon` datetime DEFAULT NULL,
  `editedon` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `name` (`name`),
  KEY `topic` (`topic`),
  KEY `namespace` (`namespace`),
  KEY `language` (`language`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_manager_log`;
CREATE TABLE `q777_manager_log` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user` int(10) unsigned NOT NULL DEFAULT '0',
  `occurred` datetime DEFAULT NULL,
  `action` varchar(100) NOT NULL DEFAULT '',
  `classKey` varchar(100) NOT NULL DEFAULT '',
  `item` varchar(255) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `user_occurred` (`user`,`occurred`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_manager_log` (`id`, `user`, `occurred`, `action`, `classKey`, `item`) VALUES
(1,	1,	'2017-08-29 12:24:47',	'login',	'modContext',	'mgr'),
(2,	1,	'2017-08-29 12:51:47',	'provider_create',	'transport.modTransportProvider',	'2'),
(3,	1,	'2017-09-03 14:19:56',	'login',	'modContext',	'mgr'),
(4,	1,	'2017-09-03 14:32:29',	'file_update',	'',	'/var/www/public/daSite/_build/resolvers/resolve.setup.php'),
(5,	1,	'2017-09-03 14:33:55',	'package_install',	'transport.modTransportPackage',	'unknown'),
(6,	1,	'2017-09-03 14:36:11',	'template_update',	'modTemplate',	'1'),
(7,	1,	'2017-09-03 14:36:11',	'propertyset_update_from_element',	'modTemplate',	'1'),
(8,	1,	'2017-09-03 14:36:16',	'template_duplicate',	'modTemplate',	'2'),
(9,	1,	'2017-09-03 14:36:26',	'template_update',	'modTemplate',	'2'),
(10,	1,	'2017-09-03 14:36:26',	'propertyset_update_from_element',	'modTemplate',	'2'),
(11,	1,	'2017-09-03 15:09:11',	'template_update',	'modTemplate',	'2'),
(12,	1,	'2017-09-03 15:09:11',	'propertyset_update_from_element',	'modTemplate',	'2'),
(13,	1,	'2017-09-03 15:59:11',	'resource_update',	'modResource',	'1'),
(14,	1,	'2017-09-03 15:59:13',	'resource_update',	'modResource',	'1'),
(15,	1,	'2017-09-03 15:59:22',	'resource_update',	'modResource',	'1'),
(16,	1,	'2017-09-03 15:59:24',	'resource_update',	'modResource',	'1'),
(17,	1,	'2017-09-03 17:15:42',	'resource_update',	'modResource',	'1'),
(18,	1,	'2017-09-03 20:27:09',	'resource_update',	'modResource',	'1'),
(19,	1,	'2017-09-04 06:28:01',	'login',	'modContext',	'mgr'),
(20,	1,	'2017-09-04 14:45:11',	'login',	'modContext',	'mgr'),
(21,	1,	'2017-09-07 12:18:05',	'login',	'modContext',	'mgr');

DROP TABLE IF EXISTS `q777_media_sources`;
CREATE TABLE `q777_media_sources` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` text,
  `class_key` varchar(100) NOT NULL DEFAULT 'sources.modFileMediaSource',
  `properties` mediumtext,
  `is_stream` tinyint(1) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  KEY `name` (`name`),
  KEY `class_key` (`class_key`),
  KEY `is_stream` (`is_stream`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_media_sources` (`id`, `name`, `description`, `class_key`, `properties`, `is_stream`) VALUES
(1,	'Filesystem',	'',	'sources.modFileMediaSource',	'a:0:{}',	1),
(2,	'Tickets Files',	'Default media source for files of tickets',	'sources.modFileMediaSource',	'a:10:{s:8:\"basePath\";a:5:{s:4:\"name\";s:8:\"basePath\";s:4:\"desc\";s:23:\"prop_file.basePath_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"lexicon\";s:11:\"core:source\";s:5:\"value\";s:22:\"assets/images/tickets/\";}s:7:\"baseUrl\";a:5:{s:4:\"name\";s:7:\"baseUrl\";s:4:\"desc\";s:22:\"prop_file.baseUrl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"lexicon\";s:11:\"core:source\";s:5:\"value\";s:22:\"assets/images/tickets/\";}s:15:\"imageExtensions\";a:5:{s:4:\"name\";s:15:\"imageExtensions\";s:4:\"desc\";s:30:\"prop_file.imageExtensions_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"lexicon\";s:11:\"core:source\";s:5:\"value\";s:16:\"jpg,jpeg,png,gif\";}s:16:\"allowedFileTypes\";a:5:{s:4:\"name\";s:16:\"allowedFileTypes\";s:4:\"desc\";s:31:\"prop_file.allowedFileTypes_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"lexicon\";s:11:\"core:source\";s:5:\"value\";s:16:\"jpg,jpeg,png,gif\";}s:13:\"thumbnailType\";a:6:{s:4:\"name\";s:13:\"thumbnailType\";s:4:\"desc\";s:28:\"prop_file.thumbnailType_desc\";s:4:\"type\";s:4:\"list\";s:7:\"lexicon\";s:11:\"core:source\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"Png\";s:5:\"value\";s:3:\"png\";}i:1;a:2:{s:4:\"text\";s:3:\"Jpg\";s:5:\"value\";s:3:\"jpg\";}}s:5:\"value\";s:3:\"jpg\";}s:10:\"thumbnails\";a:5:{s:4:\"name\";s:10:\"thumbnails\";s:4:\"desc\";s:30:\"tickets.source_thumbnails_desc\";s:4:\"type\";s:8:\"textarea\";s:7:\"lexicon\";s:15:\"tickets:setting\";s:5:\"value\";s:56:\"{\"thumb\":{\"w\":120,\"h\":90,\"q\":90,\"zc\":\"1\",\"bg\":\"000000\"}}\";}s:14:\"maxUploadWidth\";a:5:{s:4:\"name\";s:14:\"maxUploadWidth\";s:4:\"desc\";s:34:\"tickets.source_maxUploadWidth_desc\";s:4:\"type\";s:11:\"numberfield\";s:7:\"lexicon\";s:15:\"tickets:setting\";s:5:\"value\";i:1920;}s:15:\"maxUploadHeight\";a:5:{s:4:\"name\";s:15:\"maxUploadHeight\";s:4:\"desc\";s:35:\"tickets.source_maxUploadHeight_desc\";s:4:\"type\";s:11:\"numberfield\";s:7:\"lexicon\";s:15:\"tickets:setting\";s:5:\"value\";i:1080;}s:13:\"maxUploadSize\";a:5:{s:4:\"name\";s:13:\"maxUploadSize\";s:4:\"desc\";s:33:\"tickets.source_maxUploadSize_desc\";s:4:\"type\";s:11:\"numberfield\";s:7:\"lexicon\";s:15:\"tickets:setting\";s:5:\"value\";i:3145728;}s:13:\"imageNameType\";a:6:{s:4:\"name\";s:13:\"imageNameType\";s:4:\"desc\";s:33:\"tickets.source_imageNameType_desc\";s:4:\"type\";s:4:\"list\";s:7:\"lexicon\";s:15:\"tickets:setting\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:4:\"Hash\";s:5:\"value\";s:4:\"hash\";}i:1;a:2:{s:4:\"text\";s:8:\"Friendly\";s:5:\"value\";s:8:\"friendly\";}}s:5:\"value\";s:4:\"hash\";}}',	1);

DROP TABLE IF EXISTS `q777_media_sources_contexts`;
CREATE TABLE `q777_media_sources_contexts` (
  `source` int(11) NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT 'web',
  PRIMARY KEY (`source`,`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_media_sources_elements`;
CREATE TABLE `q777_media_sources_elements` (
  `source` int(11) unsigned NOT NULL DEFAULT '0',
  `object_class` varchar(100) NOT NULL DEFAULT 'modTemplateVar',
  `object` int(11) unsigned NOT NULL DEFAULT '0',
  `context_key` varchar(100) NOT NULL DEFAULT 'web',
  PRIMARY KEY (`source`,`object`,`object_class`,`context_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_membergroup_names`;
CREATE TABLE `q777_membergroup_names` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `description` text,
  `parent` int(10) unsigned NOT NULL DEFAULT '0',
  `rank` int(10) unsigned NOT NULL DEFAULT '0',
  `dashboard` int(10) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `parent` (`parent`),
  KEY `rank` (`rank`),
  KEY `dashboard` (`dashboard`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_membergroup_names` (`id`, `name`, `description`, `parent`, `rank`, `dashboard`) VALUES
(1,	'Administrator',	NULL,	0,	0,	1);

DROP TABLE IF EXISTS `q777_member_groups`;
CREATE TABLE `q777_member_groups` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_group` int(10) unsigned NOT NULL DEFAULT '0',
  `member` int(10) unsigned NOT NULL DEFAULT '0',
  `role` int(10) unsigned NOT NULL DEFAULT '1',
  `rank` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `role` (`role`),
  KEY `rank` (`rank`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_member_groups` (`id`, `user_group`, `member`, `role`, `rank`) VALUES
(1,	1,	1,	2,	0);

DROP TABLE IF EXISTS `q777_menus`;
CREATE TABLE `q777_menus` (
  `text` varchar(255) NOT NULL DEFAULT '',
  `parent` varchar(255) NOT NULL DEFAULT '',
  `action` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `icon` varchar(255) NOT NULL DEFAULT '',
  `menuindex` int(11) unsigned NOT NULL DEFAULT '0',
  `params` text NOT NULL,
  `handler` text NOT NULL,
  `permissions` text NOT NULL,
  `namespace` varchar(100) NOT NULL DEFAULT 'core',
  PRIMARY KEY (`text`),
  KEY `parent` (`parent`),
  KEY `action` (`action`),
  KEY `namespace` (`namespace`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_menus` (`text`, `parent`, `action`, `description`, `icon`, `menuindex`, `params`, `handler`, `permissions`, `namespace`) VALUES
('topnav',	'',	'',	'topnav_desc',	'',	0,	'',	'',	'',	'core'),
('site',	'topnav',	'',	'',	'',	0,	'',	'',	'menu_site',	'core'),
('new_resource',	'site',	'resource/create',	'new_resource_desc',	'',	0,	'',	'',	'new_document',	'core'),
('preview',	'site',	'',	'preview_desc',	'',	4,	'',	'MODx.preview(); return false;',	'',	'core'),
('import_site',	'site',	'system/import/html',	'import_site_desc',	'',	5,	'',	'',	'import_static',	'core'),
('import_resources',	'site',	'system/import',	'import_resources_desc',	'',	6,	'',	'',	'import_static',	'core'),
('resource_groups',	'site',	'security/resourcegroup',	'resource_groups_desc',	'',	7,	'',	'',	'access_permissions',	'core'),
('content_types',	'site',	'system/contenttype',	'content_types_desc',	'',	8,	'',	'',	'content_types',	'core'),
('media',	'topnav',	'',	'media_desc',	'',	1,	'',	'',	'file_manager',	'core'),
('file_browser',	'media',	'media/browser',	'file_browser_desc',	'',	0,	'',	'',	'file_manager',	'core'),
('sources',	'media',	'source',	'sources_desc',	'',	1,	'',	'',	'sources',	'core'),
('components',	'topnav',	'',	'',	'',	2,	'',	'',	'components',	'core'),
('installer',	'components',	'workspaces',	'installer_desc',	'',	0,	'',	'',	'packages',	'core'),
('manage',	'topnav',	'',	'',	'',	3,	'',	'',	'menu_tools',	'core'),
('users',	'manage',	'security/user',	'user_management_desc',	'',	0,	'',	'',	'view_user',	'core'),
('refresh_site',	'manage',	'',	'refresh_site_desc',	'',	1,	'',	'MODx.clearCache(); return false;',	'empty_cache',	'core'),
('refreshuris',	'refresh_site',	'',	'refreshuris_desc',	'',	0,	'',	'MODx.refreshURIs(); return false;',	'empty_cache',	'core'),
('remove_locks',	'manage',	'',	'remove_locks_desc',	'',	2,	'',	'\nMODx.msg.confirm({\n    title: _(\'remove_locks\')\n    ,text: _(\'confirm_remove_locks\')\n    ,url: MODx.config.connectors_url\n    ,params: {\n        action: \'system/remove_locks\'\n    }\n    ,listeners: {\n        \'success\': {fn:function() {\n            var tree = Ext.getCmp(\"modx-resource-tree\");\n            if (tree && tree.rendered) {\n                tree.refresh();\n            }\n         },scope:this}\n    }\n});',	'remove_locks',	'core'),
('flush_access',	'manage',	'',	'flush_access_desc',	'',	3,	'',	'MODx.msg.confirm({\n    title: _(\'flush_access\')\n    ,text: _(\'flush_access_confirm\')\n    ,url: MODx.config.connector_url\n    ,params: {\n        action: \'security/access/flush\'\n    }\n    ,listeners: {\n        \'success\': {fn:function() { location.href = \'./\'; },scope:this}\n    }\n});',	'access_permissions',	'core'),
('flush_sessions',	'manage',	'',	'flush_sessions_desc',	'',	4,	'',	'MODx.msg.confirm({\n    title: _(\'flush_sessions\')\n    ,text: _(\'flush_sessions_confirm\')\n    ,url: MODx.config.connector_url\n    ,params: {\n        action: \'security/flush\'\n    }\n    ,listeners: {\n        \'success\': {fn:function() { location.href = \'./\'; },scope:this}\n    }\n});',	'flush_sessions',	'core'),
('reports',	'manage',	'',	'reports_desc',	'',	5,	'',	'',	'menu_reports',	'core'),
('site_schedule',	'reports',	'resource/site_schedule',	'site_schedule_desc',	'',	0,	'',	'',	'view_document',	'core'),
('view_logging',	'reports',	'system/logs',	'view_logging_desc',	'',	1,	'',	'',	'logs',	'core'),
('eventlog_viewer',	'reports',	'system/event',	'eventlog_viewer_desc',	'',	2,	'',	'',	'view_eventlog',	'core'),
('view_sysinfo',	'reports',	'system/info',	'view_sysinfo_desc',	'',	3,	'',	'',	'view_sysinfo',	'core'),
('usernav',	'',	'',	'usernav_desc',	'',	0,	'',	'',	'',	'core'),
('user',	'usernav',	'',	'',	'<span id=\"user-avatar\">{$userImage}</span> <span id=\"user-username\">{$username}</span>',	5,	'',	'',	'menu_user',	'core'),
('profile',	'user',	'security/profile',	'profile_desc',	'',	0,	'',	'',	'change_profile',	'core'),
('messages',	'user',	'security/message',	'messages_desc',	'',	1,	'',	'',	'messages',	'core'),
('logout',	'user',	'security/logout',	'logout_desc',	'',	2,	'',	'MODx.logout(); return false;',	'logout',	'core'),
('admin',	'usernav',	'',	'',	'<i class=\"icon-gear icon icon-large\"></i>',	6,	'',	'',	'settings',	'core'),
('system_settings',	'admin',	'system/settings',	'system_settings_desc',	'',	0,	'',	'',	'settings',	'core'),
('bespoke_manager',	'admin',	'security/forms',	'bespoke_manager_desc',	'',	1,	'',	'',	'customize_forms',	'core'),
('dashboards',	'admin',	'system/dashboards',	'dashboards_desc',	'',	2,	'',	'',	'dashboards',	'core'),
('contexts',	'admin',	'context',	'contexts_desc',	'',	3,	'',	'',	'view_context',	'core'),
('edit_menu',	'admin',	'system/action',	'edit_menu_desc',	'',	4,	'',	'',	'actions',	'core'),
('acls',	'admin',	'security/permission',	'acls_desc',	'',	5,	'',	'',	'access_permissions',	'core'),
('propertysets',	'admin',	'element/propertyset',	'propertysets_desc',	'',	6,	'',	'',	'property_sets',	'core'),
('lexicon_management',	'admin',	'workspaces/lexicon',	'lexicon_management_desc',	'',	7,	'',	'',	'lexicons',	'core'),
('namespaces',	'admin',	'workspaces/namespace',	'namespaces_desc',	'',	8,	'',	'',	'namespaces',	'core'),
('about',	'usernav',	'help',	'',	'<i class=\"icon-question-circle icon icon-large\"></i>',	7,	'',	'',	'help',	'core'),
('console',	'components',	'1',	'console_desc',	'images/icons/plugin.gif',	0,	'',	'',	'console',	'core'),
('tickets',	'components',	'home',	'ticket_menu_desc',	'<i class=\"icon icon-large icon-comments-0\"></i>',	0,	'',	'',	'',	'tickets'),
('formit',	'components',	'2',	'formit.menu_desc',	'',	0,	'',	'',	'',	'core'),
('migx',	'components',	'index',	'',	'',	0,	'&configs=packagemanager||migxconfigs||setup',	'',	'',	'migx'),
('simpleupdater',	'components',	'4',	'simpleupdater_menu_desc',	'images/icons/plugin.gif',	0,	'',	'',	'',	'core');

DROP TABLE IF EXISTS `q777_migx_configs`;
CREATE TABLE `q777_migx_configs` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL DEFAULT '',
  `formtabs` text NOT NULL,
  `contextmenus` text NOT NULL,
  `actionbuttons` text NOT NULL,
  `columnbuttons` text NOT NULL,
  `filters` text NOT NULL,
  `extended` text NOT NULL,
  `columns` text NOT NULL,
  `createdby` int(10) NOT NULL DEFAULT '0',
  `createdon` datetime DEFAULT NULL,
  `editedby` int(10) NOT NULL DEFAULT '0',
  `editedon` datetime DEFAULT NULL,
  `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deletedon` datetime DEFAULT NULL,
  `deletedby` int(10) NOT NULL DEFAULT '0',
  `published` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `publishedon` datetime DEFAULT NULL,
  `publishedby` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_migx_config_elements`;
CREATE TABLE `q777_migx_config_elements` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `config_id` int(10) NOT NULL DEFAULT '0',
  `element_id` int(10) NOT NULL DEFAULT '0',
  `rank` int(10) NOT NULL DEFAULT '0',
  `createdby` int(10) NOT NULL DEFAULT '0',
  `createdon` datetime NOT NULL,
  `editedby` int(10) NOT NULL DEFAULT '0',
  `editedon` datetime NOT NULL,
  `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deletedon` datetime NOT NULL,
  `deletedby` int(10) NOT NULL DEFAULT '0',
  `published` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `publishedon` datetime NOT NULL,
  `publishedby` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_migx_elements`;
CREATE TABLE `q777_migx_elements` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `type` varchar(100) NOT NULL DEFAULT '',
  `content` text NOT NULL,
  `createdby` int(10) NOT NULL DEFAULT '0',
  `createdon` datetime NOT NULL,
  `editedby` int(10) NOT NULL DEFAULT '0',
  `editedon` datetime NOT NULL,
  `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deletedon` datetime NOT NULL,
  `deletedby` int(10) NOT NULL DEFAULT '0',
  `published` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `publishedon` datetime NOT NULL,
  `publishedby` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_migx_formtabs`;
CREATE TABLE `q777_migx_formtabs` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `config_id` int(10) NOT NULL DEFAULT '0',
  `caption` varchar(255) NOT NULL DEFAULT '',
  `pos` int(10) NOT NULL DEFAULT '0',
  `print_before_tabs` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `extended` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `config_id` (`config_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_migx_formtab_fields`;
CREATE TABLE `q777_migx_formtab_fields` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `config_id` int(10) NOT NULL DEFAULT '0',
  `formtab_id` int(10) NOT NULL DEFAULT '0',
  `field` varchar(255) NOT NULL DEFAULT '',
  `caption` varchar(255) NOT NULL DEFAULT '',
  `description` text NOT NULL,
  `pos` int(10) NOT NULL DEFAULT '0',
  `description_is_code` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `inputTV` varchar(255) NOT NULL DEFAULT '',
  `inputTVtype` varchar(255) NOT NULL DEFAULT '',
  `validation` text NOT NULL,
  `configs` varchar(255) NOT NULL DEFAULT '',
  `restrictive_condition` text NOT NULL,
  `display` varchar(255) NOT NULL DEFAULT '',
  `sourceFrom` varchar(255) NOT NULL DEFAULT '',
  `sources` varchar(255) NOT NULL DEFAULT '',
  `inputOptionValues` text NOT NULL,
  `default` text NOT NULL,
  `extended` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `config_id` (`config_id`),
  KEY `formtab_id` (`formtab_id`),
  KEY `field` (`field`),
  KEY `pos` (`pos`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_namespaces`;
CREATE TABLE `q777_namespaces` (
  `name` varchar(40) NOT NULL DEFAULT '',
  `path` text,
  `assets_path` text,
  PRIMARY KEY (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_namespaces` (`name`, `path`, `assets_path`) VALUES
('core',	'{core_path}',	'{assets_path}'),
('console',	'{core_path}components/console/',	'{assets_path}components/console/'),
('dasite',	'{core_path}components/dasite/',	''),
('pdotools',	'{core_path}components/pdotools/',	''),
('ytranslit',	'{core_path}components/ytranslit/',	''),
('tickets',	'{core_path}components/tickets/',	''),
('jevix',	'{core_path}components/jevix/',	''),
('formit',	'{core_path}components/formit/',	'{assets_path}components/formit/'),
('ajaxform',	'{core_path}components/ajaxform/',	''),
('ace',	'{core_path}components/ace/',	''),
('tinymcerte',	'{core_path}components/tinymcerte/',	'{assets_path}components/tinymcerte/'),
('migx',	'{core_path}components/migx/',	'{assets_path}components/migx/'),
('fastuploadtv',	'{core_path}components/fastuploadtv/',	''),
('phpthumbof',	'{core_path}components/phpthumbof/',	'{assets_path}components/phpthumbof/'),
('resizer',	'{core_path}components/resizer/',	'{assets_path}components/resizer/'),
('simpleupdater',	'{core_path}components/simpleupdater/',	''),
('adminpanel',	'{core_path}components/adminpanel/',	''),
('debugparser',	'{core_path}components/debugparser/',	'');

DROP TABLE IF EXISTS `q777_property_set`;
CREATE TABLE `q777_property_set` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL DEFAULT '',
  `category` int(10) NOT NULL DEFAULT '0',
  `description` varchar(255) NOT NULL DEFAULT '',
  `properties` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `category` (`category`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_property_set` (`id`, `name`, `category`, `description`, `properties`) VALUES
(1,	'Ticket',	0,	'Filter rules for Tickets',	'a:6:{s:17:\"cfgAllowTagParams\";a:7:{s:4:\"name\";s:17:\"cfgAllowTagParams\";s:4:\"desc\";s:17:\"cfgAllowTagParams\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:221:\"{\"pre\":{\"class\":[\"prettyprint\"]},\"cut\":{\"title\":[\"#text\"]},\"a\":[\"title\",\"href\"],\"img\":{\"0\":\"src\",\"alt\":\"#text\",\"1\":\"title\",\"align\":[\"right\",\"left\",\"center\"],\"width\":\"#int\",\"height\":\"#int\",\"hspace\":\"#int\",\"vspace\":\"#int\"}}\";}s:12:\"cfgAllowTags\";a:7:{s:4:\"name\";s:12:\"cfgAllowTags\";s:4:\"desc\";s:12:\"cfgAllowTags\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:119:\"a,img,i,b,u,em,strong,li,ol,ul,sup,abbr,acronym,h1,h2,h3,h4,h5,h6,cut,br,pre,code,kbd,s,blockquote,table,tr,th,td,video\";}s:15:\"cfgSetTagChilds\";a:7:{s:4:\"name\";s:15:\"cfgSetTagChilds\";s:4:\"desc\";s:15:\"cfgSetTagChilds\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:109:\"[[\"ul\",[\"li\"],false,true],[\"ol\",[\"li\"],false,true],[\"table\",[\"tr\"],false,true],[\"tr\",[\"td\",\"th\"],false,true]]\";}s:17:\"cfgSetAutoReplace\";a:7:{s:4:\"name\";s:17:\"cfgSetAutoReplace\";s:4:\"desc\";s:17:\"cfgSetAutoReplace\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:136:\"[[\"+/-\",\"(c)\",\"(с)\",\"(r)\",\"(C)\",\"(С)\",\"(R)\",\"<code\",\"code>\"],[\"±\",\"©\",\"©\",\"®\",\"©\",\"©\",\"®\",\"<pre class=\\\"prettyprint\\\"\",\"pre>\"]]\";}s:14:\"cfgSetTagShort\";a:7:{s:4:\"name\";s:14:\"cfgSetTagShort\";s:4:\"desc\";s:14:\"cfgSetTagShort\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:10:\"br,img,cut\";}s:21:\"cfgSetTagPreformatted\";a:7:{s:4:\"name\";s:21:\"cfgSetTagPreformatted\";s:4:\"desc\";s:21:\"cfgSetTagPreformatted\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:12:\"pre,code,kbd\";}}'),
(2,	'Comment',	0,	'Filter rules for Tickets comments',	'a:6:{s:17:\"cfgAllowTagParams\";a:7:{s:4:\"name\";s:17:\"cfgAllowTagParams\";s:4:\"desc\";s:17:\"cfgAllowTagParams\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:195:\"{\"pre\":{\"class\":[\"prettyprint\"]},\"a\":[\"title\",\"href\"],\"img\":{\"0\":\"src\",\"alt\":\"#text\",\"1\":\"title\",\"align\":[\"right\",\"left\",\"center\"],\"width\":\"#int\",\"height\":\"#int\",\"hspace\":\"#int\",\"vspace\":\"#int\"}}\";}s:12:\"cfgAllowTags\";a:7:{s:4:\"name\";s:12:\"cfgAllowTags\";s:4:\"desc\";s:12:\"cfgAllowTags\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:76:\"a,img,i,b,u,em,strong,li,ol,ul,sup,abbr,acronym,br,pre,code,kbd,s,blockquote\";}s:15:\"cfgSetTagChilds\";a:7:{s:4:\"name\";s:15:\"cfgSetTagChilds\";s:4:\"desc\";s:15:\"cfgSetTagChilds\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:51:\"[[\"ul\",[\"li\"],false,true],[\"ol\",[\"li\"],false,true]]\";}s:17:\"cfgSetAutoReplace\";a:7:{s:4:\"name\";s:17:\"cfgSetAutoReplace\";s:4:\"desc\";s:17:\"cfgSetAutoReplace\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:136:\"[[\"+/-\",\"(c)\",\"(с)\",\"(r)\",\"(C)\",\"(С)\",\"(R)\",\"<code\",\"code>\"],[\"±\",\"©\",\"©\",\"®\",\"©\",\"©\",\"®\",\"<pre class=\\\"prettyprint\\\"\",\"pre>\"]]\";}s:14:\"cfgSetTagShort\";a:7:{s:4:\"name\";s:14:\"cfgSetTagShort\";s:4:\"desc\";s:14:\"cfgSetTagShort\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:6:\"br,img\";}s:21:\"cfgSetTagPreformatted\";a:7:{s:4:\"name\";s:21:\"cfgSetTagPreformatted\";s:4:\"desc\";s:21:\"cfgSetTagPreformatted\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";s:5:\"value\";s:12:\"pre,code,kbd\";}}');

DROP TABLE IF EXISTS `q777_register_messages`;
CREATE TABLE `q777_register_messages` (
  `topic` int(10) unsigned NOT NULL,
  `id` varchar(255) NOT NULL,
  `created` datetime NOT NULL,
  `valid` datetime NOT NULL,
  `accessed` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `accesses` int(10) unsigned NOT NULL DEFAULT '0',
  `expires` int(20) NOT NULL DEFAULT '0',
  `payload` mediumtext NOT NULL,
  `kill` tinyint(1) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`topic`,`id`),
  KEY `created` (`created`),
  KEY `valid` (`valid`),
  KEY `accessed` (`accessed`),
  KEY `accesses` (`accesses`),
  KEY `expires` (`expires`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_register_messages` (`topic`, `id`, `created`, `valid`, `accessed`, `accesses`, `expires`, `payload`, `kill`) VALUES
(1,	'version',	'2017-09-07 12:18:07',	'2017-09-07 12:18:07',	NULL,	0,	1504808287,	'if (time() > 1504808287) return null;\nreturn \'v2.5.7-pl\';\n',	0),
(1,	'changelog',	'2017-09-07 12:18:07',	'2017-09-07 12:18:07',	'2017-09-07 12:18:07',	0,	1504808287,	'if (time() > 1504808287) return null;\nreturn \'This file shows the changes in recent releases of MODX. The most current release is usually the\ndevelopment release, and is only shown to give an idea of what\\\'s currently in the pipeline.\n\nMODX Revolution 2.5.7-pl (April 20, 2017)\n====================================\n- Try all available methods when attempting to download transport packages [#13419]\n- Prevent stored XSS in UserGroup names and various other fields [#13418]\n- Prevent user/email enumeration in forgot password feature [#13408]\n- Prevent XSS cache poisoning via Host header [#13426]\n- Proper use of json_encode and error handling for outputArray() in processors [#13389]\n- Prevent reflected XSS in setup [#13424]\n- Fix local file inclusion vulnerability in setup action parameter [#13422]\n- Fix various local file inclusion preventions to also protect on windows [#13428]\n- Remove htaccess from allowed file types on new installations [#13423]\n- Prevent stored XSS in resource pagetitle [#13415]\n- Make search bar work as expected on Chrome & Firefox [#13405]\n\nMODX Revolution 2.5.6-pl (March 28, 2017)\n====================================\n- Enable Resource Group access column to be sorted [#12426]\n- Prevent warning from array_key_exists when aliasMap not available [#13297]\n- Fix broken images in File tree when media source above doc root [#13292]\n- Encode HTML in the template description to prevent potential XSS [#13290]\n- Use (but limit) setting for results per page in package management grid [#12518]\n- Added validation for min and max length of text TV configuration [#9039]\n- Allow value \\\'0\\\' for multi select TV items [#9492]\n- Fix \"undefined\" on package management breadcrumb when updating [#12567]\n- Reduce log level to INFO for links not found by modContext->makeUrl() [#13268]\n- Fix error in Firefox preventing using enter in the uberbar [#12714]\n- Fix error when deleting a file from a TV [#12417]\n- On new installs set base_help_url setting to the new docs subdomain [#13309]\n- Refresh resource tree and context grid on create and delete [#12495]\n- Only call generateContext once when saving a resource [#13347]\n- In get/setTVValue, consider numeric strings as ID instead of name [#12542]\n- Validate chmod input [#13352]\n- Prevent drag/drop of directories messing up directory structures [#13165]\n- Get rid of duplicate scrollbars in the help window [#12914]\n- Show proper error page when viewing an inaccessible symlink [#12380]\n- Avoid duplication of modLexiconEntry objects when updating context settings [#12823]\n- Fix system info\\\'s database tables tab on sqlsrv [#9854]\n- Add comment to config.core.php files that its contents are overwritten on update [#10299]\n- Fix double dots in the filename of downloaded static resources [#10267]\n- Fix duplicating resource children which are hidden from the tree [#13298]\n- Show proper error message when trying to rename a file/folder that already exists [#13256]\n- Fix missing caption when duplicating a TV via the Edit TV page [#13317]\n- Fix empty error popup when adding a usergroup to a media source without a policy [#12701]\n- Fix close button on resource overview page [#12822]\n- Hide database username, password and database name from advanced setup [#13090]\n- Fix \"Cannot read property \\\'style\\\' of undefined\" error when resizing viewport after closing a modal [#13294]\n- Fix \"o.field is undefined\" error when checking a resource group [#13296]\n- Fix phpdoc for modAccessibleObject->checkPolicy [#13301]\n\nMODX Revolution 2.5.5-pl (February 8, 2017)\n====================================\n- Respect new_file_permissions setting when create/upload files in manager [#13246]\n- Escape regular expression special characters in last query string of a superboxselect [#13236]\n- Improve logging of bad links [#13268]\n- Fix a few Smarty variables not being defined [#13117]\n- Only load manager layout when the controller is not \"browser\" [#13135]\n- Add autoHeight in the Create/UpdateSetting window [#13220]\n- Address various potential security issues in setup [#13261]\n- Validate file extension when renaming/creating files in file browser [#13240]\n- Examples to rewrite all domains of one installation with/without www [#13249]\n- Update MODX Transport Provider to use SSL URL [#13260]\n- Add site name to the login title [#13254]\n- Fix File Unzip feature [#13223]\n- Fix truncating filename at space by downloading via filemanager [#13171]\n\nMODX Revolution 2.5.4-pl (January 3, 2017)\n====================================\n- Update xPDO to 2.5.3 release to avoid xPDOQuery class not found error\n\nMODX Revolution 2.5.3-pl (January 3, 2017)\n====================================\n- Fix listing packages on systems with non-utf8 locales [#13182]\n- Update PHPMailer to 5.2.21 for CVE-2016-10045 patch [#13229]\n- Access chunk array instead of chunk object instance [#13210]\n- Update PhpMailer to 5.2.19 to protect against RCE vulnerability [#13227]\n- Add various missing permission checks to processors [#13174]\n- Update xPDO to 2.5.2 release\n- Improve phpThumb InitializeTempDirSetting [#13151]\n- Validate Resources when dropped onto weblinks and symlinks [#13212]\n- Fix Resources not loading in the tree in sqlsrv [#12845]\n- More specific removal of critical settings in MODX.config [#13180]\n- Fix broken list of previously installed package versions [#13179]\n- Fix incorrect media source name on Files tab [#12596]\n- Update Font Awesome to 4.7.0\n- Remove placeholders from login screen to fix accessibility bug/confusing screenreading [#13186]\n\nMODX Revolution 2.5.2-pl (November 14, 2016)\n====================================\n- [SECURITY] Hide critical settings in MODx.config [#13170]\n- [SECURITY] Prevent local file inclusion/traversal/manipulation [#13177]\n- [SECURITY] Prevent path traversal in $modx->runProcessor [#13176]\n- [SECURITY] Prevent unauthenticated access to processors [#13175]\n- [SECURITY] Prevent path traversal in modConnectorResponse action param [#13173]\n- [SECURITY] Update xPDO to 2.5.1 release\n- Add security/login support for action based connector [#13158]\n- Make one single connector file possible [#13157]\n- Don\\\'t create a DirectoryIterator on non existing folders [#13127]\n- Fixing tvLabel output filter empty needle warning [#13138]\n- Fix session extension call using action based connector [#13146]\n- Select modTemplateVarTemplate.rank for MySQL 5.7 ONLY_FULL_GROUP_BY SQL Mode [#13098]\n- Fix new category option duplicating view of elements [#13137]\n- Consistency in error messages, based on error type [#13126]\n- Make sure things do not break when no valid json/empty string is returned OnMediaSourceGetProperties event [#13119]\n- Removed superfluous code in the manager \"gateway\" [#13120]\n- Set temporary directory for files processing in phpThumb [#13128]\n- Upgraded phpThumb to 1.7.14-201608101311 [#13125]\n- Force display errors during setup [#13107]\n- Added duplicating caption field for TVs [#13100]\n- Fix PHP warning if the response message is empty [#13111]\n- Removed duplicate element ID [#13105]\n\nMODX Revolution 2.5.1-pl (July 21, 2016)\n====================================\n- Preserve original behavior for 3PC RTE TVs [#13071]\n- Fix with of install button after text change [#13078]\n- Fix server port check in setup start script [#13037]\n- Update phpThumb to version 1.7.14 [#13039]\n- Show image preview in file tree for S3 media source [#13059]\n- Fix problem with S3 bucket names containing dots [#13031]\n- Add missing properties in modX class [#13035]\n- Fix pagination in the \"New event create\" dialog [#13062]\n- Fixing padding-top issue in MODx.Window [#13038]\n- Use sans-serif font for TV textareas [#13045]\n- Prevent reflected XSS in connector\\\'s JSONP support [#13051]\n- Fix a SQL injection [#13052]\n- Fix uberbar user search return invalid User ID [#13056]\n- Fix width of the install button [#13057]\n- Extended grunt build tasks [#13026]\n- Remove deprecated curl option [#13032]\n- Show resources marked as container with a folder icon in the tree, even if it has no children. [#13027]\n- Restore missing Duplicate buttons on weblinks and symlinks [#12910]\n- Fix changing labels via manager customisations on checkboxes [#12890]\n- Fix extracting the title if it contains newlines when importing HTML [#12937]\n- Fix code smell issues in modPhpThumb [#13022]\n- Prevent using double quotes in extended user fields and containers to prevent breaking the context menu [#13012]\n- Fix saving a resource if the pagetitle of the parent contains tags [#13017]\n- Fix JavaScript error when editing an extended user field that contains markup [#12841]\n- Increase the delay for opening top  nav menu items to 0.5s to prevent misclicks [#12931]\n- Allow email addresses validated by the extjs email vtype to have longer TLDs [#12940]\n- Fix updating user settings [#12988]\n- Fixed permissions for new files [#13000]\n- Fix for 500 error after install using STRICT_TRANS_TABLES mode in mySQL [#13001]\n- Fixed typo in scss [#12993]\n- Remove all traces of manager HTML5 cache manifest [#12985]\n- Fix rare database connection setup error (new installs/advanced upgrades) [#12997]\n- Remove :first-of-type, reduce padding on container [#12973]\n- Fix problem with multiple placeholders in a system setting [#12692]\n- Set correct title to edit fc set [#12974]\n- Corrected $_lang array index and $_lang string typo [#12979]\n- Error 500 + installer fails when MYSQL Strict SQL Mode is ON [#12838]\n- Use rawurlencode in modparser [#12675]\n- Reference to values passed by reference got lost [#12951]\n- Add uri to mysql/modcontext.class.php [#12971]\n- Add missing viewport meta tag needed to enable the responsive manager [#12977]\n- Avoid empty manager theme [#12989]\n- Fix: expression is always true [#12956]\n- Make sure uberbar resource search respects ACLs [#12960]\n\nMODX Revolution 2.5.0-pl (April 21, 2016)\n====================================\n- Fix issue where site_start and default_template settings get the wrong ID on certain environments [#12959]\n- Replace hard-coded charset in Default template with MODX setting [#12916]\n\nMODX Revolution 2.5.0-rc2 (April 6, 2016)\n====================================\n- Set the leaf property to true instead of 1 [#12734]\n- Increase the space between the content and the logo areas in the base template [#12898]\n- Add missing preserve_menuindex setting [#12905]\n- Fix displaying categories in Package Manager\n- Update FileAPI to 2.0.20\n- Fixing partial import of content with UTF-8 chars inside [#12896]\n- Fix Media Browser when compress_js is enabled [#12899]\n- Restore backwards compatibility in updated Smarty [#12897]\n\nMODX Revolution 2.5.0-rc1 (February 3, 2016)\n====================================\n- Implement X-Powered-By header to send \"MODX Revolution\" on all requests [#12885]\n- Add cleanup script to remove legacy files during upgrades\n- Fix installed package list in package detail page when the package\\\'s name has spaces [#12870]\n- Add filter and search to the templates grind in TV panel [#12873]\n- Add typeahead for templates in resource panel [#12872]\n- Fix session warning on HHVM [#12868]\n- Add new stripmodxtags output filter [#12860]\n- Add new base template and resource content [#12855]\n- Fix re-definition of function mkdirs\n- Add `createdon` date field to modUser [#12581]\n- Ensure $restarted in templates/language.tpl always exists [#12847]\n- Update LinkedIn link description on Help page [#12851]\n- Fix undefined index in modOutputFilter->filter [#12856]\n- Add new output filter \\\'htmlspecial\\\' [#12861]\n- compress_js no longer dynamically minifies javascript, instead it uses a prebuilt min.js for better performance [#12611]\n- Autoload third party packages when viewing manager actions [#11866]\n- Fix example core/ht.access file to properly lock down access to the core when used [#12503]\n- Fix selecting values on the tag TV input type [#12627]\n- Fix the insert element by drag & drop feature remembering properties it shouldn\\\'t [#12729]\n- Potential improved speed on certain pages thanks to processElementTags optimisation [#12717]\n- Fix checking for duplicate URIs when resources are unpublished [#12844]\n- Add border for grids\n- Change modResource Children to Composite relation [#12279]\n- Allow searching by Resource ID in Uberbar [#12783]\n- Add modParsedManagerController which can be used for developing CMPs with snippets and chunks [#12555]\n- Allow custom redirect method for each action button in action bar\n- Fire emptyTrash event after emptying recycle bin [#12673]\n- Add anonymous_sessions to allow session-less access for anonymous users [#12616]\n- Make the manager a lot more mobile friendly [#12776]\n- Fix .icon-coffee class to show a coffee cup, use .icon-coffeescript for the code icon [#12784]\n- Update Font Awesome to 4.5 (includes `icon-modx`!) [#12774]\n- Make use of the maximum available height when viewing the error log [#12746]\n- Improve usability of the tree by limiting click target for editing containers to the name [#12773]\n- Add published_resources and unpublished_resources to result of OnResourceAutoPublish event [#12747]\n- Improve keyboard navigation and screen reader support on the login screen [#12784]\n- Update PHPMailer to 5.2.14: https://github.com/PHPMailer/PHPMailer/releases/tag/v5.2.14 [#12808]\n- Update Smarty to 3.1.27: https://github.com/smarty-php/smarty/blob/v3.1.27/change_log.txt [#12807]\n- Allow uberbar labels and icons to be set server-side in extended search processors [#12749]\n- Add ability to unpack zip files in the file tree / media manager [#12775]\n- Ensure setup can continue if date.timezone is not set [#12738]\n- Make modPhpThumb class compatible with PHP7 [#12809]\n\nMODX Revolution 2.4.4-pl  (April 5, 2016)\n====================================\n- Make sure only recipient can mark user messages read/unread [#12944]\n- Do not attempt to clean cache_db_handler if cache_db not enabled [#12942]\n- Fix broken output filters on undefined placeholders introduced by #12835 [#12906]\n\nMODX Revolution 2.4.3-pl  (February 11, 2016)\n====================================\n- Various config_check improvements [#12628]\n- Fix error embedding images in modPhpMailer [#12645]\n- Prevent uncacheable elements from being cached in cacheable elements [#12835]\n- Fix the DocBlock comment for leaveGroup() [#12877]\n- Fix modX->getUser to force load settings when parameter is passed [#12840]\n- Fix issue with parent name not showing when creating a new resource under a parent [#12849]\n- Fix system settings pagination issue if default_per_page is > 30 [#12862]\n- Remove the \\\'Installed on\\\' part of the language string.\n- Fix getOption call in modUser->getProfilePhoto\n- Sets correct responseType in the rest service for multiple packages via a single request [#12669]\n- Fix loading rich text editors on non-document resource types [#12632]\n- Fix dashboard and dashboard widget save button [#12711]\n- Fix failure message in Export processor [#12709]\n- Fix tree style for deactivated plugin [#12712]\n- Fix fatal error if user not found [#12772]\n- Fix warning generated by configcheck dashboard widget if safe_mode or open_basedir is enabled [#12745]\n- Include a random hash for core assets being loaded to refresh browser caches [#12700]\n- Fix fatal errors in the manager on PHP7 [#12741]\n- Fix \"Remember Me\" on the manager login [#12802]\n- Show message after triggering a URI refresh [#12800]\n\nMODX Revolution 2.4.2-pl   (October 6, 2015)\n====================================\n- Fix emptying property sets on element save [#12580]\n- Different tree styles for unpublished + hidemenu [#12699]\n- Add patch for ExtJS Drag & Drop issue [#12617]\n- Fix initialization of modUserGroupSettingUpdateProcessor processor [#12678]\n- Add resource title in Manager Log for edited resources [#12589]\n- Update Font-Awesome to 4.4 [#12598]\n- Update setup to check the minimum supported PHP version [#12637]\n- Add hover effect to tree expand/collapse icon [#12664]\n- Fix not rendering output properties of custom TVs [#12635]\n- Fix image width and add transparency pattern [#12670]\n- Disable trash icon and set proper tooltip after removing resources [#12672]\n- Pass 0 as id of default property set instead of \"Default\" [#12674]\n\nMODX Revolution 2.4.1-pl  (September 23, 2015)\n====================================\n- Update PHPMailer to v5.2.13\n- Make user grid in ACL view consistent with user group view\n- Update xPDO to 2.4.1-pl\n- Fix dropping elements in template [#12572]\n- On policy template update sync policies with policy template [#12654]\n- Restore backwards compatibility for addons interacting with modTransportProvider [#12633]\n\nMODX Revolution 2.4.0-pl  (August 18, 2015)\n====================================\n- Preselect core namespace if it is available in namespace combo box [#12562]\n- Fix namespace and policy filter in namespace access grid [#12560]\n- Escape Site name in header\n- Fix double nocompress option in advanced install\n\nMODX Revolution 2.4.0-rc1  (August 12, 2015)\n====================================\n- Fix installing package dependencies when there are setup options [#12556]\n- Fix potential E_RECOVERABLE (and other) errors in package download [#12543]\n- Add missing return statement in the package download processor [#12539]\n- Allow comma-separated list of constraints in Form Customization [#11239]\n- Prevent firing OnDoc*Form* Events on the Resource Overview page [#11865]\n- Automatically select the setup language based on Accept Language headers [#12011]\n- Change the modUserProfile.country field to use ISO codes rather than localised country names [#12534]\n- Add ability to prefill certain resource values in OnDocFormRender [#12535]\n- Allow setup options in packages to execute javascript [#12298]\n- Allow pressing enter in text areas [#12524]\n- Make sure registered CSS/JS are loaded on deprecated manager controllers [#12529]\n- New setting manager_use_fullname will show the fullname of the logged in user, instead of the username [#12527]\n- Parse the forgot_login_email message using the parser, to allow lexicons or other tags in the email [#12266]\n- Show error message when grid autosave fails\n- Disable setup options button when dependencies are not met [#12531]\n- Add config check to make sure the core folder is not web accessible [#12504]\n- Add ability to search for resources by template in resource/search processor [#12268]\n- Add download() method to modFileHandler [#11371]\n- Remove unnecessary caching headers from the manager request [#12254]\n- Fix logout from manager in case of broken javascript [#12344]\n- Fix limited width of TV descriptions [#12494]\n- Convert usergroup tree to usergroup tree & grid in ACL page\n- Prevent dashboard widgets with no output to be displayed\n- Add a reference of executed modPlugin object in modSystemEvent\n- Add JSONP support to the modConnectorResponse\n- Travis-CI automated test suite\n- Enhance config check style & add check for min PHP version\n- Log login action\n- Log empty trash action\n- Prevent displaying packages without a name from package provider\n- Fix adding anonymous use group to ACL groups\n- Clean \"onAjaxException\" to remove full HTML document tag to avoid breaking manager\n- Target user menu wrapper to change \"sub menu direction\" instead of targeted IDs\n- Implement new use_frozen_parent_uris option to respect frozen parent URIs in generating child URIs\n- System Events Manager page\n- Anonymous username as System Setting\n- Prevent JS error when Media Source is not in the first combo store page\n- Add regexp validation into text TV\n- Various MySQL performance optimizations via new database indexes\n- Fix TV\\\'s output properties column name in get properties processor\n- Auto suggest setting key in contexts and users settings\n- Add namespace permissions\n- Added Property Set file and color input field\n- Added option to not submit the emptyText of a form field\n- Links in description for extras opens in new tabs\n- Added ability send to provider information about language\n- Fixing cancel button not actually closing the popup window\n- a11y enhancements\n- Added qtip for tree root nodes & media sources to display their description\n- Updated setting groupingConfig options to grid\n- Media browser improvements\n- Fixed import HTML unicode error\n- Added tvLabel output modified\n- Added user photo profile field to user panel\n- Added system settings to enable customization of the top bar navigation\n- Added modMenu.description as tooltip in menu tree\n- Added ability to customize media source icons\n- Added ability to edit a media source from the files tree\n- Added ability to customize context icons\n- Added rank parameter to modUser->joinGroup method\n- Added rank to categories\n- Fixed package browser tree\n- Added package dependencies\n- Added contentType=string option to modRestCurlClient service [#11279]\n- Added realtime resource alias generation [#11799]\n- Added saveObject and removeObject methods to create and update processors [#12345]\n- Improved error message styling in the manager [#12349]\n- Added new option to date TV to hide the time from the users [#12348]\n\nMODX Revolution 2.3.6-dev\n====================================\n- Unset modx.user.userGroups in leaveGroup [#12410]\n- Fix fatal error when the database password contains a quote [#12528]\n- Fix several \"language string not found\" errors [#12546, #12545]\n- Add ability to disable on the fly compression to traditional installs [#12486]\n- Fix output of [^p^] tag on certain locales [#12514]\n- Fix counting rank of dashboard widgets [#12437]\n- Prevent XSS in file create/update processors [#12513]\n- Fix checking modMenu permissions with the same action value [#12361, #12255]\n- Fix missing pagination on category dropdowns [#12469]\n- Setup Options window is now bigger and grows as needed [#12297]\n- Set request-specific cultureKey option dynamically [#12227]\n- Make sure object processors pass a generic $object alongside the $objectType-based variable [#12243]\n- Fix issue editing users when extended fields contain multibyte characters [#12484]\n- Limit the size of images in Image TVs to 400px [#12498]\n- Show MODX version and flavor as tooltip on the MODX logo [#12496]\n- Normalize thumbnail size for image TV\n- Set default background color for thumbs to WHITE instead of BLACK\n- Updated default uploadable file types, including SVG and TIFF [#12526]\n\nMODX Revolution 2.3.5-pl  (June 25, 2015)\n====================================\n- Fix Account dropdown hover on small screens\n- Compile Sass with libsass\n- Update npm packages\n- Update and Relax bower packages\n- Fix D&D resource sort when auto_isfolder setting is enabled\n\nMODX Revolution 2.3.4-pl  (June 23, 2015)\n====================================\n- Allow access via id or alias when request_method_strict is false\n- Fix resource caching in multiple contexts\n- Bypass aliasMap for preview urls in manager\n- Fix custom theme CSS\n- Add Element/Resource name to the Quick update window\\\'s title\n- Improve drag & drop resource sorting\n- Fix row edit in site schedule grid\n- Fix float value of input options\n- Correct permission for Contexts menu item to \"view_context\"\n- Show the template icons at the template tree section\n- Fix saving binary field when creating content type\n- Fix edit action for S3 media source\n- Prevent using Ext.getCmp() when not needed in resource tree\n- Improvement to news and security widget DNS check\n- Better modMenu management\n- Set media source config in RTE media browser\n- Don\\\'t count Resources hidden from tree as children\n- Hide the \"Forgot your login?\" link if allow_manager_login_forgot_password is set to false\n- Update logo on setup page\n- Remove unnecessary DIV from file TV tpl\n- Remove unnecessary DIV from image TV tpl\n- Remove resource locks correctly based on current user\n- Fix tooltip full viewport width\n- Update Font Awesome to version 4.3.0\n- Update bower to build css correctly\n\nMODX Revolution 2.3.3-pl  (January 29, 2015)\n====================================\n- Add OnCacheUpdate event to refresh() method\n- Check for valid google.com DNS before trying to load feeds\n- Fix case of table_prefix and service_class in modX->_loadExtensionPackages()\n- Fixed showing RTE in all resource types\n- Fixed sorting in MODX browser\n- Fixed updating resources from recent resources in user\\\'s profile\n- Fixed duplicating user\n- Unset modx.user.userGroups in joinGroup()\n- Use window.location.search to populate MODx.request\n- Added option to delete property from Property Set using the UI\n- Fixed preserving locked attribute in elements after quick update\n- Allow copy&paste system information page\n- Fixed urlAbsolute path in media sources\n- Fixed column width grid head/content\n- Fixed connector\\\'s URL when getting media source list\n- Make syncsite checkbox a system setting\n- Added system setting for automatic/manual switching container property in resources\n- Fixed showing lock tree icon for locked resources\n- Fixed @INHERIT binding in TVs\n- Make FC profiles sortable by template\n- Removed limit to getnodes for menu items\n- Fixed error message and missed lexicon for create chunk\n- Fix timezone problem\n- Fix javascript error while revert to default new property\n- Hide Duplicate buttons from Resource panel when user don\\\'t have permissions\n- Fix Password tab visible in edit profile to users without permission\n- Remove C:\\\\fakepath\\\\ from filename when importing property sets\n- Fix unnecessary scrollbars in windows\n- Fix wrong error message for creating new namespace\n- Remove limit from modx-combo-category combobox\n- Improved generateContext method to be quicker\n- Fixed loading theme based styles on login screen\n- Fixed selecting the same file to upload again\n- Fixed removing plugin from an event via the Update plugin event window\n- Fixed autoredirect after creating user\n- Fix context settings remove and update from window\n- Fixed showing minLength and maxLength value in error msg for text TVs\n- Prevent $this->resourceArray[\\\'resource_groups\\\'] from being undefined\n- Fixed disabling caching of a chunk\\\'s output\n- Fixed Duplicate resource button visibility\n- Updated memberof output filter to return integer\n- Fixed setting resource as it\\\'s own parent\n- Trim setting\\\'s key before saving\n- Sort plugin events by enabled\n- Restore permission for menu help\n- Fixed processor path in user panel\n- Move refreshURIs() call from clear cache to new menu item Refresh URIs\n- Fix uploading packages on Windows\n\nMODX Revolution 2.3.2-pl (October 21, 2014)\n====================================\n- Fixed issue with S3 buckets containing dots\n- Fixes issue with Form Customizations containing multiple constraints on TVs\n- Single-Select TVs now retain custom values in the dropdown select options\n- Fixed birthdate on 1970/01/01 resulting in false\n- Restores horizontal scrolling to the Resource tree [#11949]\n- Language simplification for context menu items\n- Fixed property set creation which allowed empty \\\'name\\\'\n- Fix for arrow that pointed wrong way in collapse areas\n- Fixed rendering TVs to modx-resource-content by Manager customizations\n- Fix default category name when creating a new element instead of showing 0\n- Fix store load if init combobox value is 0\n- Display context name in combo box\n- Fixed elements search results icons\n- Removed listeners/actions on Media browser data view double click\n- Added visual indication in elements trees when an element is edited (active class)\n- Removed unused code in Resource Tree Panel\n- Enable path style on AWS driver if the bucket\\\'s name contains a dot\n- More use of \\\'manager_date_format\\\' in the manager\n- Use FontAwesome checkbox icons instead of sprite images\n- Made MODx.combo.Browser Media Source defaulting to the defined default Media source instead of hard coded id \"1\"\n- Replace security/forms/set/export processor with a class based one and fix\n- Fixed issue where batch removing access policies was only allowed for \"core\" policies (instead of preventing deletion for core policies)\n- Updated alias length to 255 in ExtJS\n- Fix superbox selects in toolbars\n- Prevent combobox lists being taller than the screen, mainly from windows\n- Fix MODx.Ajax.request ot handle multiple concurrent requests\n- Fix loading default manager controller without changing the manager theme when the manager theme does not include the requested controller\n- Fix encoded htmlspecialchars in resource overview > cache output tab\n- Fix creation of folders in S3 media source root\n- Disable keyboard shortcut to focus the search bar\n- Updated \"far\" parameter to \"C\" (to provide correct thumbnails aspect ratio) in modfilemediasource\n- When using resource_tree_node_tooltip system setting, make sure the given field is not empty before displaying the quick tip\n- Updated welcome url for 2.3\n- User / User Group Settings update and delete fix\n- Fixed modx_user_group_settings table on SQLServer\n- Make sure modContext config is \"prepared\" before using makeUrl()\n- Have [[++server_port]] report the port number\n- Consider dev version lower than alpha\n- Handles \"site preview\" when default_context is not \"web\" context or when manager is on its own (sub)domain\n- Fixes missing Permissions tabs for anonymous User Group\n- Updated modPHPMailer to use getService instead of creating new instance of modError\n- Refresh context\\\'s name in tree after changing it\n- Use modx_browser_default_sort setting for sorting in RTE browser\n- Fix front-end user group comparison bug when assigning new user groups [#11399]\n- Prevent XSS via GET param for manager controller action [#11966]\n- Fix CRC icons in tree\n- Refresh/expand appropriate tree node when creating a resource using \"quick create\"\n- Limit property set name/description length\n- Added ability to update a namespace within a window\n- Use lexicon strings instead of hard coded ones in manager login form\n- Display an error when updating a user from grid with duplicate email address\n- Create new instance of console on every action with package manager\n- Reset addresses list on failure send\n- Fixed superboxselect close button in Safari\n- Fixed typo forcing empty calls to modError::addError() for all sent emails\n- Fixed issue with tree node \"jump\" on expand/collapse\n- Added some client side validation when creating a new user group\n- Fixed mimetype issue on s3 Media Source\n- Do not display setting modification date if no modification has been done [#11762]\n- Moved user groups access tabs within a single permissions tab [#11769]\n- Make use of FontAwesome for files icons [#11851]\n- Fixed issue where required field was not highlighted [#11826]\n- Updated NodeJS dependencies [#11827]\n- Removed limit on Media Sources in the tree panel [#11834]\n- File and directory sorting improvements, more natural and consistent [#10286]\n- Accessibility improvements for new checkbox / radios [#11772]\n\nMODX Revolution 2.3.1-pl (July 22, 2014)\n====================================\n- Make Gravatar optional (enabled by default)\n- Update logos, login and help view\n- Update base_help_url to be protocol relative\n- Fix login after a session expired [#11763]\n- Fix manager menus for sqlsrv driver [#11677]\n- Refactor validation of a connector being included [#11738]\n- Updated RSS security feed to be Revo specific [#9440]\n- Do not output modScript include result w/o explicit string return [#11705]\n- Move OnInitCulture event to parser service [#10366]\n- Fix password reset feature [#11725]\n- Adjust appearance of saving window for new design\n- Fix labels / TVs in custom FC tabs [#11758]\n- Fix hover-preview thumbnail border width in Files tree\n- Fix long category name overflow in vertical tabs [#11728]\n- Enable usernav menus for mobile devices\n- Update phpthumb release to v1.7.13 [#11742]\n- Fix pagination in Topic combobox [#11713]\n- Simplify Gravatar profile image fallback [#11716]\n- Correct duplicate method declarations in phpthumb class [#11700]\n\nMODX Revolution 2.3.0-pl (July 15, 2014)\n====================================\n- Respect automatic_alias regardless of friendly_urls\n- Prevent use of GET vars in login controller/processor\n- Restrict returnUrl in login processor to url of login context\n- Added drag/drop reordering of template variables on the templates TV grid [#11560]\n- Added ability to use conditional custom output modifiers [#11610]\n- Updated MagpieRSS Snoopy to 2.0.0\n- Add strftime as alias for date output filter [#11550]\n- Validate and sanitize _ctx placeholder used by ResourceManagerController\n- Fixed incorrect sorting by rank in TV grid on template create/update screen\n- Remove references to deprecated modX::getMicroTime()\n- Fix parent ResourceGroup inheritance on create\n- Preserve order of selected values in multiselect\n- Updated PHPMailer to v5.2.8\n- Updated phpThumb to 1.7.12-pre (current GitHub status)\n- Added resource_tree_node_name_fallback system setting\n- [#11297] Allow passing options to modRestCurlClient\n- Ease reuse of media sources panel\n- [#9245] Fix context menu position on custom resources that define a certain menu\n- Added OnResourceAutoPublish system event\n- Fix incorrect sorting by rank in TV grid on template create/update screen\n- Fixed Categories with a sub-category would always be shown in an Element\\\'s tree even if it didn\\\'t contain any elements of that type\n- Fix media source directive in TV when accessed from another context\n- List only user related resources in recently edited resources widget\n- Fixed colors/states not changing on subsequent database connection attempts in installer\n- Make ddGroups unique for resource, element and file tree\n- Fixed collapsing tree after quick creating an element\n- Add back Legacy modX.getFullTableName() method\n- Make OnFileManagerBeforeUpload event selectable\n- Added ability to define a default package provider via default_provider setting\n- Return nothing when toPlaceholder output filter is used\n- Added replace closing php tag for inline php dashboard widget\n- Fix to tv,chunk,snippet name validator per scottboryses observation\n- New manager theme\n- Move fax field near other telephone related fields\n- Option to disable CSS/JS compression during setup\n- Changed extension of JSON content type from .js to .json\n- Added modResource.isMember and modResource.getResourceGroupNames methods\n- Replaced uploaddialog with more modern multiuploaddialog\n- Added Other gender\n- Fixed events called in modResourceGroupCreateProcessor\n- Added dedicated page with media manager\n- Add icon/markup to modMenu items, allow new entries for topmenu and usermenu\n- An instance of modError added to modMail\n- Make sure connector responses return application/json content type\n- Removed hard coded \"index.php\" in manager assets\n- Preselect media source in static elements browser\n- Added ability to refresh a media source (tree)\n- Prevent duplication in context root if new_document_in_root != true\n- Sanitize filename when editing a file\n- Adds validateOldPassword flag to optionally skip passwordMatches() call\n- Make preview possible if session_enabled = 0\n- Improved widget of active users\n- Calling modUser->joinGroup sets rank to count(UserGroupMembers) instead of to 0\n- Call getNodesFormatted with parent property in modResourceSortProcessor\n- Hide back button during installation\n- Fixed regex for element names\n- Added system settings to change default action\n- Check for \"theme_path/js/layout.js\" before trying to load it\n- Clean modx->user on context init\n- Added shift modifier to tree click, that will open resource in a new window\n- Removing duplicate windows\n- Updated context setting\\\'s update window to appear as a create window\n- Load setting topic to allow 3PC components to use it for system setting translations\n- Allow filtering of namespace by request on lexicon page\n- Add proper validation for modSession id\n- Updated phpmailer class to 5.2.7\n- Fallback http_host to prevent cache issues under HTTP/1.0\n- Added ctx option to isloggedin/isnotloggedin output filters\n- Ensure opcache.revalidate_freq is set to 0 during setup\n- Clear menus cache on actions with menu\n- [#11123] Added \"success\":true to modProcessor response\n- [#11182] Fix issue where grid stores loaded only 20 records by default when pagination were disabled\n- [#828] handlePreview is called only if the deleted value changed\n- Update xPDO for additional SQL injection protection\n- [#11186][#11176][#9880][#2896][#5850] Disabled dirty check on save button in Resource\\\'s panel\n- Validate context key provided to modX::initialize()\n- [#11170] Added pdf to content type\n- [#675] Add upload functionality directly to package manager grid\n- [#703] Added OnElementNotFound system event\n- [#11149] Make sure hitting the close button does not trigger double prevent navigation warnings\n- Add refreshURIs call as part of clearing the site cache\n- Update parent field in Resource panel after drag and drop current resource\n- Check if template exissts before using it\\\'s icon in getNodes processor\n- Prevent content duplication when using [css|js|html]To[Head|Bottom]\n- [#11099] Removed C:\\\\fakepath\\\\ from filename during uploads\n- Fix path issue with phpthumb after 1.7.11-beta update\n- Prevent redirect of base_url when query string exists\n- Enable Template-based icons in Resource tree\n- Increase message_limit for ExtJS HttpStateProvider\n- Fix lexicon getList processor\n- Improve Confirm Navigation feature and make configurable\n- Confirm navigation when unsaved changes exist in resource panel\n- Fix deprecated returnValue to prevent confirm navigation alert\n- Fix xPDO->parseBindings bug triggering modDbRegisterMessage errors\n- Prevent processor property overwriting in modX::runProcessor()\n- Add open in new window action to middle mouse button click in trees\n- Preserve value types in modSystemEvent::output()\n- Prevent removal of user groups after validation fails\n- Remove extra dot in filename for Content Disposition attachment\n- Fix unescaped backslash in file and image TV\n- Remove cache clearing logic from system setting model\n- Update phpthumb to 1.7.11-beta to close security vulnerability\n- Add options and context filtering to modX::getTree()\n- Auto-resize modal window height to fit browser height\n- Add modSoftRemoveProcessor for marking records deleted\n- Ensure property not set when creating new property in Property Set\n- Implement auto-save on Content Types grid\n- Support PHP use statements in Snippets and Plugins\n- Add in/inarray conditional output filter\n- Add preg_quote to friendly_alias_word_delimiters characters\n- Do not prepend base_url when baseUrlRelative in modFileMediaSource\n- Add filterPathSegment() methods to modX and modResource\n- Remove check for children on Categories in Elements Tree\n- Allow Categories to have same name with different parents\n- Add case-insensitive contains/containsnot conditional output filters\n- Add modResource::clearCache() to clear cache for single Resource\n- Remove all dependency on mysql extension (deprecated in PHP >= 5.5)\n- Add extended field support and more to userinfo filter\n- [#9484] Add UserGroup Settings\n- [#10135] Fix output from multiple plugins OnSiteSettingsRender\n- Make path param optional in modFileMediaSource::getBases()\n- Clear register before calling clear cache\n- Add clear flag to modRequest::registerLogging()\n- Add modRegister::clear() method\n- Show custom xPDO class names in Manager Log\n- Fix context setting overrides in modX::_initContext()\n- Fix MODx.Console.onComplete when provider not set\n- Fix notice when resource not set in modX::sendForward()\n- [#9841] Add access to resource OnLoadWebPageCache\n- [#9072] Set upload_maxsize to php upload_max_filesize value on install\n- [#10146] Add embedded image support to modMail\n- [#9133] Fix various issues with Number TV\n- Fix visibility of Quick Edit independent of allowChildrenResources\n- [#8453] Add several File Management system events\n- [#7866] Add columns option to Checkbox TV\n- Add OnMODXInit event in modX::initialize()\n- Add name field to Contexts\n- Add preserve menuindex/alias options to Duplicate Context\n- Allow Namespace-based loading of custom TV files\n- Deprecate usage of modAction objects in favor of modNamespace base controller path\n\nMODX Revolution 2.2.10-pl (October 7, 2013)\n====================================\n- Increase modTransportPackage version columns range to smallint\n- [#10211] Fix parser state bug triggered by media sources\n- Fix loading modResource derivatives in class_key dropdown\n- [#9973] Prevent extended user classes being set to modUser\n- Upgrade xPDO to 2.2.9-pl\n- [#10182] Improve sanitization of processor_err_nf response\n\nMODX Revolution 2.2.9-pl (August 28, 2013)\n====================================\n- Avoid critical error when resource tree not initialized\n- Avoid suppressed warnings with ob_get_level()\n- Upgrade xPDO to 2.2.8-pl\n- [#10043] Fix class-loading LFI in registerLogging\n- [#6937] Fix Persistent/Reflected XSS in User Messaging\n- Set default error_handler_types to error_reporting()\n- Upgrade to ExtJS 3.4.1.1 and add ExtJS debug support\n- [#9976] Fix cross-context symlink caching\n- [#10093] Add create/update methods to S3 Media Sources\n- [#9902] Added error window when package download fails\n- [#10070] fix potential SQL injection vulnerability in modImport\n- [#9843] Added lang_topics field to create and update action window\n- [#10094] Defaults overwriting properties in ResourceCreateProcessor\n- [#10007] Fix parser logic when processing elements via API\n- [#10087] Avoid stat warnings with missing static sources\n- [#9809] Remove empty ULs in topmenu\n- [#7569] Add bottom border to collapsed panels\n- [#146] Also fire field change event on change event\n- Fix contextsAffected in resource/sort processor\n- [#9815] Improved manager redraw on browser resize\n- Fix clearcache timing issue with MODx.Console\n- Prevent accumulation of MODx.Console onMessage callbacks\n- Prevent session write errors from phpthumb cache\n- [#9964] Fix Import HTML to use context of parent\n- [#9916] Add TABLE to TRUNCATE command in flushSessions (SQLSRV)\n- [#9527] Fix password reset by user email\n- Fix login processor to use absolute url redirects for mgr\n- [#9826] Fix errant creation of Policy Templates\n\nMODX Revolution 2.2.8-pl (June 4, 2013)\n====================================\n- Prevent empty HTTP_MODAUTH from succeeding\n- [#9450] Prevent non-existent Context initialization\n- [#9896] Improve performance of modTemplateVar::getRenderDirectories()\n- [#9859] Prevent conditional output filter recursion\n- [#6138] Handle offline errors in RSS feeds\n- Refresh file tree after removing file\n- [#9946] Do not cache modResource::$_isForward\n- Force browser to root on Media Source change\n- Refresh file tree after root upload\n- Fix remove file from root if no folder selected\n- [#8877] Fix inline grid datefield icon\n- [#6945] Fix datefield icon in grid toolbars\n- [#9825] Revert width increase of file and image TVs\n- [#9901] Fix empty resourceMap in sqlsrv\n- [#9912] Fix length of modResource.uri index\n- [#9846] Fix incorrect parameter order passed to findResource\n- [#9814] Fix empty cross-context links using link tags\n\nMODX Revolution 2.2.7-pl (April 9, 2013)\n====================================\n- [#9634] Fix notices in system/settings/update processor\n- [#9768] Fix array merge in xPDOObject::getMany()\n- [#9773] Fix classKey errors viewing manager actions\n- [#9774] Prevent resource/unpublish on site_start\n- [#8312] Allow sorting users by blocked status\n- [#1] Allow Element duplication when editing\n- [#9237] Return object from ContextSetting create/update\n- [#8327] Don\\\'t close context menu on click\n- [#8980] Fix lexicon when updating user password\n- [#9258] List languages and topics alphabetically\n- [#9152] Use default_context for New Resource toolbar actions\n- [#8138] Fix Combo Settings not saving from update dialog\n- [#9571] Fix template/update always refreshing cache\n- [#9093] Make collapsed tree panel tab more visible\n- [#8859] Add button to refresh error log\n- [#9772] Fix deprecated value for CURLOPT_SSL_VERIFYHOST\n- [#9728] Fix empty create Dashboard Widget tab\n- [#9734] Fix save button state on Content Types grid\n- Fix resizing of error log textarea\n- [#9287] Enable save button when switching templates\n- [#9132] Refresh cache when enabling/disabling plugin\n- [#9690] Fix various issues with server_offset_time\n- [#9738] Prevent working context overriding user settings\n- Fix error getting MediaSource table classes on cached Resources\n- [#9368][#9437] Fix modProcessorResponse->isError()\n- [#9681] Allow country/getlist processor to work more than once\n- Fix Auto-Tag TV value sorting\n- Make caching the aliasMap optional to reduce memory usage\n- [#9672] Fix invalid ini_get call in modDbRegister\n- [#8489] Add compound index to modTemplateVarResource\n- [#9592] Iterate all inherited parent FC rules\n- Replace location redirects with MODx.loadPage proxy\n- Add MODx.beforeLoadPage event to modExt components\n- [#9143] Fix destructors in modExt components\n- Allow loading of modExt files asynchronously\n- [#9359] Report errors about unpublishing site_start to user\n- [#9197] Load RTE for SymLinks in manager\n- [#9364] Allow Unicode chars via modX::sanitizeString()\n- [#9631] Fix image preview with special chars in filename\n- [#9608] Remove connections data from MODx.config\n- Fix invalid ini boolean evaluation in config_check processor\n- Allow modX::getParser() to get an extended modParser instance\n- [#9524] Fix invalid context assignment in modX::switchContext()\n- [#9517] modPackageGetAttributeProcessor returning wrong PACKAGE_ACTION\n- [#9451] Add modx-combo-source as settings type\n- [#5515] MODx.Browser UX improvements\n- Increase width of file and image TVs\n- [#9282] Fix Minify errors when manager on different subdomain\n- Various Manager UI Fixes\n- [#6150] Fix issues with auto_publish when encountering invalid data\n- [#8936] Fix modTemplateVarRender::_loadLexiconTopics()\n- [#9257] Fix workspace/lexicon/getlist strict notice in PHP 5.4+\n- [#9339] Use Resource context_key in update processor when not specified\n- [#9212] Fix SQL syntax error in modTemplateVar->findPolicy()\n- [#9239] Make sure class_key is passed when switching templates\n- [#8101] Add support for httpOnly session cookies in PHP 5.2+\n- [#8420] Provide multi-node support to flock-independent file locking\n- [#8420] Remove LOCK_EX from flock-independent file locking method\n\nMODX Revolution 2.2.6-pl (December 3, 2012)\n====================================\n- [#9178] Use PHP time for valid check in modDbRegisterMessage::getValidMessages()\n- [#9165] Fix modError::hasError false positives when loaded via getService\n- [#9029] Remove modRequest->loadErrorHandler dependency in runProcessor\n- [#9156] Fix reload data for rendering multi-value TV types properly\n- [#7916] Fix Area functionality in Element Properties and Property Sets\n- [#9097] Fix leftbar tree toolbar resizing issues\n- Image optimization applied across distribution\n- [#9006] Fix ImageMagick which convert issue (PHP 5.3.2+)\n- [#9069] Remove math output filter\n- [#9080] Fix modX::stripTags() bug allowing script execution vulnerability\n- [#9007] Prevent MODx.Browser closing window when manager loaded in a new tab\n- [#8928] Error saving Resource with access-restricted TemplateVars\n- [#8978] Fix issue where change template was not fired due to onsave check overriding listener\n- [#9026] Prevent new Content Types from having binary checked\n\nMODX Revolution 2.2.5-pl (October 2, 2012)\n====================================\n- [#8753] Fix variable name in security/user/removemultiple processor\n- [#7654] Fix Update processor for ResourceGroup-restricted TVs\n- [#8196] Enable save button when combo selections are made\n- [#8186] Apply FC rules to Resources when changing Template\n- [#8790] Add ability to hide changed password in Update Profile\n- [#7551] Ensure static element path is not existing directory\n- [#7631] Fix duplicate beforeSave() in modObjectCreateProcessor::process()\n- [#8754] Change elementType to objectType in various processors\n- [#4430] Return 404 error if static resource target is invalid\n- [#8767] Fix MODx.panel.Resource to inherit config.url\n- [#8545] Add ability to localize ExtJS pre-loading message\n- [#8089] Fix ability to disable drag/drop in Resource tree\n- [#7661] Prevent changing template from unsetting Empty Cache\n- [#8620] Enable type-ahead on User and Country combos\n- [#8529] Prevent empty multi-value TVs from saving as \\\'||\\\'\n- [#8018] Fix file creation/editing on non-default Media Source\n- [#8556] Ensure regClient functions inject only once\n- CSS Style fixes for IE 9 (8, 7)\n- [#8560] Fix Context Admin ACL automation and use Context Policy\n- [#8432] Package Browser tree not reloading on Provider change\n- [#8482] RTE Output Option for TVs does not render on frontend\n- Add Quick Create/Update File feature in Files tab\n- [#6522] Retain page in Package Manager after install/upgrade\n- [#7630] Save modUserGroupMember rank upon creation\n- [#8420] Provide flock-independent file locking to avoid cache corruption\n- [#7498] Fix Media Source error reporting for file uploads\n- [#8299] Clear action_map (and menus) in system/action create/update processors\n- [#8168] Fix JS error when compress_js=Off and compress_js_groups=On\n- [#8341] Allow Resource data pages to be extended by CRCs\n- [#6695] Close sessions before min scripts terminate\n- [#6918] Fix importing access policy items always being checked\n- [#8329] Fix syncsite checkbox being unchecked by default on resource/create\n- [#8296] Fix function passed by reference in ellipsis output filter\n- Allow numeric value in modWebLink to redirect to Resource by id\n- [#7763] Fix additional Media Source path issues with static elements\n- [#8208] Fix modDbRegister->read() with include_keys option\n- Fix PropertySet switching from Element create/update controllers\n- [#7392] Get correct modMediaSource derivative in modParser->getElement()\n\nMODX Revolution 2.2.4-pl (June 14, 2012)\n====================================\n- [#8105], [#8051] Fix modFileHandler::sanitizePath() infinite recursion\n\nMODX Revolution 2.2.3-pl (June 13, 2012)\n====================================\n- Add setting to be able to set default context for new Resources\n- Pass http_host in provider requests\n- [#7933] Add friendly_urls_strict to optionally enable non-canonical redirects\n- [#6428] Fix help tooltip for new namespace window\n- [#8054] Fix transport provider verify processor consistency\n- [#8051] Added extra sanitization for modFileHandler.sanitizePath\n- [#7925] Fix error editing Resources in multi-context sites\n- [#8052] Fix empty()/isset() on hydrated fields/related objects\n- [#7798] Avoid E_NOTICE in PHP 5.4 from array_diff_assoc in xPDO::loadClass()\n- [#7796] Fix issue with phpthumb calling non-static methods statically\n- [#7764] Compress and default to open Resource Group access wizard in window\n- [#7762] Fix issue with add/decr output filter not adding 0 if 0 is passed\n- [#7793] Fix issue with saving a new media source access on user group edit screen\n- [#7712] Fix Resource quick update showing 2 checkboxes\n\nMODX Revolution 2.2.2-pl (May 2, 2012)\n====================================\n- Preserve GET parameters for container_suffix redirects\n- Allow custom FURLs via URL rewriting again\n- [#7427] Fix request_method_strict with FURLs off\n- Add ability to extend manager session by relogging in without leaving manager screen\n- Add better handling for AJAX exceptions, displaying AJAX errors\n- [#7649] Prevent E_NOTICE when using ago filter within <1sec difference\n- [#7568] Add JSON to default content types\n- [#7549] Open new window for phpinfo in system info page\n- [#7531] Add manager setting for first day of week in datepicker\n- Flip page title on manager pages for easier readability in browser tabs\n- [#7543] Add extra sanity checks for ellipsis output filter\n- CLI upgrades not loading MODX config data\n- [#7652] Sessionless contexts allowing anonymous access to unpublished resources\n- [#7610] User.sudo field invalid for sqlsrv\n- [#7619] Fix issue with TV FC rules and template constraints\n- [#7613] Add ability to duplicate user\n- [#7590] Fix lazy loading errors in xPDO layer\n- [#7608] Prevent ttl=0 set on modDbRegister from expiring immediately\n- Add wizard for User Group creation to speed up ACL workflow\n- Add Context policy for proper managing of access to non-mgr Contexts\n- Add wizard for Resource Group creation to speed up ACL workflow\n\nMODX Revolution 2.2.1-pl (April 3, 2012)\n====================================\n- Override modAccess->getOne for Principal aggregate\n- Add GroupPrincpal/UserPrincipal aggregates to modAccess\n- [#7387] Add New Category button to Element tree toolbar\n- [#7518] Fix issue that prevented absolute URLs in media-source bound TVs\n- [#7521] Allow filtering of usergroup by request on users page\n- Add assets_path field to modNamespace\n- [#7447] Change default root node name of Files tab to \"Media\" to prevent confusion when a non-default source is selected\n- Drop no-longer used, deprecated modAction.parent field\n- [#7503] Change Duplicate Values text to Duplicate Resource Values to clear up intended behavior\n- [#7499] Fix DOM ID issues with Quick Update when multiple windows are loaded\n- [#7500] Make consistent positioning of published checkbox in quick update and normal edit page\n- [#7491] Prevent Media Source dropdown from showing in MODx.Browser when loaded from a TV\n- [#6894] Move Import button on Access Policy and Access Policy Template grids to top toolbar\n- [#7391] Fix UI error causing resource group checkboxes on TV edit page to not render correctly\n- [#7481] Fix issue with reloading resource when changing templates and the context alias cache\n- Add \"sudo\" user attribute, which bypasses access permissions for said user; upgrade to 2.2.1 makes Super Users in Administrator group sudo users\n- [#7445] Fix issues with TVs not respecting Resource Groups limiting access\n- [#7446] Added extra checks to protect against parse errors with :then and :else output filters\n- [#7455] Fallback to TV name if caption not found when displaying TV inputs\n- [#7456] Fix for minify not modified status in fastcgi environments\n- [#6931] Workaround for template changing issue on servers that have misconfigured date_timzeone setting\n- [#6687] Fix duplicated OK buttons in MODx.Console in certain situations\n- [#6501] Fix SuperBoxSelect selections spanning multiple rows\n- [#6496] Fix quick edit modal windows for elements on smaller screens.\n- [#6864] Fix rare issue where primary group is not set for user, and custom dashboard for their group does not propagate\n- [#7011] Prevent infinite recursion error in modElement::isStaticSourceMutable\n- [#7333] Prevent error when id is undefined in resource edit controller\n- [#7364] Add setting to set default sort field of MODx.Browser view\n- [#7363] Check for this.stateful in MODx.tree.Tree::_saveState\n- Add missing index to modSession.access\n- [#7357] Prevent viewing of Profile if user does not have change_profile permission\n- [#7322] Fix issue where certain regions were not able to be hid via FC; clarified FC set labels\n- [#7362] Fix issue with conflicting FC Sets when User belongs to more than one User Group with a Set\n- Update to xPDO 2.2.3-pl\n- Prevent fatal error if invalid class_key is passed to Resource edit/create page\n- [#7052] Prevent username/host/dbname from being set as a system setting placeholder\n- [#3860] Fix session issue with modUser joinGroup/leaveGroup methods\n- [#7315] Standardize default sorting for User Group access grids\n- Fixed ellipsis filter to not cut off html tags in property\n- [#7326] Fix inability to unset a TV\\\'s Input Option Values field\n- [#7306] Sanity check for reload data for resource groups when changing template of new resource\n- [#7279] Handle edge case where processor classes might already be loaded with CRCs causing issues with runProcessor\n- Add dashboard name to dashboard title\n- [#3818] Add UI/processing to set response code for weblinks\n- [#7061] Prevent Static Element access to the core/config/ directory\n- [#7088] Tweak column widths for settings grids\n- [#7102] Improve memory_limit checks to properly check for values that are not formatted to PHP standards\n- [#7191] Fix invalid api doc link in link_tag_scheme description\n- [#7194] Fix issue where save button did not enable when reordering groups on user edit screen\n- [#3818] Change modWebLink default responseCode to 301\n- [#6611] Fix issue where MODx.Browser did not sort files by name by default\n- [#7070] Do not overwrite user changes in default media sources during upgrade process\n- [#7066] Allow search locally in Package Management if cURL is not installed\n- [#7063] Fix issue with retreiving Element Media Source cache data\n- [#7036] Fix issue with multiple grid store loading when searching\n- Allow for non-PHP Dashboard File Widgets that are just HTML files\n- [#6711] Fix issue with using MODx.Browser with file nodes and clicking loading edit page\n- [#6936] Add sanity check for database tables getlist processor if user did not grant SHOW TABLES permissions for sql\n- [#6942] Add missing resource duplicate ACL permission description lexicon string\n- [#6970] Reload error log page after clearing too large error log file\n- [#6956] Fix wrong groupname for OnMediaSourceDuplicate plugin event\n- [#7013] Fix issue where modUser->getUserGroupNames was buggy with non-self users\n- [#6960] Fix rendering issue when tree_root_id is set\n- [#7031] Ensure setting from addr in modMail sets return-path as well\n- [#7010] Add in rootId config option for MODx.Browser mgr widget\n- [#6874] Fix issue where duplicating a TV did not copy Media Source relationships correctly\n- [#6582] Fix clear cache checkbox persistence in Resource page when reloading via Template change\n- Add modX::getInstance() factory method\n- Allow for MODX tags within Media Source properties\n- [#5410] Add lock_ttl to System Settings for controlling ttl for resource locks\n- [#6575] Ensure that downloads of packages work behind proxies if allow_url_fopen is on\n- [#4879] Add language selector to login page\n- [#6826] Add activate/deactivate to context menu for Plugins in tree\n- [#6509] Fix minify issue in windows environments due to doc root pathing\n- Fix CSS for active tabs in mgr in IE\n- Prevent ENTER key from firing save in textareas in various modals\n- [#6712] Fix issue with Resource Group tree being limited to 10 groups\n- Bypass modSystemSetting->clearCache() when OPT_SETUP is true\n- Allow display of custom messages from form processors\n- Fix issue with extra slashes in URIs\n- Add ability to reload permissions for all authenticated users\n- [#6651] Add properties field and API methods for modResource\n- [#6613] Ensure page redirects if removing Element via tree that is currently being edited\n- [#6608] Fix search text in package management when doing empty search\n- [#6633] Ensure change password fieldset checkbox toggles dirty status for user form\n- [#6567] Fix Suhosin check to disable compress_js setting\n- [#6587] Fix issue with combobox rendering in editable grids by providing combocolumn xtype for proper data rendering\n- [#6583] Fix duplicate upload_files values\n- Prevent editing and deleting of core standard Roles\n\nMODX Revolution 2.2.0-pl2 (January 4, 2012)\n====================================\n- [#6564] Fix issue where save button on New Resource does not work due to JS DOM error\n- [#6470] Fix issue where Media Sources could not be protected on new installs only\n\nMODX Revolution 2.2.0-pl (January 4, 2012)\n====================================\n- [#6559] Fix issue with save btn on resources not enabling after template change\n- Better handling of dynamic lexicon topic adding and deprecated manager controllers\n- [#5905] Refactor new package versions to run ACTION_UPGRADE\n- [#6120] Improve static element behavior with immutable sources\n- [#6551] Fix issue where ID instead of name of Template showed on resource combo\n- [#6509] Fix minify issue when DOCUMENT_ROOT is a symlink\n- [#6546] Reposition setting grid filter dropdowns to clarify behavior\n- [#4146] Fix issue where Content Types were always binary when created\n- [#6470] Fix issue where Media Sources could not be protected due to missing reference in principal_targets setting\n- [#6520] Fix issue with Quick Create Resource and default settings\n- [#6510] Fix minify issue with virtual dirs inside the document root\n- [#5229] Fix issue where changing parent did not reload Resource edit page\n- [#6513] Better handling for large error.log files in mgr\n- [#6519] Ensure JS config gets working context config\n- [#6507] Add missing Media Source plugin events\n- [#6505] Remove htmlentities on date output filter\n- Allow PDO driver options to be defined in MODX config\n- [#6383] Add index.php to minify paths in mgr templates\n\nMODX Revolution 2.2.0-rc-3 (December 22, 2011)\n====================================\n- [#6247] Fix additional minify issues with CMP controllers in MODX_ASSETS_PATH\n- [#6428] Fix improperly designated tooltip and UI for create namespace window\n- Fix various regression issues with rename/delete files/directories in the Files tree\n- Ensure hideFiles property works for the files tree\n- [#6383] Add index.php to minify paths\n- Prevent TVs tab from showing in Resources if the only TVs are of type \"hidden\"\n- [#6413] Fix missing date_timezone setting description\n- [#6297] Prevent invalid characters in property set names\n- [#5997] Fix issue where components dirs were being created in assets with non-standard assets directory paths\n- Fix issue where resource ID was not being passed to FC rule checks\n- [#6417] Fix issue with modResource class_key being incorrectly set\n- Adjust modResponse contentType loading to allow overriding in custom resource classes\n- Fix critical timezone issue introduced for [#6077]\n\nMODX Revolution 2.2.0-rc-2 (December 16, 2011)\n====================================\n- [#3033] Add method to reload Context data in same request\n- [#6372] Add explicit resource_duplicate permission for duplicating a resource\n- [#6364] Fix incorrect lexicon reference in package versions grid\n- [#6365] Add manager_login_url_alternate setting which allows for setting a custom manager login URL\n- [#6077] Override PHP default timezone via System/Context Settings\n- [#5709] Fix issue where drag/drop in left trees did not work when package management was open\n- [#6153] Prevent enter key from sending Message when typing in messages page\n- [#6349] Properties can now belong to areas, and are grouped in grid by area\n- [#6344] Fix various pathing issues when drag/dropping files into content\n- [#5941] Add anonymous Load Only ACL when creating contexts\n- [#6247] Fix minify issues outside of $_SERVER[\\\'DOCUMENT_ROOT\\\']\n- Improve skipFiles attribute for file media sources to allow MODX tags and hiding directories\n- [#6336] Fix error when updating property via window in media source properties grid\n- Fix various issues with permissions and ACLs on Media Sources\n- [#6306] Fix issue with close button always prompting changes made when changes may not have been made\n- [#6317] Fix issue with combo editor rendering in grids\n- [#6307] Save button now properly resets to disabled after save\n- [#6313] Fix issue with renaming content field label on derivative resource types\n- [#6084] Fix upgrade from 2.0.x releases\n- Add OnManagerPageBeforeRender and OnManagerPageAfterRender events\n- [#6207] Prevent overwriting static element file content when changing a static source\n- [#6255] Escape html tags in readme, license and changelog files for downloaded Packages\n- [#6096] Fix more issues with Resource reloading after changing a template by making the Resource Access grid local\n- [#5418] Add ability to export/import Access Policies\n- Add ability to import/export Policy Templates, as well as a base export/import processor class\n- [#6242] Actions on regular Resources break with Custom Resource Class extended fields\n- [#6096] Fix issue where reload token in Resource create would not allow save after validation\n- [#6238] Fix rendering issue when opening multiple quick create resource windows at once\n- Fix various issues with TV input and output renders by properly objectifying them into base abstract classes\n- [#5763] Allow for 3rd-level deep category nesting\n- [#6215] Fix issues with derivative resources and non-standard manager themes\n- [#6237] Add ability to sort users by active status in mgr grid\n- [#6197] Refresh old and new context caches when moving Resource\n- Update to xPDO 2.2.1-pl\n- [#6080] Fix revert to default properties on Source Properties grid\n- [#6204] Fix issue where multiple languages could not be loaded per page in the lexicon\n- [#6196] Ensure that MODx.Browser view updates when changing a media source from dropdown in tree\n- [#6198] Fix issue with saving user groups on a new user that caused duplicate role saving\n- [#6159] Implement OnBeforeUserActivate, OnUserActivate, OnBeforeUserDeactivate, and OnUserDeactivate events\n- [#6063] Add extra settings and checks to allow for better handling of manager CSS/JS minification on servers that do not allow DOCUMENT_ROOT access\n- [#6147] Fix element processors not firing proper events and passing wrong variables to plugins.\n- [#6060] Fix issue where resources were getting class_key of modResource rather than modDocument\n- [#6030] Fix issue where alt attribute was duplicated on image output renders\n- [#6122] Clarify text for removing a dashboard widget from a dashboard\n- [#6124] Fix issue where element associations of various elements were not saved in respective create processors\n- [#6145] Allow sorting of plugin events by enabled flag\n- [#6065] Fix issue with missing paths in certain environments for new installs in setup\n- Fix provider select window width in Chrome/Windows\n- [#6081] Fix issue in modFileMediaSource that prevented source properties from being read in certain processors\n- [#5141] Remove dependency for navbar.tpl in manager templates\n- [#5760] Fix memberof filter if user is not logged in\n- [#6090] Fix issue with removing Content Types in 2.2-rc1\n- [#6088] Fix issue with :date output filter and umlauts\n- [#6093] Make for easier translations of Element context menu items\n- [#6099] Fix incorrect index name for modWorkspace\n\nMODX Revolution 2.2.0-rc-1 (November 17, 2011)\n====================================\n- [#6019] Configure log_level, log_target, and debug via Settings\n- [#4798] Resource create/edit: Template can be switched without saving\n- Update to xPDO 2.2.0-pl\n- [#6039] Fix issue where Resources could be improperly dropped into the right tree in the Resource Groups screen\n- [#5715] Fix issue with resetting of header in Element panels\n- [#6025] Fix issue with renaming checkbox fields via Form Customization\n- [#5697] Fix issue with allow_multiple_emails in user creation\n- [#121] Add option for Elements to pre-process default property/property set values\n- [#6017],[#2774] Add more Permissions to Administrator policy for managing security functions\n- [#5064] Fix issue where access_permissions Permission was required for creating new users\n- Improve Package Management UI\n- Add modManagerController::addLexiconTopic for easier adding of lexicon topics dynamically within mgr controllers and dashboard widgets\n- [#6009] Add ability to hide left-hand trees when rendering a Dashboard\n- [#6007] Stop upgrade from overwriting session_cookie_path system setting\n- [#5998] Add \"Create File\" option for stream-based media sources\n- [#4794] Add custom Permissions for restricting creation of core derivative Resource Types\n- [#4958] Add Resource ID to node of Resource in Resource Groups tree\n- [#5434] Change manager page title to use site_name as prefix instead of MODX\n- [#4875] Add ability to download file from Files tree\n- [#5997] Fix issue where in advanced installs with moved web path, assets directory is improperly created\n- [#5990] Fix issue where content types were not listable in Resource dropdowns\n- [#232] Enable option to render target URL for WebLinks\n- [#5963] Fix issue with Static Elements and their Source being None\n- [#5936] Fix issue where Quick Update Resource was too high on smaller screens\n- Fix issue with phpThumb and zoom crop\n- [#5983] Fix adding/updating a provider window duplicating \"username\" field.[#5948] Ensure that menu item for Change Profile is added on build\n- [#5985] Fix updating a provider not showing username\n- [#5978] [ReUp] [#5978] Fix missing fields/tabs in actions XML causing issues with form customization on resource/create\n- [#5938] Optimize modResource->getTVValue() using parser source cache when available\n- [#5973] Prevent empty user groups being loaded for anonymous users\n- [#5962] Fix phptype in modContextResource.resource field definition\n- [#5050], [#5366], [#5781] Various xPDO Database Caching Fixes (xPDO 2.2.0-rc2)\n- [#4830] Prevent removal of Content Types that are in use\n- [#5293] Prevent drag/drop from Resource Group tree to Resource tree in Resource Group page\n- [#4433] Validate paths in setup for trailing slash\n- [#564], [#4506] Make Workspace path portable by allowing path setting replacements\n- [#5086] Fix issues with Package Management when open_basedir is in effect\n- [#4947] Adjust ensuring of admin access to context to only needed policies\n- [#5078] Have default resource field context settings, such as default_template, respected in Quick create\n- [#5909] Allow blank extensions in Add Content Type window\n- [#5931] Fix code that prevents easy renaming of assets directory with package management\n- [#5841] Properly color active state for tabs in mgr ui\n- [#3287] Fix issue with dob User field in editing panel in mgr\n- [#5060], [#5043] Fix issue with openTo and TVs for MODx.Browser\n- [#3396] Allow MODX_API_MODE in mgr context\n- [#4230] Add ODF and OOXML to default uploadable file types setting\n- [#5315] Use automatic_alias behavior when updating site_start regardless of setting\n- [#3535] Fix issue with tree_default_sort not being respected on the resource tree\n- [#5892] Add for default_media_source setting for specifying the default media source for a site\n- [#5896] Make console window always closable\n- [#5757] Allow text in grids to be selectable\n- [#5471] Add publishing options to Duplicate Resource window\n- [#5879] Ensure html tags are stripped on titles in the Resource edit view\n- [#5855] Ensure if no parents are specified, resourcelist input option works as expected\n- [#5852] Fix issue where input options are wiped on quick update TV\n- Add showNone option to source/getlist processor\n- [#5619] Enable modElements to store content in external files\n- [#5856] Implement ability for derivative Resource types to have their own translatable name\n- [#4726] Implement server-side state provider for modExt to fix size problems with cookies\n- [#5860] Fix FC SQL error when user is in no groups\n- [#5843] Add required asterisk to required Element fields\n- [#5723] Add Media Source tab to User Group Access screen\n- Change \"Cancel\" references to \"Close\" for clarity\n- [#4566] Fix online users manager dashboard widget grid\n- [#5809] Change \"Remove\" to \"Delete\" where appropriate to clarify language\n- Refactor processors to be class-based\n- [#90] 301 Redirect id method requests when request_method_strict is not enabled\n- [#90], [#5676] Improvements to strict routing with friendly_urls\n- [#5323] Add system events for moving Resources in and out of Resource Groups\n- [#4610] Add locale system setting for setting locale in MODX\n- Add HTML5 local caching as a toggleable option for manager ui\n- [#5788] Fix content not output to browser until after shutdown function\n- [#5777] Fix validation of TV names against Resource field names\n- Add ability to install and upgrade MODX from command line\n- [#5745] Ensure all core passwords are not transmitted through MODx.config JS array\n- [#4304] Add default_content_type Setting for setting the default Content Type for Resources\n- [#2735] Ensure menu permissions are checked for mgr action if action has menu associated\n- [#4606] Clarify connectors language in setup\n- [#5561] Add search toolbar to packages grid\n- [#5587] Fix issue with dashboard widgets and caching\n- [#5453] Add ability to disable forgot password on manager login screen\n- Add batch remove to Namespaces grid\n- [#5671] Add :toPlaceholder, :cssToHead, :htmlToHead, :htmlToBottom, :jsToHead, :jsToBottom output filters\n- Add delete user button to user editing page toolbar\n- [#5542] Add ability to drag/drop files and folders in the Files tab\n- [#5665] Remove console.log debug references in JS\n- Add Media Sources, which allow abstraction of file management in MODX\n- [#2737] Centralize logic for changing Context of modResource Children\n- [#5068] Move token check for new resources below error validation in processor to prevent bogus duplicate resource issue\n- [#4945] Remove weblink content maxlength restriction\n- [#5270] Enable container drag \\\'n drop in Extended Fields tree\n- [#4790] Add support for comment tag token, e.g. [[- comments here]]\n- [#5539] Add back in compress_css/js for allowing toggling of js/css compression in manager\n- [#5556] Enable connection pooling with master/slave support\n- [#5499] Ensure modFile create returns boolean\n- [#5501] Add sanity checks on FC rules renameTab and hideField\n- [#5505] Fix issue with dropdowns in Fx5\n- Enable modTag elements to accept property sets\n- Enable modElement->getPropertySet() to merge @propertyset in name with property set specified in setName parameter\n- Allow modParser->getElement() method to accept @propertySet in name parameter\n- Prevent modParser->parsePropertyString() from trimming all backticks at beginning and end of string\n- Improve parser efficiency by returning results of nested tags if elementOutput is null|false\n- [#5392] Fix bug where policy template descriptions were not translated\n- [#5377] Fix modParser->isProcessingTag() bug preventing filtering on placeholder tags\n- Pass content by reference to OnParseDocument event\n- Add message_key and json message_format option to system/registry/register/send processor\n- Allow raw messages to be returned from system/registry/register/read processor\n- Add include_keys option to modRegister implementations\n- [#5336] Prefix non-core actions in the MODx.action JS object with their namespace\n- Avoid setting description to null in element/propertyset/create processor\n- Improve modX->logManagerAction to avoid attempts to insert NULL values\n- Accept null options in modHashing->__construct()\n- [#4607], [#3463] Add rank field for contexts to allow custom sorting in tree, fix issues with context/resource dragging and dropping and ensure context name validation rules are consistent\n- Improve UI of User\\\'s groups to allow for assigning ranks to User Groups for a User\n- Add Custom Dashboards and Dashboard Widgets\n- [#4871] Fix Access Permissions not being copied when duplicating a context\n- [#4382] Forgot Manager Password now lookups using username to prevent issues when the \\\'allow_multiple_emails\\\' system setting is enabled\n- Fix rendering of combo boxes in element properties\n- Add ability to select Primary User Group for User\n- [#4637] Fix RTE checkbox not saving correctly when using Quick Create Resource\n- [#5268] Add search toolbar for Resource tree\n- [#4080] Add Content Type and Content Disposition to Quick Create/Update Resource\n- [#5250] Add check for cURL in Package Management\n- [#5204] Add search by parent to mgr search page\n- Added much better handling for custom resource classes; deprecated custom_resource_classes setting\n- [#4601] Ensure children of protected Resources inherit by default their parent\\\'s Resource Groups in create UI\n- [#4016] Update description text in grid when adding/updating element properties without need for page reload\n- [#2860] Fix \\\'Sent On\\\' date when viewing an expanded message\n- [#4984] Ensure tree highlighting of currently edited resource/element/file works consistently\n- [#2638] When updating an element\\\'s category, ensure old treenode is removed\n- [#5139] Fix issues with MODx.Browser and file/image TVs in other contexts\n- [#4958] Add IDs to Resource Groups in RG tree\n- Add ability to rename Resource Groups\n- [#5185] Improve core package already extracted validation for upgrades\n- Update xPDO and regenerate schema to get new maps of derivative classes\n- [#5195] Change TV value fields from TEXT to MEDIUMTEXT (mysql)\n- [#5141] Add ability to override specific controllers/templates in a custom manager theme w/ fallback to default\n- Add modResource::getControllerPath method for better abstraction of derivative resource types\n- Add show_in_tree and hide_children_in_tree fields to modResource for better support with custom Resource types\n- Abstract all manager controllers to classes to improve usability, testing and creation of controllers\n\nMODX Revolution 2.1.3-pl (July 21, 2011)\n====================================\n- [#5295] Fix parents input option for Resource List TV when 0 is specified\n- [#5190] Fix includeParent input option in Resource List TV\n- [#5222] Fix nested cacheable tags being skipped in non-cacheable tags\n- Fix delegateView recursion in Resource controllers on Windows\n- [#3966] Fix double slash issue in file paths when dragging into resource content from the Files tree\n- [#4565] Fix issue with Resource tree sorting\n- [#5026] Make directory tree in MODx.Browser instance launched from Files tab consistent with other instances of MODx.Browser\n- [#4960] Prevent method declaration error for modPHPMailer::reset()\n- [#3716] Ensure consistent handling of combo-boolean property values in the database\n- [#4586] Improve number detection for Radio and Checkbox TV values\n- [#5196] Unset uri_override when duplicating creates a duplicate uri\n\nMODX Revolution 2.1.2-pl (July 6, 2011)\n====================================\n- Fix issue with modUser::getSettings pulling a deprecated alias\n- Update to xPDO v2.1.5-pl\n- Implement DocBlox for documentation generation\n- [#5168] Fix element and tv permission queries for SQL Server\n- [#5146] Fix issue with Firefox and button widths\n- [#5164] Fix possible issue if a TV is stranded to a non-existent category\n- Update ExtJS to 3.4.0\n- Set a default session_gc_maxlifetime to avoid frequent logout issues\n- Refresh modExt trees when drag operations fail\n- [#4918] Limit save permission check to modified nodes in resource/sort processor\n- [#5065] Fix 404 error with cross-context symlinks when cacheable\n- [#5152] Fix nested non-cacheable tags from being cached in modResource->_content\n- [#5145] Update config check on dashboard to show correct core path if core is moved\n- [#5112] Add Settings for adjusting behavior of Context sorting in Resources tree\n- [#4341] Properly clarify text and function on Resource Tree context menu options for view/preview\n- [#5046] Fix issue where parent could not be changed for new resources via Form Customization\n- [#5112] Sort contexts by name ascending in the Resources tree\n- [#5102] Fix error removing older transport package versions\n- [#4940] Fix issue where CMPs that did not use ExtJS could not scroll\n- [#5097] Ensure browser toolbar button does not show when MODx.Browser is already open\n- [#4953] Improve modx.console.js to avoid message loss\n- [#4836] Make sure modFileRegister sorts messages before reading\n- [#5087] Fix issue where class_key was not respected when using Add Another in UI\n- [#260] Implement on-the-fly compression for css/js in manager\n- [#3464] Set xPDOTransport::ACTION_UPGRADE for already installed packages\n- [#4955] Package management actions refresh packages cache partition\n- [#5071] (SqlSrv) fix/refactor Plugin Events getList processor\n- [#2870] Change internalKey default value to NULL\n- [#5072] Add missing primary key index to modEvent\n- [#5005] Fix incorrect label on introtext field in weblink panel\n- Remove session_cookie_lifetime variable when logging out of context\n- Remove legacy SESSION variables and dependencies\n- [#4703] Remove user settings when logging out of a Context\n- [#2566] Improve tv output render url to take resource pagetitle when using resourcelist TV type\n- [#5020] Improve per page field on grids to handle ENTER key\n- [#5021] Improve modUser::joinGroup to check to see if user is already in group\n- [#5025] Fix issue where duplicate resource window did not show duplicate children option\n- [#5007] Only create Lexicon Entries for Settings if they are specified\n- [#5006] Fix issue with updating a policy template with no permissions\n- [#5001] Fix issue with modauth, wctx and RTE browser\n\nMODX Revolution 2.1.1-pl (June 1, 2011)\n====================================\n- Make modauth calculation independent of session_id\n- Ensure login/logout processors do not add Contexts with empty keys\n- [#3145] Ensure mail_smtp_pass and proxy_password System Settings use password xtype\n- [#4360] Show current context name on MODx.Browser window for reference\n- [#4881] Fix issue where modx-combo-language was missing from system setting editing screen\n- [#4896] Fix issue where New Category window is not cleared on each load\n- [#4934] Fix missing lexicon load call in package download processor\n- [#4927] Gray out disabled plugins in elements tree, italicize locked elements\n- [#4921] Ensure Category names are not ever capitalized when displayed as tabs\n- [#4865] Fix PDO error caused by missing charset for new MySQL installs on PHP 5.3.6+\n- Improve modSessionHandler and add Settings for advanced configuration\n- [#4750] Fix various issues with duplicating Resources, such as new name not prefixed and incorrect menuindex\n- [#4910] Fix bug where ResourceList TV type could not be marked as required\n- [#4915] Fix UI glitch when creating both an Access Policy and its Template on same page load\n- [#4916] Fix issue where cache clear checkbox was always being cleared on template save\n- [#4884] Remove PHP4 constructor on modRegister\n- Harden connector CSRF security by tying user session modauth to prevent hijacking of session if modauth is known\n- [#4863] Fix issue where template changing causes unintended alias\n- [#4854] Fix bug that caused update/rename file to be missing in Files tree context menu\n- [#4851] Improve safe_mode check in setup to check for non-boolean values\n- [#4856] Fix issue with MODx.Panel instances that have no textfields, causing scrollbar issues\n- Fix issue where MODX version was not being sent to provider during package update\n- [#4850] Fix issue with MODx.Window instances that have no textfields\n\nMODX Revolution 2.1.0-pl (May 24, 2011)\n====================================\n- [#4818] Fix SqlSrv query errors related to TVs\n- Add modX->$sourceCache data to cached Resources\n- Fix loading of cached Resource content and processed flag\n- Fix caching of empty policies for Resources\n- Fix modSessionHandler->write() cache flag if cache_db_session is not enabled\n- Update xPDO to v2.1.4-pl for cache_db bug fixes and improvements\n- [#4832] Fix issue with moving resource parent to root\n- [#4827] Make sure editing a file sends the working context along\n- Fix erroneous call to OnDocUnpublished event that should be OnDocUnPublished\n- [#4796] fix New Resource page heading during typing of page title\n- Add Usergroup filter to users grid\n- [#4785] Fix preview of files in left tree in non-standard contexts with absolute filemanager_ settings\n- [#4473] Add other common file types to upload_files system setting\n- [#4539] Fix issue with stretching of quick update chunk and small screen resolutions\n- Automatically focus cursor to first textfield on windows in mgr\n- [#4738] Fix issue with inconsistent results in resourcelist TV\n- [#4441] Fix FC issue when parent is constraint and trying to change default template\n- [#4764] Fix issue with timestamp display on manager log page\n- [#4680] Fix javascript error when typing Template name\n- [#4681] Fix path issue which was causing 404 errors in the manager, IE 7-9\n- [#4439] Add parentheses to list of disallowed password characters in installer\n- [#4669] Fix button target size to make it more responsive to most clicks\n- [#4625] Fix sizes of buttons and submit inputs in installer - IE 8 and 9\n- [#4617] Fix custom values not being shown on Context Installation page during Advanced Upgrade\n- [#4605] modX->switchContext() now checks load permission via Context ACLs\n- [#4595] Fix display of modified/accessed times on Edit File page\n- [#4594] Fix last login time displayed in Info block of Manager welcome page\n- [#4470] Fix frozen URI not displayed when editing resource\n- [#4572] Fix installer error log filenames (characters not allowed in Windows filenames)\n- [#4585] Fix database connection processors in advanced upgrade\n- Update xPDO to v2.1.3-pl\n- [#4567] Remove calls to xPDO->log() in xPDOCacheManager->writeFile()\n- [#4557] Minor fixes on Installer Options screen for Traditional package\n- [#4556] Fix js error on Welcome screen of Traditional package\\\'s installer\n- [#4076] Fix Edit/Quick Update context menu items in protected categories\n- Fix Context Access query broken in RC4 changes for #4502\n\nMODX Revolution 2.1.0-rc-4 (April 29, 2011)\n====================================\n- [#4543] Fix preview URLs when FURLs are turned Off\n- [#4537] Trigger refreshURIs when related settings are modified\n- Have modAccess*::loadAttributes() check access_*_enabled settings\n- [#4502] Enable custom targets in modUser->loadAttributes()\n- [#3692] Add policy checks for new_document_in_root and add_children to resource/sort processor\n- [#4526] Additional fixes for output filters on placeholders\n- [#4504] Ensure UserGroup ACLs are deleted along with UserGroups\n- [#4507] Fix usergroup description not being set when created\n- Change modResource->isDuplicateAlias() to return id of duplicate Resource\n- [#4495] Add duplicate URI check to resource/publish action\n- [#3857] Fix placeholder processing when output filters applied\n- [#4362] Fix path issues with Static Resources and base_urls of /\n- [#4074] Require list permission on Context for Resource searches\n- [#4439] Do not allow invalid characters in username / password\n- [#4485] Fix issue with scrolling on drag/drop Element Properties window in small resolutions\n- [#4352] Fix failedlogincount / user blocking logic in login processor\n- [#4373] Fix issue with htmltag TV output render and empty values\n- [#4374] Fix issue with updating files in the edit file page\n- [#4024] Fix issue with LocalProperty grids not rendering list type properties display values correctly\n- [#4400] Trim whitespace from Namespace paths when adding/updating them\n- [#4434] Fix issue with edit panel on contexts\n- [#4372] Fix View button not getting URI change after Save Resource (all Resource types)\n- [#4369] Ensure Save button is active after Template change on Weblink, Symlink, Static Resource\n- [#4471] Set Resource alias properly on update\n- [#4469] Guard against inadvertent creation of duplicate New Resources\n- Add options to configure cache file writing attempts when exclusive locks fail\n- [#4464] Prevent unnecessary TV queries on uncached Resources\n- [#4422] Fix problems updating Boolean settings (System, Context, User)\n- [#4453] Fix File Browser when paths contain \"n_\"\n- [#4447] Fix ACL grid in Edit Context view\n- [#4438] Fix error logging to custom log targets defined by array\n- [#4399] Fix IE8 javascript error on Resource and Element update pages\n\nMODX Revolution 2.1.0-rc-3 (April 11, 2011)\n====================================\n- Fix invalid merge retained in master branch from 2.1.0-rc-1\n- Fix modResource::save() to refresh uri if isfolder field is dirty.\n\nMODX Revolution 2.1.0-rc-2 (April 11, 2011)\n====================================\n- Refresh resource tree if resource\\\'s parent has changed\n- [#4327] Fix bug with auto-publishing\n- Fix positioning of right panel in mgr UI to make tree/nav static and isolated from scrolling of right panel\n- Make alias required field in resource/create processor when friendly_urls is on but automatic_alias is off\n- [#4280] Fix issue where transport package could not be removed if transport files were removed\n- [#4281] Utilize modX::sourceCache in modParser::processElement()\n- Fix issues with Namespace grid related to context menus and search\n- [#4257] Fix issue where context menus did not show in Contexts grid\n- [#4288] Fix issue with resource preview context menu\n- [#4279] Fix undefined collResources notice with empty Contexts\n- [#3119] Fix modResource->getAliasPath() to use id if set\n- Upgrade MagpieRSS to 0.72 to fix issues with atom feeds\n- [#3623] Fix TemplateVarTemplate foreign key definition in modTemplate\n- Replace specific references to MySQL with more general language\n- [#4185] Change modx logo in mgr to new logo\n- [#4217] Add rank field to modUserGroupMember table\n- [#4271] Highlight currently editing Resource on tree\n- Fix issue with image/file TV and uploading in MODx.Browser when using a custom basePath TV\n- [#4270] Fix issue where images could not be removed when using a custom basePath TV\n- Add User Group related events\n- [#4260] Change title tag in mgr UI to reflect current page\n- [#4256] Add caption field to Quick Create/Update TV\n- [#4261] Change keyboard save shortcut to CTRL+S\n- [#4262] Ensure that FC rules htmlencode their tab/field labels\n- [#4243] Ensure that files that are read-only do not show save button; fix file tree opening\n- [#4244] Add backwards compatibility for Element properties of list type with older indexes\n- [#4236] Fix bug in Template combo that hid category name\n- Improve compression of images in mgr to reduce load times and core transport zip size\n- [#4232] Fix Output Options being ignored in TVs in 2.1.0-rc1\n- Add options to allow ACL queries to be disabled for Contexts, Categories, and Resource Groups\n- [#3941] Fix issue where Resource TV values were not copied when duplicating a Context\n- [#4202] Fix issues with file/image TVs urls/paths when using modx path placeholders\n- Fix sorting/display bugs on UserGroup ACL grids, add grouping for better visibility\n- [#4175] Add modRequest->getClientIp() for better IP handling\n- [#4217] Add rank field to modUserGroup\n- Update version to 2.1.0-rc-2\n- [#4173] Fix issues with math-related output filters and floats\n- [#4205] Ensure old modxcms.com provider is removed after change to modx.com provider\n- [#4220] Fix modX::makeUrl() when friendly_urls not enabled\n- [#4207] Fix issues with checkboxes and Form Customization rules\n- [#4013] Fix modX::_log() to pass target to parent::_log() properly\n\nMODX Revolution 2.1.0-rc-1 (March 28, 2011)\n====================================\n\n- Fix issue with properties and i18n in Element properties and in drag/drop box\n- [#4146] Fix issue where new Content Types were always created as Binary\n- [#291] Add principal_targets setting to allow custom ACLs to be loaded by MODX Principals/Users\n- [#99] Allow SymLinks/modX->sendForward() to forward to Resources in external Contexts\n- [#4147] Changing ContentType extension in grid not refreshing URIs\n- [#3967] Fix issue with running user create/update processors more than once in a session\n- [#3542] Hide Template Variables tab on Resource create/update pages if no TVs are present\n- [#788] FC Rules for TVs now display distinctly for create or update\n- [#1118] Add more help for User fields in manager editing page\n- [#2578] Fix issues with manager log view page where sorting was off and grid was not sortable\n- Fix issue where user-created FC tabs were not removable from a Set\n- [#4096] Fix Package Management archive issue when using mapped Windows drives\n- [#3785] Add category filter and search box to TV grid on Template panel\n- [#65] Make locked Resources be read-only rather than unviewable\n- Improve Package Management to show changelog, more supports information in package browser\n- [#4120] Fix issue where TV sort order is reset on Quick Update\n- [#4115] Fix issue with modPhpThumb and filenames with + signs\n- [#2719] Fix reset behavior on autotag/tag TV inputs\n- [#3586] Adjust improper text on Content Types page\n- [#2652] Fix issue where Element could be drag/dropped onto another Element in tree\n- Add ability to select a blank value for ResourceList TV input type\n- [#54] Fix issues with phpThumb and DOCUMENT_ROOT by adding a custom phpthumb_document_root System Setting\n- [#4122] Fix order of execution of validation and plugin events for Element processors\n- [#4105] Add Spanish translation\n- Refactor duplicate alias checks into duplicate URI checks\n- Cleanup deprecated code in Resource templates\n- [#3765] Ensure entries editedon values are set when editing a Lexicon Entry\n- Update ExtJS to 3.3.1\n- [#4073] Add session_name, session_cookie_path, session_cookie_domain as System Settings with blank default values\n- [#4077] Add resource_quick_create and resource_quick_update Permissions to restrict access to Quick actions on Resource tree\n- [#4050] Add tree_show_resource_ids and tree_show_element_ids Permissions to show/hide IDs of Resources/Elements in tree panels\n- Add username field to modTransportProvider, and send it and UUID to providers during transmissions\n- [#3641] Add base URL for Help links in manager for easier management and customization of URLs\n- [#3552] Fix issue causing list-xtype properties to be swapped when using drag/drop into field functionality\n- [#4069] Ensure that you cannot delete the last User in the Administrator user group\n- Add fix for ie9 to get tree nodes to work properly\n- Prevent Category ACL queries on Elements if no entries for current context\n- [#2601] Improve text and drag/drop for weblink/symlink content fields\n- [#3636] Fix issue with empty values on options in list/dropdown/checkbox/radio TVs\n- [#4024] Fix issue with display value not always showing for list properties in element property grid\n- [#4056], [#4041] Add xtype password, template, user, usergroup, etc to available xtypes for System Settings\n- [#3350] Improvements to bugfix for PHP bug 53632\n- [#4054] Improve select binding to be able to use Resource fields via placeholders\n- [#142] Add modResource.setTVValue API method\n- [#4021] Add system setting to allow setting of a custom favicon for the manager\n- [#3589] Fix issue with Static Resource paths when using custom filemanager_path\n- [#4040] Fix issue where Users were always created as active in mgr UI\n- [#4043] Enable drag/drop of users and groups in User Group tree\n- [#4052] Fix issues with element property import and invalid characters causing freezing in UI\n- [#4042] Fix issue in phpThumb base class preventing far property from working\n- [#4049] Add resource_tree_node_tooltip for controlling field in Resource Tree tooltip\n- [#3511], [#2964], [#3601] Fix issues regarding form customization and Templates by removing ajax loading of TVs in Resource panels\n- Consolidate JS for derivative Resource panels to allow to inherit from main Resource panel\n- Add context param to modx.getParentIds\n- [#3754] Ensure Resources can not have their parent set as one of their descendants\n- Add context param to modX.getChildIds\n- [#3612] Improve CDATA filter to not add spaces at beginning or end\n- [#3764] Add delete to actionbar on Resource edit panel\n- [#3585] Add description field to modUserGroup\n- [#3020] Improve trees to expand node on click if no href target is set for tree node\n- [#4006] Show children count rather than IDs on categories in element tree to lessen id ambiguity\n- Fix issue where Quick Create was not respecting unchecked setting checkboxes\n- [#3673] Add \"Save and Close\" button to quick update windows\n- [#3970] Ensure extension is lowercased before checking for allowed status when uploading files\n- [#3920] Ensure modPHPMailer resets replyTo and custom header fields\n- Add UI for managing Resource uri and uri_override fields\n- Remove all deprecated methods and variables scheduled for removal in next minor release\n- Change modxcms.com references to modx.com\n- [#3898] Prevent any non-integer being set in ?a= in mgr interface\n- [#3926] Ensure security/user/create processor can take in a class_key parameter to set class_key for SSO\n- Improve user processors event handling to allow for better SSO integration that can stop save/remove/update\n- Refactor password reset not to send password hash as activation key\n- [#325] Allow configurable user password hashing with PBKDF2 default implementation\n- [#3111] Fix bug causing unnecessary writes to Resource cache files\n- Update xPDO to v2.1.1-pl2\n- Add modResource.uri_override to allow a uri to be manually set and locked per Resource\n- [#3111] Add modResource.uri field to allow context maps to be regenerated in a single query\n- [#3859] Remove redundant check for php bug\n- [#3858] Fix javascript errors from FC hideField rule\n- [#2812] Add link_tag_scheme to define default scheme for makeUrl() call in modLinkTag\n- [#3111] Remove resourceListing, documentListing, and documentMap from context cache\n- [#3111] Cache refactoring with proper file locking, partitioning, and multiple format support\n- [#3111] Update xPDO to release 2.1.0-pl for cache improvements\n- [#3740] Add proxy support to modTransportPackage.class.php\n- [#3693] Fix reversed content-disposition logic on static resources\n- [#3427] Fix issue where User Settings were not respected with filemanager_path/url\n- [#3702] Ensure file/image TVs can have files drag/dropped onto them\n- [#3465] Add sanity check for non-object to log call in modAccessibleObject::_loadInstance\n- [#3615] Fix issue with modx->user->getResourceGroups, set resource groups in \"modx.user.{$id}.resourceGroups\" session key\n- [#3568] Fix double error->failure reference in resource/create processor\n- [#3425] MODx.Browser now loads directory of TV\\\'s current value on load\n- [#3481], [#3571], [#3304], [#3569] Fix issue with filemanager_path in non-web contexts\n- [#3009] Add ability to assign TVs to specific directories and base paths, limit file extensions shown\n- [#2679] Add Input Options to TVs, allowing TV inputs to be customized and tweaked\n\nMODX Revolution 2.0.7-pl (January 14, 2011)\n====================================\n- [#3472] Fix issue due to tree impr that prevented element saving success response\n- Improve loading of mgr pages by preventing trees from rendering until activated\n- [#3205] FC fixes: Ensure Resource Content field can have values set/renamed, that rules on create respect template, and that default values on create are set\n- [#3165] Fix issue where resource/updatefromgrid processor was missing published value if user does not have publish permission\n- [#2] Fix issue in user extended fields where subkeys in 2 separate containers DOM IDs conflict and prevent editing\n- [#3422], [#3374], [#3197] Fix issue with filemanager_url and Image/File TVs and their relative end result URLs\n- [#3201], [#177] Add modResource.leaveGroup, modTemplate.hasTemplateVar, modTemplateVar.hasTemplate\n- [#3350] Fix for PHP bug: http://www.exploringbinary.com/php-hangs-on-numeric-value-2-2250738585072011e-308/\n- [#3326] Fix issue where TV radio/cb options with value of 0 couldnt be selected\n- [#3329] Fix edit and cancel buttons on view resource page\n- [#3329] Clarify Preview link on Resource action toolbar to be more correct \"View\"\n- [#3347] Fix issue where renaming a file broke the browsing of directory tree\n- Fix issue where FC tvDefault rules, regardless of active state, are always run\n- Introduce pdo_sqlsrv support\n- Add database_dsn to config\n- Update xPDO to release 2.1.0-pl\n\nMODX Revolution 2.0.6-pl2 (January 6, 2011)\n====================================\n- [#3350] Fix for PHP bug: http://bugs.php.net/bug.php?id=53632\n- [#3347] Fix issue where renaming a file broke the browsing of directory tree\n- Fix issue where FC tvDefault rules, regardless of active state, are always run\n\nMODX Revolution 2.0.6-pl (December 20, 2010)\n====================================\n- [#3143] Fix lexicon grid search to respond to enter key\n- [#3144] Fix issue with reset password and @ being stripped\n- [#3142] Ensure whitespace is stripped from tags in tag/autotag TV types\n- [#3118] Ensure defaults are set in resource/create processor if values are not sent\n- [#3105] Improve memory_limit check in setup to accept integer values from PHP instances\n- [#3106] Add sanity check to resource create/update processors to disallow invalid Resource Group ID references\n- [#3038] Fix problems with filemanager_path settings and absolute URLs in image TV values\n- [#3039] Add symlink_merge_fields setting to disable modSymLink merge behavior\n- [#3103] Alter modSession data field to store more than 64Kb\n- [#3091] Add missing specific dom ID to profile change password panel\n- [#3096] Fix issue with exporting default properties not in a set from an element\n- [#3099] Fix FC rules to respect class_key constraints\n- [#3097] Fix extension_packages to support modx path placeholders, as well as new serviceClass and serviceName parameters\n- [#3085] Ensure Files tree only refreshes active node when creating/updating a file/dir\n- Improve the Permission dropdown and add window in AP Template page\n- [#3083] Fix Form Customization issue when Resource has a blank Template\n- [#3082] Fix Form Customization issue where cacheable and ID fields not able to be hidden/altered\n- [#3034] Fix error creating Resources in Contexts other than web\n- Fix issue with incorrect active permission total in Access Policy grid\n- [#3023] Fix issue where topmenu did not respect manager_language\n- [#3080] Fix missing placeholder in error message when attempting to create a duplicate Element\n- Add new header image to match new site\n- [#3078] Fix issue with htmltag TV widget properties when using = in its value\n- [#3079] Ensure GPC vars are not sent into $scriptProperties array in $modx->runProcessor\n- [#2983] Add sanity check to prevent plugins from firing if disabled (redundancy)\n- [#3057] Fix issue where parent change causes fail to save in UI\n- [#3076] Fix bug where manager returnUrl was not working due to [#2918] fix\n- [#3059] Ensure createdby is set on resource creation\n- [#3041] Fix missing lexicon entry in resource processors\n- [#3043] Fix invalid 200 response header on sendError()\n\nMODX Revolution 2.0.5-pl (December 8th, 2010)\n====================================\n- Change remove() to removePackage() in modTransportPackage\n- Fix issue with package setup-options attribute not loading forms\n- [#2932] Fix redirect issue after setup and on manager login page caused by [#2918]\n- [#2931] Fix issue where FC rules weren\\\'t applying if no UserGroup was set in a Profile\n- Ensure non-Resource FC rules are removed on upgrade\n- [#2918] Address XSS vuln in manager login that allows JS injection\n- Fix issue where // is stripped from filemanager_url http address\n- [#2902] Fix issue where Administrator policy ACLs in non-Administrator groups couldnt be edited\n- [#2915] Ensure UserGroups restriction is enforced in FC Profiles\n- Fix bug when editing FC profiles from a grid, issue where UserGroup wasn\\\'t respected\n- Ensure radio TV values still can select if default value is 0\n- [#2869] Fix issue with parent display text in Resource panel\n- [#2892] Fix problem creating folders on filesystem from file manager and browser\n- [#22] Allow SymLinks metadata to override target Resource metadata\n- Cache Resource ACL Policies with the Resource\n- [#2888] Fix problem with elementCache in modX::sendForward()\n- [#2610] Allow Elements to be created under a Category when a Category Policy is in effect\n- [#2869] Standardize initial parent combo value text on Resource edit page\n- [#2736] Colon character \":\" added to default FURL Alias Character Restriction Pattern\n- [#2889] Ensure that a new Resource gets an alias generated if auto_alias is On\n- [#2837] Ensure element properties import escapes <> and provide better error checking\n- [#2886] Ensure SimpleXML and XMLWriter extensions are installed when using FC Set import/export\n- [#2882] Add hidemenu_default setting for setting default hide from menus on Resources\n- Fix issue with derivative Resource types and FC rules\n- [#2858] Extra sanity checks to ensure md5 pw is never sent across get/getlist processors for Users, even if user has access level\n- [#6] Fix issue with RTL text in nodes in Resource tree\n- [#2873] Fix relativity of image urls in drag/drop and TVs when using various filemanager_path/url settings\n- [#2878] Ensure resource panel is marked dirty when drag/dropping into TV\n- [#2828] Fix issue with incorrect content field name for FC rules\n- [#2863] Fix order of execution issues with FC rules and default values\n- [#2874] Enhance User blockedafter/blockeduntil fields to accept time as well as date values\n- [#2529] Fix automatic publish/unpublish\n- Adjust FC rule ranks to properly account for prior FC rules that may affect FC constraints\n- Update xPDO to 2.0.0-pl release\n- [#2661] Fix Template getList processor to respect authority\n- [#313] Fix header error with binary modStaticResource downloads\n- [#206] Fix session bug with opcode caching systems like APC, WinCache, eAccelerator\n- [#2846] Add tag syntax to description hover text for resource fields\n- [#2849] Add ability to drag/drop onto TV fields\n- [#2848] Fix issue with file edit and base paths\n- [#2802] Ensure Category tab is hidden when all TVs are hidden in that Category\n- [#2779] Added Content Editor policy to default list of policies\n- [#2819] Fix bug in FC rules where parent constraint was not traversing up tree to inherit parents\n- [#2744] Fix bug with empty template and TV values\n- [#2841] Fix bug with File Edit page and modFileHandler reference\n- [#2839] Fix bug with failed login count not being updated\n- Add ability to view permissions inherited when viewing an ACL row in a grid\n- [#2834] Fix issue where constraint class was not set on new FC rules\n- [#2819] Fix issue with FC rules and execution order due to setting default templates, constraints\n- [#2830] Permit ability to change FC Set Template when editing a FC Set\n- [#2827] Fix issues related to FC upgrade with Rules with comma-separated names, differing constraints, and template setting\n- Fix issue related to #2625 with deferred tabpanel rendering that caused unpublishing when using Quick Update/Create\n- [#2825] Append idx to each item DOM id when using HTML tag tv output widget\n- [#2823] Add missing lexicon entry for TV output type\n- [#2817] Reorder System top menu for easier navigation\n- [#2820] Add DOM id to Profile page tabs\n- [#2814] Add longtitle, description, template to Quick Update/Create\n- [#2789] Add check to make sure safe_mode is off in setup\n- [#2565] Improve Quick Create/Update Resource to move settings into tab rather than fieldset\n- [#2807] Add tree_default_sort System Setting for configuring the default sort setting for the Resource tree\n- [#2803] Fix css issue with portal blocks on manager dashboard in Fx\n- Add new Form Customization UI, including Form Customization Profiles and Sets; much easier editing of FC rules\n- Fix issue with modInstallSmarty constructor due to Smarty upgrade\n- [#2799] Remove ext3 debug files to save space\n- [#2801] Fix bug with checkbox tvs without specified value options\n- Upgrade Smarty to 3.0.4\n- [#2782] Add changelog to Package View page\n- [#2782] Add ability to view changelog when installing a package via the \"changelog\" package attribute (similar to readme)\n- [#2770] Ensure email TV input type validates email\n- [#2776] Fix issue where context settings grid was not filterable\n- [#2790] Ensure \"number\" TV types restrict input to numbers only\n- [#2730] Fix rendering issue with policy template/group grids\n- [#2794] Allow TV URL output render to handle values that are straight Resource IDs\n- [#2741] Fix bug where Resource Group associations were not copied when duplicating a Resource\n- [#2746] Fix bug where email was sent in registration email rather than username\n- [#2733] Fix bug where Template Var associations were not copied when duplicating a Template\n- [#2742] Fix deprecated evtid reference in plugin duplicate processor\n- Fix various bugs with context settings and wctx param\n- Fix bug where modX::getDocumentChildrenTVars ignores docsort parameter\n- [#2743] Connectors using wrong permissions with processors\n- [#2758] Add modProcessorResponse class to better handle processor responses and error messages\n- [#2758] Add $modx->runProcessor($action,$scriptProperties,$options) to better handle processor execution; deprecated $modx->executeProcessor\n- [#84] Make distribution name available in manager\n- [#2666] Prevent sendRedirect() from preserving request parameters unless specified\n- [#2721] Fixed issue with per page items in MODx.grid.Grid that was incorrectly handling int value\n- [#2691] Fixed issue with duplicate aliases when duplicating a Resource\n- [#2506] Flag properties as dirty when importing from a file on properties grid\n- [#2592] Prevent cache files from being allowed in upload_files setting\n- Improved areas dropdown filter to include number of settings that have that area\n- [#2694] Fixed positioning and scrollbar issue in Fx with success status message on save\n- Added setting clear_cache_refresh_trees that allows you to toggle whether the trees refresh on site cache clear; defaults to false\n- [#2709] Fixed bug where Object-Template policies were unavailable to certain grids\n- [#2597] Fixed bug where Context Setting xtype and area are reset on grid save\n- Upgraded extension_packages setting to JSON for more options with packages and easier editing in Extras scripts\n- Fixed bugs relating to using filemanager_path in a separate context, as well as other bugs with context-specific settings in mgr\n- [#2496] Fixed bug that prevented icon from resetting when dragging Resources into a new parent\n- [#713] Prevent children resources from being prefixed with \"Duplicate of\" when duplicating a resource unless explicitly told to do so\n- [#2581] Fixed bug with resourcelist TV input type to handle resources from multiple contexts\n- [#2518] Added delay to allow FC rules to load before RTEs load to allow RTE TVs to be moved\n- [#2611] Added workaround for ExtJS bug with checkboxes/radios and an inputValue of string 0 that would prevent toggling\n- [#2512] Have remove setup/ dir checked by default if not using Git version of MODx\n- [#2699] Fixed loading issues with help panel on slow connections\n- [#2701] Fixed issue where description did not show until refresh when adding a new Permission to an Access Policy Template\n- [#2695] Postfixed Template to names of Access Policy Templates for clarity\n- [#2700] Fixed bug with Access Policy Template editor that reset values on save\n- [#2690] Renamed Administrator Access Policy Template Group to Admin\n- [#2563] Fixed chmod action on directories from File Tree\n- [#2693] Properly sort country indicies to properly display in dropdowns\n- [#2562] Added confirm dialog and success response for emptying recycle bin\n- [#2634] Ensured context key is changed when changing parent of a Resource via Edit Resource page if context is different for new parent\n- [#2631] Fixed issue when drag/dropping categories onto other categories in Element tree\n- [#2659] Fixed issue where action buttons were overlapping tabs on edit pages\n- [#2668] Fixed issue with FC rules and labels on checkbox/radio fields\n- [#2582] Fixed bug with orm tree preventing attributes on the root node\n- Fix bug in phpthumb allowing remote src parameters regardless of settings\n- [#2555] Expose additional phpthumb options in System Settings\n- [#2503] \"Preview\" inaccurately described viewing current page/site. Changed to \"View\".\n- Fixed help message strings to correct URLs\n- Fixed missing options array call in modRestClient, isArray call in modRestCurlClient\n- [#2545] Added setting resource_tree_node_name to allow users to specify the field used for the node text on the Resource Tree\n- [#2639] Prevent user from specifying a FC rule with Action of none\n- [#2641] Fixed issue where template was reset incorrectly when canceled on template change\n- Fixed issue where Permissions were being duplicated on setup due to relational db issue\n- [#2646] Prevent removal/editing of default Administrator policy ACLs to prevent users from accidentally removing access to web context\n- Added modAccessPolicyTemplate and modAccessPolicyTemplateGroup for easier managing and editing of Access Policies, including a UI for managing Access Policy Templates\n- [#2483] Auto-generate alias when duplicating a Resource\n- [#2645] Set Resources unpublished when duplicating\n- Update to xPDO v2.0.0-rc3\n- [#2501] Fixed menu not being loaded on immediately-added policies without page refresh, added bulk actions to policy grid\n- [#2505] Save Property Set now shows feedback and success message\n- [#2507] Export properties now prefixes filename with property set name\n- [#2624] Improved Users grid to allow batch editing from right-click context menu\n- [#2609] Remove filter commands and modifiers from scriptProperties passed to modElement/modTag instances\n- [#2500] Improved CSS on welcome page for Fx users\n- [#2532] Improved Resource tree icons to better shown when a Resource has children as opposed to when it is marked as a container\n- [#2602] Improved language on Users access permissions grid to clarify action\n- [#2614] Expand comment field on modUserProfile to handle more than 255 characters\n- [#2613] Ensured User Groups in mgr are sorted alphanumerically\n- [#2599] Fixed issue where Add Element to Property Set window form values were not cleared on second loading\n- [#2596] Fixed issue where User Groups could not be removed\n- [#2542] Fixed hardcoded language lexicon load reference in policy/get processor\n- [#2573] Fixed issue with backslash in TV output render property values\n- [#2594] Fixed issue where special characters were being stripped from phone numbers in user profile\n- Fixed issue with file tree that prevented image thumbnails from showing\n- [#2525] Fixed filemanager_path issues by added filemanager_path_relative setting, and then calculating from that\n- [#2589] Fixed issue with port 80 feeds in magpie RSS feed parser\n- [#2544] Fixed issue with updatefromgrid processor with User Settings\n- [#2560] Fixed issue with resourcelist TV not persisting set value\n- [#2586] Add rank field to FC rules allowing organizing of order of execution\n- Update core schemas and regenerate maps for new xPDO index elements\n- [#69] Allow Transport Vehicles to abort installation when validation fails\n- Update xPDO version to 2.0.0-rc2 (official release)\n- [#2552] Fix scope issues when passing nested arrays in Chunk properties\n\nMODX Revolution 2.0.4-pl2 (October 15, 2010)\n====================================\n- [#2502] Fix fatal error with Resources protected by Resource Groups\n- Fixed issue with resourcelist TV\n\nMODX Revolution 2.0.4-pl (October 14, 2010)\n====================================\n- Fixed issue where redirect was not working after creating new derivative resource\n- [#2485] Fixed issue where placeholder was in duplicated Access Policy\n- [#2492] Fixed reference in menu to bugs.modx.com\n- [#2486] Removed hardcoded language reference in lexicon load in access permissions getList processor\n- [#126] Ensured clearing of cache when deleting a Template Variable\n- Fixed issue where cancel button did not work on Resources after save\n- Fixed issue with URL TV Output Render and empty input values\n- Fixed issues with checkboxes/radios in TVs and widths when hidden\n- Fixed various issues with thumbnails in MODx.Browser and return paths in separate contexts\n- Added toggle setting for drag/drop in Resource and Element trees\n- [#MODX-2346] Allow login/logout processors to handle multiple contexts\n- [#MODX-2405] Fixed issue with border on portal panels in mgr home screen\n- Fixed issue with TV output render that stripped whitespace in delimiter\n- Fixed hanging save issue that occurred when HTML was in pagetitle/longtitle in a Resource\n- Fixed issue where TV values were being erased when a TV was hidden via Form Customization\n- Updated reference to help in Form Customization page\n- Fixed trivial issues with widths in richtext tvs\n- [#MODX-2415] Added fix to prevent adding of orm tree attributes with the same key on the same level\n- Added resourcelist TV input type for easier listing of resources in a tv input\n- Updated ExtJS to 3.3.0\n- [#MODX-2378] Fixed issue where action toolbar was on left in IE7\n- [#MODX-2408] Fixed issue where sorting was not available for description field on search page\n- Fixed issue where modx->resource was not available to TV input option values or default values in mgr\n- [#MODX-2410] Fixed issue with urlencoded context key on context edit page\n- [#MODX-2407] Fixed issue where user settings were not respected in connectors in mgr\n- [#MODX-2279] Fix bad AJAX response if database does not exist or can\\\'t be created during setup\n- [#MODX-2404] Fixed issue with auto_menuindex and multiple contexts\n- [#MODX-2354] Fixed issue with image TV loading incorrect URL in thumbnail preview on initial load\n- [#MODX-2357] Properly addressed issue where FC hideTab rule was causing hidden tabs to show if they were active at load\n- Refactor modAccessibleObject to centralize load policy check in _loadInstance()\n- Update xPDO for several critical bug fixes\n- [#MODX-2402] In Package Browser, Most Popular/Recently Added package names are now links to auto-search in grid\n- [#MODX-2397] Added filtering and search to FC rule grid\n- [#MODX-2401] Adjusted JS version postfix code to not adjust .php (or non-js) files used as script src targets\n- Improved context menus on FC rule grid to allow for batch actions on selected items\n- Added `for_parent` field to FC rules, to allow for more fine-grained control of rule applications\n- [#MODX-2385] Fixed issue when Context ACL is using no policy that prevented grid loading\n- [#MODX-2380] Fixed issue with upgrades and rb_base_dir, rb_base_url and filemanager_path\n- [#MODX-2246] Added topmenu_show_descriptions system setting to be able to toggle the top menus description text\n- [#MODX-2375] Improved class key field in Resource panel to a dropdown, added modClassMap for easier querying of resource/element types\n- [#MODX-2391] Fixed issues with FC rules not being respected on resource/create with default values for new Resource\n- [#MODX-2382] Fixed dynamic width of fields in windows across ui\n- [#MODX-2383] Fix inability to update rank of TV\\\'s in template editor\n- [#MODX-2379] Fixed issue where permission checks were swapped in Resource context menu with regards to delete/undelete\n- [#MODX-2384] Fixed issue where treepanel still showed if all trees were hidden via permissions\n- [#MODX-2389] Fixed issue where setup options, license and readme displays were not cleared after installation of package\n- Fixed issue where loading mask shows up and never disappears on extended Resource types\n- [#MODX-2388] Fixed issue with save button and user settings\n- [#MODX-2387] Fixed issue with user settings not able to be added via mgr ui\n- Fixed bug that would reset provider for updated packages\n- Fixed issue with paging toolbar pageSize being interpreted as string rather than int\n- Fixed issue where parent id constraint was ignored for default template on new Resources\n- Added sanitization to REQUEST_URI for login controller\n- Updated version to 2.0.4-pl\n\nMODX Revolution 2.0.3-pl (September 30, 2010)\n====================================\n- Fixed error in modResource::cleanAlias when context var is not available\n- [#MODX-2376] Fixed issues with updating settings on the context page\n- Fixed security issue with login screen and resource TV controller that allowed html injection\n- Fixed issue where clear cache checkbox isn\\\'t checked on Element pages\n- [#MODX-2370] Fixed various bugs with plugin event association on plugin page\n- [#MODX-1823] Improved the System Info panel by extracting data from phpinfo()\n- [#MODX-2362] Added missing OnResourceTVFormPrerender event\n- [#MODX-2374] Fixed issue where children nodes were not being moved with parent into new context\n- [#MODX-2373] Fixed imageTV issue where thumbnail was not cleared on data clearing\n- [#MODX-364] Fixed regClient* methods in cacheable Snippets on cacheable Resources\n- [#MODX-2370] Fixed issue with saving property sets on plugin events\n- [#MODX-2369] Fixed issue with modLinkTag and output filters where the filter commands were included in the URL\n- [#MODX-2350] Ensure that new Contexts always have Admin and Resource policy for Admin user group assigned to them\n- [#MODX-2352] Ensure that Context Settings appropriately override System Settings in core-level parsing where a Context is existent (example: site_unavailable_page)\n- [#MODX-2356] Ensure that OnResourceDelete and OnResourceUndelete events in update processors fire at correct times, after save()\n- [#MODX-2361] Ensure that a user in the Administrator group *always* has access to a Context when it is restricted in another user group\n- [#MODX-2357] Fixed bug that occurs when hiding a tab with FC rule that is the default active tab\n- [#MODX-2358] Fixed rare bug occurring with treestate in Chrome due to undefined variables in path\n- Fixed various issues with package management and the add new package button\n- Fixed bug where ?v=203pl is being added to content with .js in it, due to earlier commit to prevent js caching\n- Fixed issues with ellipsis/limit filters and special chars\n- [#MODX-2353] Fixed bugs with checkbox/radio TVs and complex values with HTML/quotes in them\n- Fixed some bugs with deleting a file in MODx.Browser in the actual view pane\n- [#MODX-2354] Fixed issue with imageTV and incorrect preview url reference\n- Fixed ellipsis output filter to use &#8230; instead of ...\n- [#MODX-2327] Fixed bugs with Form Customization not being respected\n- [#MODX-2349] Fixed bug with Form Customization and fieldDefault rule with template field\n- Added code to prevent caching of JS after upgrades by postfixing version to JS URLs\n- [#MODX-2342] Fixed issue where xhtml_urls setting wasnt included in build\n- [#MODX-2345] Fixed issue with templates and categories in mgr not persisting\n- [#MODX-2341] Fixed issue with redirect statement on login page in certain environments\n- [#MODX-2343] File upload now respects upload_* extension restrictions\n- [#MODX-2344] Respect context-specific filemanager_path in upload/remove actions on directory tree in mgr\n\nMODX Revolution 2.0.2-pl (September 17, 2010)\n====================================\n- Fixed issue where Add New Package would not work when selecting a provider manually\n- [#MODX-2339] Fixed issue with caching menus in mgr and multiple languages\n- [#MODX-2340] Fixed issue with initial resource values reverting after a save\n- [#XPDO-72] Fix invalid call to $this->manager->getPhpType()\n\nMODX Revolution 2.0.1-pl (September 16, 2010)\n====================================\n- [#MODX-2317] Add responseCode parameter to modX::sendRedirect() method\n- Fixed issue with @DIRECTORY binding not postfixing base path with / before value\n- Many styling enhancements, fixes for [#MODX-2264], [#MODX-2193], [#MODX-1885], [#MODX-1847]\n- Fixed issue with lexicon translations for permissions dropdown in mgr\n- Enhanced system settings grid to autosave without refresh, which allows for tabbing between settings via keyboard to set values\n- [#MODX-2325] Updated placeholders in setup lexicons for french/german languages\n- Added an editable dropdown for Permissions tab when editing an Access Policy for easier addition of Permissions\n- Fixed issue where default template was overriding empty template resources\n- [#MODX-2325] Updated Czech translation\n- [#MODX-2329] Login page now auto-focuses on username textfield\n- Add missing modCategoryClosure to create_tables script in setup\n- [#MODX-2280] Fixed bugs with IE and package management\n- Prevent issue where a User Group can select itself as a parent\n- Allow typeahead on user field when adding a User to a User Group\n- Optimized Resource Group tree in mgr UI\n- Fixed issue where > 20 records were not showing in ACL lists in User Group edit panel\n- [#MODX-2206] Prevent issue where renaming a menu\\\'s lexicon key orphans child menus\n- Fixed rendering bugs in file edit panel, as well as optimized its loading and streamlined RTE integration on the panel\n- [#MODX-2202] Removed deprecated modAction objects to prevent confusion\n- [#MODX-2325] Updated Swedish translation\n- Prevent bug that causes modal to overlap welcome screen\n- Allow non-empty responses to OnBeforeTVFormSave to prevent save\n- [#MODX-2201] Ensure MODX_PROCESSORS_PATH is upgraded correctly on upgrades where the core is moved\n- [#MODX-2323] Allow non-empty responses to OnBeforeDocFormSave to prevent save\n- [#MODX-2309] Ensure upload files button always uses the active node as the path, or if it is a file, its parent directory\n- [#MODX-2295] Ensure menuindex can be overridden in resource creation if auto_menuindex is set to true\n- Fixes to resource panels to adjust widths, loading of values properly\n- [#MODX-2318] Fixes to TVs in Resource pages to make order sorting work correctly\n- Abstracted setup database methods to driver-specific structures to accomodate for various future db drivers\n- [#MODX-2241] Added archive_with setting so users with improper ZipArchive compiles can switch back to PCLZip\n- Updated xPDO to include sqlite drivers\n- [#MODX-2308] Added UUID to all modx installs for usage in extras, custom providers, stats tracking, etc\n- [#MODX-2303] Fixed issue where resource editing pages were not respecting context settings\n- [#MODX-2302] Fixed issue with loading of input option values in TV related to optimizations in 2.0.1\n- [#MODX-2297] Fixed output filters limit/ellipsis when dealing with special character cases\n- [#MODX-2290] Added image preview when hovering over images in file tree\n- Added extra sanity checks in Package Management in case transport zips are not extracted\n- Make package grid update available Yes clickable to update\n- Cleaned up and better abstracted modRestClient and modRestCurlClient code\n- Fixed bug in setup during upgrade-advanced where DB information was not being checked correctly\n- Lots of improvements to handling and caching of thumbnails in manager\n- Fixed bug where reset filter on settings grid was not resetting to core namespace\n- [#MODX-2178] Added missing settings and lexicon values for those settings to build/lexicons\n- [#MODX-2179] Lexicons in Setup now use placeholders rather than sprintf for better i18n support\n- Added phpthumb_imagemagick_path for users that need to change the imagemagick path for different environments\n- [#MODX-2288] Dont duplicate TV Resource values when duplicating a TV unless explicitly told to\n- [#MODX-2217] Persist sort order of Resource tree\n- [#MODX-2291] Prevent editing of binary files to prevent zeroing out of file when saving\n- [#MODX-2185] Resource tree expand all toolbar button now expands all levels deep\n- [#MODX-2260] Added ability to rename ORM container nodes on extended fields\n- [#MODX-2285] Added ability to dynamically set number of results for any grid in manager, as well as a default number via default_per_page system setting\n- [#MODX-2284] Fixed bug in modX::getChildIds\n- Adjusted the way resources/elements load data in mgr edit/create pages to vastly speed up load times\n- [#MODX-2282] Fixed deprecated help menu URLs\n- Trees now properly handle state, allowing multiple state paths to be set\n- [#MODX-2163] Give area combobox in System Settings a bit more breathing room\n- [#MODX-2259] Fixed issue with empty value fields in extended/remote fields via ORM widget\n- [#MODX-2249] Fixed issue with misleading comment in modTemplateVar::getValue\n- [#MODX-2270] Added option to sort by pulishedon in the resource tree\n- [#MODX-2278] Removed non-used files and added space to empty files\n- [#MODX-2250] Fixed bug where Checkbox TVs with default value dont allow all checkboxes unchecked\n- [#MODX-2274] Introduced filemanager_url setting to handle URLs when filemanager_path is outside the webroot\n- [#MODX-2251] Fixed issue where @bindings in TVs were running during input, preventing setting values\n- Fixed bug with modContext::getOption and default values\n- [#MODX-2184] Fixed issues with MODx.rte.Browser and context-specifics\n- Fixed issue with filemanager_path in Windows\n- Fixed a possible issue in base file perms in modFileHandler\n- Fixed some random typos in system settings data and lexicon translations\n- Fixed bug where userinfo filter was outputting wrong content when user was empty\n- [#MODX-2263] Fixed IE issue with dropdowns as TVs\n- [#MODX-2183] Autotag values are now alphabetically sorted\n- [#MODX-2240] Site - Preview now dynamically previews current editing context\n- Fixed invalid login issue that prevented OnUserNotFound from firing on mgr login screen\n- [#MODX-2238] Fixed bugs regarding parent constraint and default template\n- [#MODX-2234] Fixed issue when drag/dropping a Resource into the parent field\n- [#MODX-2226] Fixed bugs with date output filter not behaving as expected\n- [#MODX-2184] Fixed issue where context was not respected in MODx.Browser instances, fixed bugs when specifying paths outside MODX_BASE_PATH\n- [#MODX-2236] Added sanity check to modTemplateVar::getRenderDirectories with custom dirs\n- Added modResource::joinGroup\n- Added helper JS function MODx.hideTV to modext\n- [#MODX-2233] Fixed issue where qtip was not showing on Elements in a Category\n- [#MODX-2203] Fixed issue where root of file tree was not accessible after navigating away\n- [#MODX-2192], [#MODX-2232] Fixed issues with settings and their translations, names in the Settings grids\n- Adjustments and optimizations to menus/actions processors and js\n- [#MODX-2231] Fixed issue where saving translated properties would overwrite key with translation\n- [#MODX-2220] Fixed bug where save_user was needed to change profile\n- [#MODX-2213] Always include english lexicon when loading a lexicon to act as a backup translation\n- [#MODX-2210] Added strip for xss in manager a variable\n- [#MODX-2205] Fixed issue with saving resources with resource fields having html and unescaped content\n- [#MODX-2198] Fixed directory checks on context web path for advanced distribution\n- [#MODX-2194] Fixed issue with modLexicon::fetch not working if a prefix is set\n- Removed SVN commit log from top header now that we\\\'re in Git\n- Adjusted version to 2.0.1-rc1\n\nMODX Revolution 2.0.0-pl  (LastChangedRevision: 7216, LastChangedDate: 2010-07-21 09:10:12 -0500 (Thu, 21 Jul 2010))\n====================================\n- [#MODX-2159] Fixed bug where richtext_default was being ignored in Quick Create\n- [#MODX-2174] Fixed bug where manager_language was being ignored in Connectors, check for ctx init\n- [#MODX-1715] Added reference to setting keymap_save to allow for overriding of save shortcut key\n- [#MODX-2008] Updated Russian and Japanese translations\n- [#MODX-2008] Added in Thai translation\n- Fixed typo in filters english lexicon\n- [#MODX-2008] Added in French translation, updated German translation\n- [#MODX-2173] Fixed issue with IE and package installation wizard\n- Fixed setup directory checks for advanced builds\n- Fixed incorrect welcome URL in build\n- [#MODX-2008] Added in Czech translation\n- Configured phpdoc.ini file for SDK build\n- Fixed bug in file tree where URL was absolute rather than relative when being drag/dropped\n- Added OnFileEditFormPrerender event to allow plugins to fire on file editing form\n- [#MODX-2172] Fixed bug where tooltips for stay buttons were behind window\n- Sanity checks to tv render directories\n- Removed deprecated CSS icon reference\n- [#MODX-2169] Fixed bug with TV default values, inheriting and non-linear TV inputs\n- [#MODX-2170] Fixed error where element names cannot have less than 3 characters\n- [#MODX-2169] Properly handled @INHERIT binding in TV inputs\n- [#MODX-2165] Changed \\\'Remove Package Version\\\' context menu item behavior to allow to show on non-installed versions to allow rollbacks from downloaded but not installed updates\n- [#MODX-2164] Fixed issue that might cause random, non-affecting error during package updates\n- [#MODX-2008] Added in Japanese translation\n- [#MODX-2163] Default settings grid to show only core namespace settings to reduce confusion\n- Added autotag TV input widget that grabs tags from a list of the tags so far for all content values for that TV\n- [#MODX-2161] Added sanity check for incorrect or invalid filemanager_path values in file tree\n- Added missing deleted checkbox on resource panels\n- [#MODX-2167] Fixed issue where duplicate button was creating incorrect duplicate name\n- [#MODX-2162] Fixed issues with set to default in TV values, reliance on processedValue\n- [#MODX-2168] Fixed new user panel issue with missing JS reference\n- [#MODX-2160] Fixed bug where config check was running checkPolicy on resources that caused inadvertent missing unavail/error page message\n- Some query optimizations in processors\n- [#MODX-2159] Ensure richtext_default setting is respected\n- Fixed bug where context settings create modal wasnt resetting values\n- Added missing tabpanel IDs for various tabpanels across mgr ui\n- Fixed bug that was strtolower\\\'ing any strings in tabNew FC rule\n- Added grid renderer to FC grid\n- Tweaks to general UX, other slight cosmetic fixes\n- [#MODX-2156] Fixed unitialized variable in modTemplateVar::renderOutput/renderInput\n- [#MODX-2152] Fixed issue where local package dialog wasnt showing after clicking modxcms.com package browser\n- [#MODX-2154] Fixed issue where publish_document access permission was being ignored in resource processors\n- [#MODX-2149] Fixed issue where Package Management\\\'s modal would only once if hidden\n- Fixed issues with stay button on resources\n- [#MODX-2008] Added Swedish translation\n- [#MODX-2148] Fixed image TV thumbnail sizing\n- [#MODX-2145] Fixed \\\'New\\\' context menu text to be easier to translate\n- Slight tweaks to CSS for MODx.Browser file thumbs\n- [#MODX-2147] Added phpThumb settings for controlling thumbnail output in manager, defaulted zoomcrop to off and force aspect ratio to on, center\n- Fixed erroneous change template message\n- [#MODX-2143] Fixed filemanager_path implementation so that thumbnails and relative URLs in browsing work with absolute and relative paths as setting\n- Removed powered-by text in request headers in AJAX calls\n- [#MODX-2143] Fixed issue where if filemanager_path was set differently that URL insertion on TVs or drag/drop was incorrect\n- Added urlencode/urldecode to filters\n- [#MODX-2132] Remove friendly_url_prefix reference that was causing PHP warnings without breaking makeUrl()\n- [#MODX-2142] Fixed issue where translations in settings, properties and permissions were not being translated or falling back to english\n- [#MODX-2132] Reverting commit in r7125 due to side issue caused by fix in it\n- Hardened security on some file download actions in mgr such as console output, phpinfo, properties export\n- Adjusted setup expiry to 15 minutes\n- [#MODX-2139] Added message to display if setup has to restart due to timeout\n- [#MODX-2140] Fixed welcome page to point to static page rather than atlassian stack\n- Update Help URLs to new base url for docs\n- Some UI tweaks to lexicon grid, added reset() JS method to MODx.Window for shorter code\n- Added in create entry to lexicon management\n- Ensure $modx is available in custom TV renders\n- [#MODX-2137] Fixed bug in image TV output render\n- [#MODX-2138] Fixed textarea bug in system settings\n- Allow MODx tags in TV descriptions in input renders, but prevent HTML tags\n- Fixed bug where output render type was being ignored\n- Ensure tv data isnt sent back in resource update processor, to prevent escaping problems with richtext tvs\n- [#MODX-2109] Fixed setup to have upgrade mode not go to editing database/contexts, only advanced upgrade goes there\n- Fix object caching bug in modAccessibleObject::_loadCollectionInstance()\n- Update xPDO 2.0 to revision 429\n- Ensure extended fields can be added to users with none pre-existing\n- [#MODX-2131] Fixed other issues with TV values and rendering\n- Added ctrl+alt+p key shortcut when updating a Resource to preview it\n- Prevent illegal drops of actions to menus, menus to actions, in trees on Actions page\n- Slight fixes, tweaks to plugin events grid\n- [#MODX-2130] Fixed typos and missing references in mb-based output filters\n- [#MODX-2131] Fixed various issues with TV rendering, values, and in multiple contexts\n- [#MODX-1404] Make MySQL client version check a warning only for older versions\n- [#MODX-1404] Remove MySQL client version check for 5.0.51\n- [#MODX-2024] Fix use of %s strftime modifier in modSessionHandler::write()\n- [#MODX-2132] Remove friendly_url_prefix reference that was causing PHP warnings\n- [#MODX-2107] Fix errors with friendly alias slug generation with certain multi-byte characters\n- [#MODX-2114] Fix Error Caching Resource log message when site unavailable or other transient Resources are constructed\n- [#MODX-2129] Added missing Resource events\n- Fixes to Messages page/grid\n- Added optimize database button on database tables grid\n- Fixed reference bug in resource/update processor\n- Improvements to Users grid to dim inactive users\n- Fixed a few bugs with MODx.Browser and file tree\n- [#MODX-2127] Added message to Package Management if cURL or Sockets is not installed that prompts user to do so\n- Added ability to send warning/error messages to all MODx.* grids/trees\n- [#MODX-2128] Fixed MODx.Browser in RTE mode\n- Added modManagerRequest::addLangTopic,setLangTopics,getLangTopics assistance methods\n- [#MODX-2125] Various fixes for manager log page\n- [#MODX-2023] Added sanity checks for settings caches in setup, ensure settings caches are removed post-setup\n- [#MODX-2064] Ensure Action combos in System Actions page are reloaded when an action is updated/created/removed\n- Fixed invalid validation rule on element classes\n- [#MODX-2091] Ensure duplicate maintains published status\n- [#MODX-2123] Added workaround for IE with Quick Update Resource window\n- Modified validation on modChunk, modPlugin, modSnippet, and modTemplateVar to allow spaces within a name\n- [#MODX-2052] Fixed bug with loading multiple MODx.Browser instances in non-file management circumstances\n- Updated duplicate processors to check validation, return more informative messages, sanity checks\n- Removed duplicate days keys in lexicon\n- Fixed issues when TV render directories are overridden\n- [#MODX-2115] Fixed issue with phpthumb reference and capitalization, and when base_url is /\n- [#MODX-2113] Fixed CTRL+SHIFT+H shortcut for hiding left nav\n- Fixed bug in ORM tree relating to adding root nodes when subnode was selected\n- Added ability to add/remove attributes and containers to UI ORM trees, specifically in User extended and remote data\n- Added UI for editing extended User Profile data\n- [#MODX-2116] Fixed bug in depth search in modX::sanitize\n- [#MODX-1150] Changing class_key for a Resource now reloads the page to change editing area\n- [#MODX-2077] Config check screen in welcome panel now is same width as other panels\n- [#MODX-1648] Lexicon Management now loads by default the current manager_language\n- [#MODX-1743] Package update now shows status alert when package is already up to date, rather than an error\n- [#MODX-2119] Fixed bug in IE where onunload was firing regardless, preventing moving off page seamlessly\n- [#MODX-2112] Fixed bug where admin password reset was not working\n- [#MODX-2111] Fixed bug where language settings were not set after running setup in another language\n- [#MODX-2110] Fixed bug where resource fields were not being updated on update, causing publishedon errors\n- Adjusted version for pl development\n\nMODX Revolution 2.0.0-rc-3 (LastChangedRevision: 7083, LastChangedDate: 2010-07-07 12:20:55 -0500 (Wed, 07 Jul 2010))\n====================================\n- Updated German translation\n- Fixed bug with new installs and base template name\n- Fixed UI issue with Namespace path being unwantingly translated\n- Upped timeout on setup settings cache to 10 minutes; was far too short\n- [#MODX-2040] Fixed bug with setProperties and merge argument\n- Slight tweaks to phpthumb default config\n- Added sanity check when using multiple TV render directories\n- [#MODX-2100] Fixed content type creation for binary type bug, bug in build with regards to content types\n- Added flag to setup to fix proceeding error after install\n- Fixed setup to return setup process to very beginning when settings timeout, avoiding various errors about classes not being found\n- Added modx-tv-checkbox class to resource TV checkboxes for easier DOM manip\n- Added showCheckbox setting for resource TVs display to allow for extensibility and TV targeting\n- Added phpThumb specific settings\n- Added OnResourceTVFormRender event for affecting TV displays on resources\n- [#MODX-2104] Auto-detect correct value and set use_multibyte on new installs\n- [#MODX-2104] Added \\\'use_multibyte\\\' setting that allows for use of mb_* functions for multibyte characters; fixes bug with MB chars in output filters\n- [#MODX-2019] Added default Element policy\n- Fixed issue with Ext.form.BasicForm and prior commit, adjust else/if condition\n- Added headers check to all Ajax requests to connectors to require unique site ID header to harden security\n- Added modx-content-above and modx-content-below divs for RTE usage\n- [#MODX-2008] Updated Russian translation\n- Enabled RTEs to be used on TV default value field\n- Added which_element_editor setting, which allows for usage of multiple RTEs for Elements vs Resources\n- Fixed bug with custom_resource_classes setting implementation on blank values\n- [#MODX-2094] Enabled Packages to be able to have their Provider changed\n- [#MODX-1809] Added manager_time_format to allow changing of time formats in mgr widgets\n- Added extra var to pass revo version in transport provider requests; helps with download metrics and version checking\n- Optimized package grid by moving menus to JS\n- Fixed issue where manager_language setting was being ignored in mgr connectors\n- Enhance security on language string loader\n- [#MODX-1834] Adjusted color on Yes/No on packages grid to more reflect intent\n- Readjust JS firing timing for Elements to prevent RTE timing errors in faster browsers\n- [#MODX-2090] Added auto_check_pkg_updates_cache_expire setting, which caches package update checks in Package Management to speed up grid load times\n- Ensure Resource pages using RTEs always have save btn enabled\n- Fixes to RTE loading in Element panes, other issues regarding timing of plugin firing\n- Fixed bug with area listings in combo in system settings\n- [#MODX-1961] Fixed bug with octal perms when creating directories in the admin\n- [#MODX-1527] Fixed bugs in admin confirm password field on install\n- Fixed Package Management in IE8\n- Styling improvements\n- Fixed IE issue on navbar, few other tweaks to package management for IE\n- [#MODX-2032] Fixed topic varchar length issue with UTF-8 installs\n- [#MODX-1612] Added Create Menu context menu on root node for menus tree\n- [#MODX-2020] Ensure error when creating duplicate context ACLs shows\n- Tweaks to Package Management browser JS to allow for more consistent rendering\n- [#MODX-2051] Stripped tags from TV description field on input rendering\n- Added \\\'custom_resource_classes\\\' setting, which allows you to specify custom resource types for the resource tree\n- Tweaked FC tvMove rule to be more consistent with values of other TV FC rules\n- Allow blank names (not keys) in Settings create/update windows; tweaks to query in package management grid\n- [#MODX-1737] Container resources can now have names specified on duplicate\n- [#MODX-2074] Fixed bug where property descriptions were not i18n-able\n- [#MODX-2062] Date TV type now can store time; updated datetime ExtJS xtype to latest version\n- [#MODX-2046] Added \\\'collapse\\\' toggle to left trees, shortened username on top right to allow for small resolutions\n- [#MODX-2067] Fixed bug with cleanAlias and a non-existent lexicon string\n- [#MODX-2086] Fixed a few bugs in package management styling\n- Tweaks to context menu styling\n- [#MODX-2078] Context menus now show under cursor\n- [#MODX-2083] Fixed bug where setting editedon was returning invalid date\n- [#MODX-2061] Fixed erroneous lexicon entry for cache_handler setting description\n- [#MODX-2085] Fixed issue with namespace path not being translated on get\n- Added ability to activate/deactivate FC rules from context menu\n- fieldVisible, fieldLabel, tvVisible, tvMove Form Customization rules now support multiple fields via comma-sep list\n- Added functionality to Form Customization to add new Tabs and move TVs to other tabs\n- Applied CSS gradient styling to grids, tabs\n- [#MODX-2056] Fixed CSS for topmenu, restyled to add contrast and enhanced\n- Cleaned up TV display panel, removed TV reload button, extended fields all the way across\n- [#MODX-1832] moved \"Set to Default\" to a fade-in icon\n- Prepared code for oncoming feature to move TVs into other tabs\n- Removed credits from about pane, consolidated tabs\n- Fixed permissions checks on resource tree context menu when policies are limited\n- Added prefix filtering to modLexicon::fetch\n- Added modTemplateVar::getDisplayParams for easier fetching of display_params for a TV\n- Fixed bug with custom TV render paths\n- Added phpThumb to core, added connector for secure access, integrated into MODx.Browser\n- Ensure categories in TV panel are sorted alphanumerically\n- Added stripString, cdata, replace, fuzzydate and ago output filters\n- [#MODX-2045] Added ExtJS, Smarty, PHPMailer, MagpieRSS version into System info\n- [#MODX-2057] Fixed bugs with action/menu trees\n- Fixed bug with is_writable check in setup; was checking core/config rather than just core/config/config.inc.php\n- [#MODX-2042] Fixed extra beginning slash for image/file TVs\n- Add validation to processors for Chunks, Plugins, Snippets, and Template Variables\n- [#MODX-1998] Disallow reserved Template Variable names (i.e. Resource field names)\n- [#MODX-2033] Fix bug with unchecking Template Variable access when editing a Template\n- Have modX::switchContext() update placeholders from config on successful switch\n- [#MODX-1774] Remove redundant setting of placeholders from modX::$config in modRequest::handleRequest()\n- [#MODX-2031] Fix modX::stripTags() and modX::sanitize() to properly strip nested element tags\n- [#MODX-2027] Added icon to file tree to show MODx Browser, for a different view on file management\n- [#MODX-1924] Made more precise the cursor pointer change on buttons in mgr\n- [#MODX-1904] Fixed bug with phx placeholders in modTranslate095 class\n- [#MODX-1535] Fixed bug with transparent background for grid-based comboboxes\n- [#MODX-1904] Fixed bug with phx placeholders in modParser095 class\n- [#MODX-1936] Lexicons now fallback to English if no translation is found for specified language\n- [#MODX-1781] Fixed z-index issue with top nav and window masks\n- [#MODX-217] Added create element type icons for Element tree\n- [#MODX-217] Added directory create icon to file tree toolbar, changed upload files button to icon\n- [#MODX-2022] Fixed bug regarding php file permissions and writable checks\n- Fixed bugs related to loading of RTEs for TVs in derivative resource classes\n- Enhanced image TV to show preview of image, adjusted to display below\n- [#MODX-2015] Added sanity check to prevent users from dragging Resources to a non-existent context\n- [#MODX-2013] Fixed bug where hiding fields with Form Customization would disable them from being sent\n- Fixed bugs with System Settings grid due to erroneous merge in UI styling\n- [#MODX-2012] Made Form Customization grid sortable\n- [#MODX-2011] Fixed MODx.grid.Grid::getSelectedAsList to work in Fx,IE\n- Added more sophisticated check for writable directories in setup to ensure compatibility across environments\n- Fixed bug where manager_language setting was ignored\n- [#MODX-2007] Redirect to requested mgr page when logging in\n- Adjusted version for RC-3 development\n\nMODX Revolution 2.0.0-rc-2 (LastChangedRevision: 6924, LastChangedDate: 2010-05-27 15:56:51 -0500 (Thu, 27 May 2010))\n====================================\n- Fixed copy-prepared-css command in build.xml to prepare for rc-2 release\n- Adjusted welcome screen URL to go to a non-release specific confluence page\n- [#MODX-2000] Fixed FC rule to apply to template fields by overriding in controller\n- [#MODX-2000] Add ability to specify a template in REQUEST or alter via plugin in resource/create controller\n- [#MODX-2004] Allow settings to be duplicated when duplicating a context\n- Added missing OnUserBeforeRemove event\n- [#MODX-1797] Fix bug with publishedby field getting updated unintentionally\n- [#MODX-1919], [#XPDO-52] Update xPDO to revision 425 for fix to xPDOManager::createObjectContainer()\n- [#MODX-1918], [#MODX-1919] Improve error reporting in database setup steps\n- Made default click behavior for Files in file tree be to edit\n- [#MODX-1995] Fixed issues regarding sending password via email with new users\n- [#MODX-1549] Preserve file tree state\n- [#MODX-1810] Gender now saves correctly in user panel\n- [#MODX-1635] Redirect to Users grid after creating a new user\n- Fixed bug with import properties\n- [#MODX-1971] Allow ./- in Context key names, but not as first character\n- [#MODX-1997] Added ability to duplicate and set inactive/active Form Customization Rules, batch actions to Rule grid\n- Cleaned up profile editing page\n- Cleaned up style for headers on welcome page\n- Reworked System Info page, cleaned up styling, display, info\n- Added batch actions to Users grid\n- Fixed bugs with removing directories in file tree\n- [#MODX-1996] Fixed missing create/update settings windows\n- Allow for separate paths on derivative resource types based on a [classkey]_delegate_path setting that points to their controllers, added checks to prevent path mapping\n- Prevent deferred render on left nav trees, to prevent loading errors for js hooks\n- Fixed bugs with MODx.grid.encodeModified/encode, plugin event saving\n- Added loadCreateMenus JS event to modx-resource-tree modext widget\n- Refactored js lang loading to allow for dynamic modification of strings\n- [#MODX-1993] Moved config.inc.tpl to core/docs to prevent confusion\n- Added description below TV rows in Resource edit\n- [#MODX-1853] Fixed issue where reload button was above MODx.Browser in TV pane\n- Switched Quick Create/Update Resource description field to more-used introtext field\n- [#MODX-1992] Fixed error in modSnippet preventing multiple executions per request\n- [#MODX-1983] Clarified package uninstall option message\n- [#MODX-1982] Fixed broken cancel button on Package View page\n- [#MODX-1989] Fixed incorrect var reference in getfiles processor\n- Added extra pagination to dropdowns in mgr that might have large #s of records to add usability for large sites\n- Fixed all Elements including Template Variables to properly respect modAccessCategory ACLs.\n- Allow base-level Element Category ACL assignments\n- Fixed some issues with Settings grid and lexicons, key not being displayed, etc\n- [#MODX-1940] Resized lexicon grid toolbar to fit better in smaller resolutions;\n- [#MODX-1950] Adjusted permissions to allow proper listing of Elements; checks \\\'list\\\' policy on Element now rather than view_[element]\n- [#MODX-1975] Added warning messages for PHP 5.2.0 and 5.1.6 versions in setup asking that users upgrade to 5.3.0+; will still allow installs, however, if the user has those versions\n- [#MODX-1967] Added warning to setup for people who are using PHP 5.3.0+ and dont have date.timezone set\n- Added proper permission checks to Elements/Categories across processors/controllers\n- Added UX for managing Element Category access for User Groups\n- Add modAccessCategory to allow context-specific security policies on modCategory as well as any modElement via the related modCategory; includes policy inheritance to sub-categories\n- Add modCategoryClosure table class to allow for easy recursive queries on modCategory\n- Fixed bug caused by JS/CSS optimizations that would break left nav when too many resources were loaded\n- Fixed bug where access contexts for admin user were being duplicated on upgrades\n- Added extra options to attaching with modPhpMailer; fixed bug in phpmailer that caused E_DEPRECATED errors\n- [#MODX-1912] Added manager logging to file/directory actions\n- [#MODX-1912] Added file/directory specific permissions to allow more fine-grained security on using the file manager\n- [#MODX-1972] Added OnTVInputRenderList, OnTVOutputRenderList, and OnTVOutputRenderPropertiesList System Events to allow you to return a path to specify where to look for custom TV files\n- Allow separate caching directories for smarty when using different manager themes\n- [#MODX-1951] Ensure smarty cache is cleared on site cache clearing and settings\n- Ensure admin ACLs are set on new installs\n- Added check to modResource::stripAlias to make sure modX object is a modX instance\n- Added basic template and default home resource to new installs\n- Added load-only and load,list and view policies to build, adjusted setup to handle admin/resource policies with different IDs\n- Moved setup\\\'s global new/upgrade install scripts to separate files\n- MODExt adjustments; main layout now in central viewport so can handle browser resizing, refactored settings grid editing code, IE/FF/Chrome fixes\n- [#MODX-1970] Add scheme property to Link Tags to allow canonical, https, or any URL generation scheme from modX::makeUrl()\n- Fixed bug where core namespace was not in build\n- Update xPDO to revision 424 for fixes related to PDOException reporting\n- Ensure packages are unpacked after downloading\n- Fixed bug with removing a plugin\n- Added System Setting, \\\'cache_noncore_lexicon_topics\\\', which can be used to disable caching on noncore lexicon topics, which is useful for 3PC development.\n- Deprecated modPackageBuilder::buildLexicon\n- Completely refactored the Lexicon system to now do file-based Lexicon Entries only. DB entries are only for overrides. This allows for proper overriding of\ncore lexicon entries, caches faster, and allows for much easier 3PC development.\n- [#MODX-1783] Fixed unnecessary scrollbar bug by removing unnecessary margin on body/html tags\n- Slight spacing tweaks to main layout to make layout feel more open\n- [#MODX-1806] Improvements to messages section\n- [#MODX-1913] Fixed incorrect wording on setup complete page\n- Tweaked launching of layout panel to add consistency across browsers\n- [#MODX-1835] Fixed error on Windows platforms when an extension_packages path contains a colon (:)\n- Added ORM editing formpanel object for editing v/p editing pairs, used now on modUser remote data form\n- Added panel for viewing remote data on a user\n- Added \\\'lexicon\\\' field to modAccessPolicy to enable translations of descriptions of Permissions\n- Added extended field to modUserProfile to handle a majority of basic extended user profile storage/retrieval needs\n- Added \\\'lexicon\\\' field to Element properties to enable automatic translating of property descriptions and option names\n- Fixed parent/context_key reference issue when creating resource from context tree node\n- Tweaks to index.css for default mgr theme to correct styling issues in webkit browsers due to ExtJS upgrade\n- Fixed deprecated references to removed images in default mgr template css that was causing 404s\n- [#MODX-1911] Allow for drag/drop reorganizing of categories in the Element tree\n- [#MODX-1892] Various fixes to TV-Template relationship grids\n- [#MODX-1895] Added sanity check for windows systems with file names in file browser\n- [#MODX-1908] Corrected logic flaw in modManagerResponse that prevented smarty templatePath from being set for CMPs\n- Optimized loading for System Settings grid\n- Updated ExtJS to 3.2.1\n- Add remote_key and remote_data to modUser\n- [#MODX-1898] Fix static calls to modX::fromJSON() and modX::toJSON() instance methods (xPDO updated to revision 421)\n- Pushed File tree nodes\\\' context menus to JS layer, added Upload Files button to tree toolbar\n- Pushed Element tree nodes\\\' context menus to JS layer, similar to Resource Tree optimizations\n- [#MODX-1897] Fix Date TemplateVar web output render error in PHP 5.3 due to use of ereg()\n- Fixed bug with Quick Update caused by new resource tree js changes\n- [#MODX-1848] Allowed parent selector to select contexts as the parent in Resource page\n- Pushed Resource tree nodes\\\' context menus to the JS layer, massively decreasing the size of the JSON tree sent in the getNodes processor, vast speeding up tree functionality\n- Made publish/unpublish/delete/undelete actions on the tree only change the class of the node, rather than refreshing the node, speeding up workflow\n- Pushed modX::getService to xPDO layer\n- [#MODX-1873] Ensure setup redirects use full URL in header\n- [#MODX-1887] Adjust default widths for main layout to render panels more consistently\n- Optimized modX::getChunk() and modX::runSnippet() by caching instances within a request to modX::$sourceCache\n- Modified modX::setDebug(true) to set error_reporting(-1)\n- Optimized modLexicon::loadCache\n- [#MODX-1824] Fixed bug where duplicate wasnt fully duping resources\n- Moved Resource\\\'s duplicate method into the model, via modResource::duplicate\n- [#MODX-1868] tree_root_id now accepts a comma-delimited list of Resource IDs to restrict by. Works across contexts as well.\n- [#MODX-1871] Fixed bug with delimiter TV output render\n- Dropped unnecessary ID field on modEvent table and made `name` column PK\n- Refactored modX::invokeEvent and modX::getEventMap to take advantage of new plugin event changes\n- Adjusted the modPluginEvent model to reference the event name rather than id\n- Added new model-based System Events to work more effectively in any context\n- Removed deprecated system events\n- Added tree_root_id setting that allows you to specify the start parent ID of the left Resource tree\n- Fixed bug where User Settings could not be removed\n- Enabled ability to set absolute path and placeholders for filemanager_path and rb_base_dir\n- [#MODX-1791] modPackageBuilder::createPackage now forces lowercase package name to be more compatible across environments\n- Sanity checks to prevent user from accidentally removing admin/resource access policies\n- [#MODX-1860] Fixed bug where new password was being hidden too fast when changing user password\n- Added proxy support to modRestCurlClient for Package Management\n- Added a couple refactorings to modRestSockClient to prevent possible errors\n- Consolidated user group create system events into one event, OnUserGroupCreate\n- Fixed some various plugin event calls\n- Fixed Plugin Event code to restrict groupname to a UI filter only, not in event caching; adjusted UI grid to support groupname in display\n- Refactored file handling processors to use modFileHandler class with modFile and modDirectory derivative classes to abstract file system processing to abstract for multiple environments\n- [#MODX-1789] Added extra checks in Package Management to make sure that the correct directories are created before using it. Will now prevent usage of PM if those directories do not exist or are not writable.\n- [#MODX-1789] Added code to attempt to create core/components and assets/components after install. If fails, displays a notice to user to manually create them themselves to allow Package Management to work properly.\n- [#MODX-1839] Fixed grammatical error in forgot login link on login page\n- [#MODX-1846] Fixed invalid markup for username in top right\n- [#MODX-1854] Fixed invalid references to cultureKey that broke cultureKey setting effectiveness\n- [#MODX-1785] Fixed invalid password variable reference in invoke notfound event in login processor\n- [#MODX-1784] Fixed invalid event call on user update, as well as added event invoking into updatefromgrid processor\n- [#MODX-1836] Set default context_key in modResource objects to \\\'web\\\'\n- Fixed bug with system info page and active users that would cause error in error log\n- [#MODX-1788] File tree now respects filemanager_path setting. Also cleaned up file browsing processors.\n- Upgraded ExtJS to version 3.2\n- Updated version to 2.0.0-rc-2 for svn development and issue tracking\n- [#MODX-1778] Fixed error that shows up if E_NOTICE set to true in setup/ index due to servers not posting a HTTPS server global\n\nMODX Revolution 2.0.0-rc-1 (LastChangedRevision: 6614, LastChangedDate: 2010-03-22 16:41:04 -0500 (Mon, 22 Mar 2010))\n====================================\n- Prepared for rc1 release\n- Fixed CSS compression copying in build.xml\n- Fixed regClient*() functions to work again on cacheable scripts\n- Move element source and include cache files outside of context cache directories since they should be cleared only when elements are updated\n- Remove eval() from modScript and re-enable remote debugging of modScript instances by caching function as include in addition to source cache\n- [#MODX-1759] Ensure manager log fires on top menu deletion\n- [#MODX-1772] Ensure array of IDs is passed to OnBeforeEmptyTrash and OnEmptyTrash plugin events\n- Added a welcome screen to show on first login to manager\n- [#MODX-1738] Fixed issue with default value on radio TVs\n- [#MODX-1741] Fixing inconsistent widths for radio options by making them list vertically rather than horizontally\n- [#MODX-1769] Lexicon grid search now searches name and value\n- [#MODX-877] Updated confusing text on TV access permissions tab\n- [#MODX-1766] Fixed PHP_SAPI issue to properly work by setting a default value on setup to provide a default http_host value to  properly populate the site_url\n- Fixed bug in setup that didn\\\'t catch processors_path in prior configs\n- [#MODX-1759] Fixed bugs with manager log not storing correct PK values, or displaying missing keys in grid\n- [#MODX-1766] Fixed config.inc.tpl to work with non-httpd SAPI\\\'s\n- Added title/info for the Reports->System Info->Database page. This is return fixed the CSS styling issue as well.\n- Fixed CSS Styling on Recent Documents. 5px padding was removed.\n- Fixed bugs with modMail class and default attributes that prevented attributes from persisting after a reset()\n- Removing deprecated RTE handler code\n- [#MODX-1762] Increased file uploader window size for translations\n- Dont render unnecessary tabs in Resource TV panel if no TVs assigned to Template for that Resource\n- Sort Template Variables on the Template editing page by name\n- Ensure Element Properties that have HTML in them show markup instead of rendering the html in editing mode in mgr ui\n- [#MODX-1669] Redid File Uploader in Directory tree to be more cross-browser compatible\n- Cleaned up and enhanced login CSS\n- Standardizing and adding class constants to modRest* classes\n- Updated copyright data in lexicon entries\n- Fixes to build.xml, css compression command\n- Updated copyright dates\n- [#MODX-1750] Lots of procedural and reference fixes to Lexicon grid UI\n- Cleaned up presentation of modAction records in mgr\n- Added a fix to tree refreshParentNode; enhanced modUserGroup::getUsersIn()\n- Added saving mask to Element Property grid to fire when saving the property set\n- Removed deprecated file reference in login template\n- Added System Settings to toggle news/security feeds in welcome panel\n- Added System Setting to toggle on automatic checking of package updates in Package Management\n- [#MODX-1751] Fixed erroneous reference in friendly alias setting description\n- [#MODX-1752] Fixed bug where topmenu items without children didnt show even if they had an action\n- Some css tweaks to login page\n- Updated to xPDO 2.0.0 r419 to fix xPDOVehicle bug\n- Fixed bug with Download Output button in MODx.Console\n- Ensure forgot login activation email is HTML\n- Added Forgot Login link and form to manager, sends an activation email to specified email if user forgot login/password\n- Fixed SQL sorting algorithm for package versions, added helper methods for comparing package versions\n- Added $resource to properties passed to OnDocFormDelete in resource/delete processor\n- Updated to xPDO 2.0.0 r417 ([#XPDO-40] Fixed getCount to work when passing a criteria with a class alias set)\n- Enhanced striptags output filter to take a parameter of allowed tags\n- Make sure $paths and $options are passed to OnCacheUpdate\n- Added compression/concat references to login and browser tpls\n- Fixed build.local.xml and build.xml scripts\n- Added compress_css system setting for compressed CSS for releases, moved over modx-theme.css to templates css/ dir. Don\\\'t use compress_css without first running _build/build.local.xml Ant task.\n- Cleaned up leftover PHP4 function definitions, unescaped SQL code, added proper accessor methods for private vars, other old code\n- Fixed bug with modLexiconLanguage::clearCache\n- [#MODX-1738] Fixed issue with FC TV rules not working as expected on Resource Update\n- Fixed bug where plugin event properties were getting merged if more than one plugin was associated with the event\n- Added loading mask to editing panels to prevent accidental editing before data is loaded\n- Added sanity check for OnRichTextBrowserInit event processing\n- Added fix for RTE loading in Resource panel, should fix most RTE saving bugs\n- Added collapsibility to Document panel\n- Added \\\'concat_js\\\' system setting that will concat all the common JS files into one single file\n- Adjusted lang.js.php to properly use ETag header to cache lang js\n- Added css rule to prevent hidden iframes from being shown\n- Fixed bug where Resource Groups were not editable on Create Resource\n- Added sanity check for packages with missing provider\n- Added \"Updates Available\" column to packages grid, auto-checks provider for updates\n- [#MODX-1732] Added duplicate language ability to language grid\n- [#MODX-1741] Fixed possible bug with radio/cb tv labels\n- [#MODX-1593] Fixed bug where User could not be added with no role in User Groups tree\n- [#MODX-1735] Properly URL encode link tags while still preserving = and &amp; in query string\n- [#MODX-1736] Fixed bug with assigning TVs to Resource Groups\n- [#MODX-1740] Added workaround for SQL code to properly hide TVs with FC rules\n- [#MODX-1738] Fixed bug with radiogroups and set TV default FC rule\n- Fixed some header issues, _FILES content type handling\n- [#MODX-1733] Fixed bug that was stripping tags from connector processing\n- Ensured that Static Resource filename change fires dirty status\n- Made sure Set to Default fires dirty status for Resource panel\n- Fixed possible width stretching bug in TV panel in Resource edit view\n- [#MODX-1543] Added \"Rename Category\" to category nodes in element subnodes in Element Tree\n- [#MODX-933] Can now drag/drop Elements into Categories in the Element Tree to assign them to Categories\n- [#MODX-1729] Fixed incorrect filter name to be more appropriate to function\n- [#MODX-1727] Added missing Empty Cache checkbox to derivative resource panels\n- [#MODX-1724] Fixed bug with output renders in TV panel not triggering panel dirty status\n- [#MODX-1730] Fixed bug with $scriptProperties and login processor\n- Some cleanups to MODExt flow and ID referencing\n- Changed all GPC references in processors to $scriptProperties, which is loaded at entrance points to processors with GPC vars, pushing input handling to the connector\n- [#MODX-1711] Fixed bug with strip output filter\n- Added ellipsis output filter\n- Fixed various event callings across JS implementation to properly modularize modext components\n- Added events to user\\\'s groups grid to ensure dirty firing\n- Added MODx.FormPanel::markDirty\n- Added in CSS tweaks to accommodate Opera 10.5\n- Fixed bug with users grid if access permissions tab is removed\n- Fixed deprecated method definitions in modConnector classes\n- Fixed text in language settings to more accurately reflect function\n- Added area filter to Settings grid\n- [#MODX-1721] Disabled unnecessary paging on System Events table\n- [#MODX-1726] Added sanity check to ensure TV input type is properly set\n- Fixed bug with action buttons and continue stay method\n- Added UI for managing website field in modUserProfile\n- Added website field to modUserProfile\n- Removed unnecessary and problematic editor dropdown in chunk editing screen\n- Sped up drag/drop of reordering in tree by now only framing moved nodes instead of refreshing\n- Added modRequest::getParameters() method for retrieving various GPC variables or arrays of variables; automatically strips MODx GET parameters as necessary\n- modRequest::__construct() now creates references to all GPC variables in modRequest::$parameters\n- Modified modX::makeUrl()/modContext::makeUrl() to accept query string parameters as an array or string\n- Added modX::toQueryString() static method to turn associative array into a valid query string\n- [#MODX-1709] Fixed issue with encoding of action button parameter\n- [#MODX-1554] Prevented uploading of files to files themselves in directory tree\n- [#MODX-1700] Fixed issue with text referencing setting in lexicon entry\n- Ensure tags in a Static Resource content are parsed before trying to load the source path\n- Fixed static/weblink update js\n- Removed unnecessary and redundant table prefix check later on in setup\n- Fixed css/js properties in TV tab to let RTEs auto-determine the height of their TD fields\n- Fixed missing permissions reference on resource controllers\n- Added OnHandleRequest to modManagerRequest::handleRequest\n- Properly hides UI elements for Resource buttons/pages if user doesnt have permissions\n- Refactored modResource::cleanAlias() to allow various options, including built-in and custom transliteration capabilities\n- [#MODX-717] Foreign characters (UTF8 data) needlessly removed from alias\n- Hide top menu items if there are no submenus and if the topmenu is not clickable\n- [#MODX-1690] Fixed text for confirmation dialog when removing an Element to include name and type of Element\n- [#MODX-1707] Added mail_charset and mail_encoding system settings to control charset and encoding in emails\n- [#MODX-1706] Ensure that text and qtip fields in Resource/Element trees have any tags stripped\n- [#MODX-1699] Fixed bug in Quick Edit TV where it would erase the caption and replace it with the name\n- [#MODX-1704] Fixed erroneous if statement in clear button hiding in error log panel\n- [#MODX-1675] Added fix for windows paths on Edit File panel\n- [#MODX-1681] Added checks for issue with importing lexicon in Webkit-based browsers\n- Cleanups to TV input widths\n- Removing core RTE; too much work, may take back up in a later version\n- [#MODX-1697] Added ability to edit images and links in RTE\n- Added more robust MODx.rte.Selection API\n- Added missing changes to modActions needed to load lexicon entries for RTE\n- [#MODX-1662] Fixed mismatch in menus widget field label\n- [#MODX-1687] Fixed bugs in template package browser due to changes in modx.view.js\n- Made resource panel be a fileUpload-able panel for plugins\n- [#MODX-1357] Added richtext_default system setting\n- [#MODX-1685] Added MODxEditor, a core Ext-based RTE to be the default RTE for Revolution\n- [#MODX-1674] Stabilized MODx.Browser to work with core RTE\n- - Added missing registry.db.modDbRegister* classes to setup\n- [#MODX-1642] Logging out doesn\\\'t unlock resources: added modUser::removeLocks() and modified modUser::endSession() to call this method\n- Added OnInitCulture event to core transport data.\n- [#MODX-1672] Refactor collation/connection processors in setup to be more stable\n- Updated xPDO to r414 for improvements in xPDOManager\n- modInstall::writeConfig() uses new_file_permissions if specified or umask() settings by default\n- Removed superfluous calls to xPDO/modX::setDebug() and xPDO/modX::setLogLevel() in modInstall\n- modInstall::getConnection() now uses utf8_general_ci for charset/collation by default\n- [#MODX-1691] Set Quick Create/Update windows to use anchor property rather than width to adjust for resizing\n- Added \\\'cultureKey\\\' setting to enable easier language translation in contexts/fe/components\n- Fixes to styling for MODx.Browser window\n- Added \\\'relativeUrl\\\' parameter to MODx.Browser file data\n- [#MODX-1674] Fixes and stabilization to MODx.Browser, specifically when used by RTEs\n- Changing default editor from TinyMCE to blank value\n- Fixed bug in setup where inplace setting was being forced to 1\n- Cleaned up most processors, fixed wrong permission references, standardized code\n- Fixed welcome panel to only show panels with permission to see\n- Fixed error log view page to restrict viewing and clearing by permission\n- Added descriptive information to Roles grid\n- Lots of permissions fixes, other bugfixes and sanity checks to Element processors/controllers\n- Added propertyset permissions\n- Cleanups to Resource controllers, processors, optimizing of security permission checks\n- Fixed various bugs with search page\n- Fixed bug with adding policies that prevented partial regexp matches in name\n- Fixed bugs when adding new policies or permissions that showed prior added perm/policy in form\n- Properly secured and refactored recently edited resources grid\n- [#MODX-1670] Adjusted permissions to allow restricted user to edit profile\n- [#MODX-1667] Removed unnecessary opacity CSS rule in menus\n- Fixed bug where page wasnt reloading on login in certain situations\n- Make rightlogin div longer to support longer translations\n- [#MODX-1653] Fixed issues with related objects, removal of aggregates, and other packaging bugs. Introduced xPDOTransport::UNINSTALL_OBJECT, which defaults to true. When off, it will prevent an object from being uninstalled.\n- Updated xPDO to r413\n- [#MODX-761] Fixed language issue in setup, now sets it correctly and loads proper lexicon for login screen\n- Ensure console window appears above other windows\n- [#MODX-1663] Added MODx.msg.status, which shows a fading status message on a successful save. This also solves the issue of user feedback.\n- Removed unnecessary field from recently-edited-resource grid on welcome screen\n- [#MODX-1660], [#MODX-1037] Revamped login screen to HTML/CSS, basic form processing to allow browsers to save password in their password management systems\n- Revamped UI in new setup options, cleared up text, simplified presented options\n- [#MODX-18] Allow editing of MODX_CONFIG_KEY in setup welcome view\n- [#MODX-18] Prompt user for MODX_CORE_PATH if not found at beginning of setup\n- [#MODX-760], [#MODX-1080], [#MODX-1528] Added setup option to set new_file_permissions and new_folder_permissions in welcome view\n- [#MODX-760], [#MODX-1528] Removed new_file_permissions and new_folder_permissions system settings from setup\n- [#MODX-760], [#MODX-1528] Updated xPDO 2.0 to revision 407: new file and folder permissions determined from umask()\n- [#MODX-878] Stay buttons now action-specific, done through Ext state rather than PHP\n- Redo logic order of modPackageBuilder::buildLexicon to ensure languages are packaged in before topics\n- [#MODX-1647] Added width specification to force width of screen to prevent scrolling off of RTE TVs\n- Cleaned up tvTitle Form Customization rule by moving code from JS to PHP\n- Fixed z-index issue for windows due to IE fix\n- [#MODX-732] Added z-index force to topmenu for IE, fixed rightlogin div on topbar for IE\n- [#MODX-1641] Optimized and cleaned code dealing with Form Customization TV visibility and default values\n- [#MODX-1658] Fixed bug where placing a menu item in a submenu would place it in top level\n- [#MODX-1624] Enabled changing of text field in menu items\n- [#MODX-1656], [#MODX-1654] Fixed CSS gap in install summary in setup\n- [#MODX-1655] Fixed hardcoded lexicon strings in setup\n- [#MODX-1621] Remove unnecessary context menu items from items in Resource Group Resources tree\n- [#MODX-1627] Fixed incorrect menu in resource group tree resources when newly dragged\n- [#MODX-1599] Added manager_date_format system setting for customizing date formats for the manager\n- [#MODX-1651] Increasing width of setup navbar buttons to accommodate translations\n- [#MODX-1649] Fixed bug where Quick Create didn\\\'t respect default_template setting\n- [#MODX-1650] Fixed bug with language specification in setup to properly set cookie for Windows machines, and set initial language properly\n- [#MODX-1626] Fixed bug where top menus could not have actions\n- [#MODX-1494] Fixed issue where some settings dont have descriptions, and cleaned up deprecated settings\n- [#MODX-1645] Fixed incorrect lexicon key for setting_site_start_err\n- [#MODX-1646] Fixed issue where download buttons were staying grayed out if there was an error message\n- [#MODX-1644] Added SMTP mail settings to default system settings to allow global SMTP usage for all modMail functions\n- [#MODX-1606] Fixed bug in modRestCurlClient class due to encoded ampersand\n- [#MODX-197] Refactored Action Buttons JS, added \\\'actionNew\\\', \\\'actionContinue\\\', and \\\'actionClose\\\' events to MODx.FormPanel objects, ensured parent/context_key is persisted through add another resources\n- Added a couple sanity checks to modRestCurlClient\n- Added JS to disable install button when clicked in setup to prevent double-clicks\n- controllers/resources/create: Refactored template inheritance to occur before any delegate controller is called.\n- processors/resources/create: Moved OnBeforeDocFormSave event invocation until after POST vars are applied to $resource object.\n- processors/resources/create: Refactored common code to be executed before any delegate processor is called.\n- processors/resources/create: Refactored to respect add_children and new_document_in_root permissions.\n- Added various access_denied lexicons to the resource topic.\n- Added new_document_in_root permission to control access to creating Resources at the root level.\n- Updated to xPDO 2.0 revision 406.\n- [#MODX-1606] Added sanity checks and ID standardization to DOM nodes for Package Browser\n- Fixed possible bug with ta-toggle div in resource panel\n- [#MODX-1628] Fixed FC tvDefault rule by doing setting php-side\n- [#MODX-1636] Added ability to assign Role to User when adding them to a User Group from the User Groups tree\n- [#MODX-1634] Fixed bug with resource/resourcegroup/getlist processor that prevented showing of resource groups in new resource panels\n- [#MODX-1639] Fixed bug where resource panel JS didnt check for existence of possibly hidden access permissions grid\n- Fixed modUser::removeSessionContext() to call modUser::endSession() if no contexts are left\n- Fixed modUser::endSession() to destroy all SESSION data and the session cookie\n- Fixed bug in Plugin -> System Events tab caused by invalid function call in getlist processor\n- Fixed problems with various deprecated functions to increase compatibility with Evo and avoid performance issues:\n    * modX::getDocuments() and modX::getDocument()\n    * modX::getAllChildren()\n    * modX::getActiveChildren()\n    * modX::getDocumentChildren()\n    * modX::getDocumentChildrenTVars()\n    * modX::getParent()\n    * modX::getPageInfo()\n    * modX::getUserInfo()\n- Fixed modX::__construct() declaration to indicate it properly as a public method; added phpdoc comments.\n- Fixed modX::sanitize() declaration to indicate it properly as a static method.\n- Updated to xPDO 2.0 revision 405\n- [#MODX-1614] Fixed issue with cached pages going to unauthorized_page instead of error_page when user does not have load permission\n- [#MODX-411] Set system setting: emailsender to the admin email address during install\n- [#MODX-1556] Show class and id for deleted resources or elements in Manager Action Log\n- [#MODX-1552] Create New element Here shows for root elements but not those in categories\n- [#MODX-1625] Fixed bugs with menu tree preventing creating child nodes of new items, restyled menu and action icons\n- Added preventative to make sure packages are only downloaded once when in Package Browser\n- [#MODX-1623] Fixed package installation error: attempting to preserve files fails with error message\n- Updated to xPDO 2.0 revision 404\n- Setup upgrades no longer preserve existing data/files on install\n- Fixed issue with setup trying to write connector files regardless if files are already in place\n- Updated to xPDO 2.0 revision 403\n- Fixed bug where plugin properties were not being injected into the plugin event call\n- [#MODX-1617] Fixed bug with tvDefaultValue Form Customization Rule\n- [#MODX-1619] Added sanity check for modActionDom constraint check\n- [#MODX-1620] Fixed missing or incorrect lexicon entries across ui\n- [#MODX-1612] Fixed bug where Create Menu button was not working\n- [#MODX-1616] Renamed \"field\" to \"name\" in Form Customization rule windows\n- Removed any non-essential JS from the top menu items\n- Added additional check and error logging for processor_path option in modX::executeProcessor().\n- Added missing view_sysinfo permission to default Administrator policy\n- [#MODX-1595] Fixed bug regarding hiding top menu items with permissions\n- [#MODX-1596] Fixed bug related to creating a new top menu item\n- Fixed issues related to usergroup panels and anonymous usergroup editing\n- Fixed bug in template viewer for package browser that wasnt paginating right\n- Added modRestServer for generic REST request handling\n- Enable remote sorting and sorting by ID on Users grid\n- Fixed and enhanced search field on Users grid\n- Fixed bug with duplicating a context where only the first level would duplicate\n- Updated to xPDO 2.0 revision 396\n- Fixed bug where package version info wasnt being computed on download/scanlocal\n- Added check for locked status on resources, now shows locked status in tree, as well as who is editing\n- [#MODX-1592] Fixed bug with usergroup create by moving it to a window\n- [#MODX-1590] Fixed missing processors for ACL grids\n- [#MODX-1526] Added permissions resource_tree, element_tree, file_tree that restrict rendering/viewing of the left-side trees. Must be applied to access policies.\n- [#MODX-625] Adjusted text in config.inc.php writable warning message\n- [#MODX-1586] Fixed toolbar rendering bug in user settings due to hidden div, now using hideMode: offsets\n- Added search for user box in usergroup users grid\n- Changed User Group users grid to a non-local grid, now supports pagination and proper validation\n- Enhanced UI for editing User Group Context/ResourceGroup ACLs\n- [#MODX-1525] Added permissions field to modMenu to define policy permissions required to see Top Menu items\n- Fixed bug in Packages grid to properly show provider name\n- Added modRestResponse class, improved error handling for REST-based package management\n- Added verification for Providers, now check to make sure they can connect before being added or updated\n- Added Package View page to Package Management, allowing you to view more info about a package, view prior installed versions, and remove older package versions\n- Fixed typo in setup script for PM changes\n- Added version_major, version_minor, version_patch, release, and release_index fields to modTransportPackage tables to assist sorting and organization\n- Fixed bug in transport schema\n- [#MODX-1571] Fixed xtype in automatic_alias setting\n- [#MODX-1572] Fixed deprecated error in PHPMailer service\n- [#MODX-1512] Fixed bug with MODx.tree.Tree::refreshNode that caused a strange duplicate node error\n- Updated xPDO to revision 392 to get new nested condition features\n- [#MODX-1515] Fixed date picker CSS\n- [#MODX-923] Added file path to config.inc.php configcheck message on welcome page\n- [#MODX-1579] Added code to prevent invalid characters from being used in admin username/password in setup\n- [#MODX-1575] Fixed bug with Resource Group getList processor\n- Updated to xPDO 2.0 revision 389\n- Added validation to modContext.key field; must be a valid PHP identifier without underscore characters\n- Modified modError::checkValidation() to call modError::addField() for each validation message\n- [#MODX-1562] Cleaned up Site Schedule grid to properly load baseParams during refresh and adjust pagination\n- Cleaned up processor code, plugin invoking, access permission checks in processors\n- [#MODX-1562] Fixed bug in Site Schedule data\n- Fixed OnDocUnpublished and OnDocPublished calls in processors to pass modResource reference\n- [#MODX-1564] Fixed bug causing combo values to get overridden if they were set before the combo store loaded\n- Move element and resource prerender plugin events to after js registering to allow for proper event execution order\n- [#MODX-986] Added \"Duplicate Context\" to Resource tree, as well as \"Remove Context\"\n- Fixed bug with default provider on package management UI\n- [#MODX-1540] Fixed last login display in Welcome page\n- [#MODX-1567] Enabled sorting in Reports -> System Info -> Recently Edited Documents\n- [#MODX-1522] Restricted user editing to just the save_user permission\n- Added a \"reload\" button to the error log\n- Fixed Active Resources on Reports - System Info\n- Fixed database version query in Reports - System Info\n- [#MODX-1560] Added a button to truncate manager log\n- Added new browsing view for Templates in Package Management; thumbnail-based browsing.\n- [#MODX-1534] Revamped file edit page to match other page structures\n- [#MODX-1542] Added missing undelete permission to basic Resource policy\n- [#MODX-1539] Added view_user permission to solve dropdown combo users bug that needed \"edit_user\"; view is more applicable there\n- [#MODX-1553] Show current permissions in chmod window\n- [#MODX-1539] Fixed a few bugs with the manager log page\n- [#MODX-1530] Fixed permission reference in resource create/data\n- [#MODX-1532] Fixed bug in permissions reference when trying to remove element from property set\n- Fixed bug with login page and new controllers location\n- Enhanced provider home page to allow links for newest/most downloaded packages\n- Added sorting to Access Policy grid, cleaned up getList processors across site\n- Fixed Manager Log page to properly display content, log the right class key, and now display the name of the object edited\n- Enhanced Property Sets page to now allow you to edit specific implementations of Property Sets per element, as well as the default set\n- Added \"disabled\" checkbox to Quick Update Plugin\n- Fixed bug in modManagerResponse dealing with CMPs and templating paths\n- Moved controllers/* files to controllers/default/ to allow for custom manager templating\n- Fixed bugs with Property Sets not showing correctly in dropdowns\n- Updated xPDO to revision 385 to fix cache_db functionality broken by PHP 5 only changes\n- [#MODX-1514] Added css for pointer cursor to top menus\n- [#MODX-1513] Added check for SimpleXML to installer\n- Add sanity check to make sure languages arent erased on package uninstall\n- Removed confirm dialog for remove action on Access Permissions grid\n- Fixed panel layout for Access Policies, User Group editing\n- Fixed E_STRICT warning on modX::getCacheManager() [method signature did not match xPDO::getCacheManager()]\n\nMODX Revolution 2.0.0-beta-5 (LastChangedRevision: 6224, LastChangedDate: 2009-12-15 10:03:36 -0700 (Tue, 15 Dec 2009))\n====================================\n- Fixed bug where Set to Default on Resource TV panel was hidden unless you clicked Reload\n- Fixed some bugs with Property Sets editing\n- Fixed bug where download wasnt working for package management due to missing provider\n- Fixed bug where quick create Static Resource wasnt loading MODx.Browser\n- [#MODX-1496] Fixed issue with scrolling context menus not working on local grids\n- Fixed styling in welcome panel\n- Shrinking top menu a bit to fit in smaller window resolutions\n- Fixed invalid method reference in modInstallTest derivative classes\n- Fixed styling and JS in TV pane\n- Fixed error with charset reference in setup/\n- Clear Search in Package Browser when clicking on a Tag\n- Added Search bar to Package Browser, now can search entire repository\n- Fixed height of Package Browser to not go too far down screen\n- Fixed modRestSockClient to properly strip HTTP headers and return only XML\n- Added modStaticResource methods: getSourceFile() and getSourceFileSize()\n- Fixed bug in setup/ script with new transport package fields\n- Fixed modCacheManager to not cache reg* calls that will cause breakage on similar calls to reg* method\n- Added \\\'package_name\\\' and \\\'metadata\\\' fields to modTransportPackage for future development\n- Fixed styling commits; also fixed bug on Package Management when not selecting default provider\n- Added help buttons to Resource pages\n- Moved TV categories in Resource edit page to tabpanel, also cleaned up button styling\n- Fixed table styling. This is temporary until all tables are ported to ext grids. This affects welcome pane, system info, and online users.\n- Fixed bug where package browser would close on ESC key\n- [#MODX-1489] Allow spaces in Category names\n- [#MODX-1497] Fixed username not being sent in new user email\n- Fixed NOT NULL error in modManagerLog\n- Revamped Package Management UI, changed Provider hooks to REST-based, massively improved downloading UI\n- Fixed styling on the search page.\n- Fixed styling on the actions page.\n- Fixed styling on the manager logs page.\n- Fixed triggerfields in windows in Safari\n- Changed the text-size and and top margin of the Main Navbar Submenu span for more readability.\n- [#MODX-1426] Added connect check to assist with mysql_get_server_info in setup\n- Few style changes: Changed Button style text color to black - Previously it appeared that buttons were disabled. Changed Text color inside of combo boxes to black - As before it looked like the element was disabled.\n- Modified the date fields to show a drop-down box rather than the date image. Changed the text-size and spacing of the Main Navbar to 12px.\n- Fixed styling of the welcome panels.\n- Fixed some issues with OnDocFormSave, plus standardized how to render fields/html to update forms\n- Fixed bug with default values, @ bindings and other things on checkbox/radio TVs\n- Prevent tree from expanding too much on quick create, cleaned up js\n- Assigned user id/username to [[+modx.user.id]] and [[+modx.user.username]] for easier access\n- Cleaned up last PHP4 remnants to PHP5-only\n- [#MODX-1483] Fixed bug with TV saving in resource create processors\n- Recompiled MODx.Console to use Ext.Direct, now should be a bit more stable. To end a MODx.Console session, pass \\\'COMPLETED\\\' to the registry.\n- Resizing the left tree now properly resizes content in the right panel and is stateful\n- Added resizability to leftbar tree\n- Removed no-longer-necessary js file references in resource controllers\n- Consolidated filetree css/js into main css/js files\n- Fixed logic error that caused removing setup directory to fail\n- Combined some common JS files, cleaned up login page css, other optimizations\n- Consolidated filetree extension CSS, removed unnecessary filetree files\n- Consolidated CSS files in templates/default/css to one single file to reduce load times from @imports\n- Added rowactions to package grid\n- Improved code in @DIRECTORY binding to be more efficient and take advantage of DirectoryIterator\n- [#MODX-1478] Fixed @SELECT binding\n- [#MODX-1474] Fixed bug with multiple list-boxes\n- [#MODX-1476] Fixed bug with TV default values with non-inherit tvs, also bug with radios/checkboxes and set to default\n- [#MODX-1479] Fixed bug with duplicate DOM ids in User Group tree\n- [#MODX-1480] Fixed bug with wrong permission reference in property set remove processor\n- Added emptyText to local and property grids\n- [#MODX-1477] Added emptyText config param with default \\\'No data to display\\\' message to empty MODx grids\n- documentObject was not getting set from cached Resources.\n- Added inline help that loads official MODx documentation in a window\n- [#MODX-900] Fixed erroneous text on site_status setting description\n- Added (Inherited Value) flag to TVs that are inheriting their value\n- Added category titles to TV editing panel\n- [#MODX-1354], [#MODX-1475] Fixed @INHERIT and other bindings in TV inputs\n- Fixed bugs with dirty status not firing for certain TV input types\n- Fixed CSS for login page\n- Fixed issue where default connection charset was not persisting in setup for upgrades\n- CSS tweak to get windows working properly\n- Major styling updates (thanks lossendae!)\n- [#MODX-1473] Fixed bug with modUser and modUserProfile PK\\\'s getting mixed, causing errors if PKs for each object were different\n- Added city field to user UI\n- Optimizations to Resource panel\n- [#MODX-1466] Made \"back\" from Access Policy edit redirect to Access Controls page, made Access Controls tabs stateful\n- [#MODX-1471] Added scrollOffset: 0 to grids to hide empty space on right side\n- [#MODX-1469] Fixed dir handling in setup\n- [#MODX-1388] Updated documentation for modX.getTree and modX.getChildIds\n- [#MODX-1318] Prevent ordering of elements in dragdrop since order defaults to alphanumeric\n- Made charset in setup/ a dropdown of available charsets\n- Fixed collation grabbing for setup/\n- [#MODX-1090] Added \\\'Rename File\\\' window to directory tree\n- Vast improvements to setup, including removing of mootools, using ExtCore now, simplified UI workflow to remove unnecessary AJAX calls, added in database creation checking, collation specification, etc\n- Fixed bug with modPackageBuilder that would ignore the specified path for a Namespace\n- [#MODX-1207] Changed modSession.id column to varchar(40) to support session.hash_function=1 with session.hash_bytes_per_char=4.\n- Simplified and optimized session handling, removing older PHP workarounds and adjusting preset system settings.\n- Make sure non-static Resources with binary content types get processed and output.\n- [#MODX-1450] Added paging to Template combobox to allow for large numbers of templates\n- [#MODX-1443] Tree sorting now works for modMenus\n- Removed deprecated system settings from build\n- [#MODX-1448] Fixed issue with container checkbox not persisting\n- [#MODX-1426] Fixed issue with MySQL checks on non-standard\n- [#MODX-1437] Fixed duplicate policy\n- Fixed some issues with Form Customization\n- Added \\\'address\\\' field to modUserProfile\n- Added ability to edit the (anonymous) user group from the user group editing panels\n- Fixed typo in usergroup get processor\n- [#MODX-1018] Fixed bug with having to click the Clear Filter button in a settings grid twice\n- [#MODX-1380] Fixed bug with expanding node when quick creating a resource in it\n- [#MODX-1326] Fixed the access denied logout form, added styling\n- [#MODX-1423] Fixed error with duplicating a template\n- [#MODX-1409], [#MODX-919] Fixed issue where tag symbols were being stripped in Elements and breaking filtering and nested tag functionality\n- [#MODX-1347] Fixed user validation for username missing error\n- Extrapolated RTE logic to make it generic\n- Added OnRichTextBrowserInit to allow for 3rd Party RTEs to hook into MODx.Browser\n- Added system setting \"allow_multiple_users_per_email\" to allow users to have a single email shared across users. Defaults to true.\n- [#MODX-972] Fixed bug when property description was changed, grid wasnt updating\n- [#MODX-1390] Fixed docs for $modx->sendUnauthorizedPage();\n- [#MODX-895] Fixed possible rendering issue with error log scroll bar\n- Optimized setup pre-install checks, now checks both mysql client and server versions\n- [#MODX-1404] Fixed mysql version checks to only show a warning if the client/server is incorrectly setup to where PHP cannot determine the versions.\n- Package Management now restricts downloading/updating Extras to their supported MODx versions (ie, you can\\\'t download packages that support only beta-3 if you have beta-4 or beta-2)\n- [#MODX-1310] Fixed expand/collapse toolbar items in trees\n- [#MODX-1361] Make sure cache (including Smarty files) is cleared after install\n- [#MODX-1372],[#MODX-1376] Marked deprecated functions as so in phpdoc comments\n- [#MODX-1378] Fixed bug with adding a None role to a user group in the User -> Access Permissions tab\n- [#MODX-1375] Fixed documentation for modX.getRequest\n- [#MODX-1374] Fixed documentation for modX.getRegisteredClientScripts\n- [#MODX-1370] Fixed quick create to set modResource type to modDocument properly\n- [#MODX-1373] getLoginUserName and getLoginUserId now return boolean false if no user is logged in\n- [#MODX-1369] Fixed validation errors and possible loophole in error processing for user processor flow\n- Fixed column alignment with radio/checkbox TV inputs\n- [#MODX-1350] Fixed issue where reset to default wasnt working with radio TV inputs\n- [#MODX-1360] Fixed issue where publishedon was being reset in quick update\n- Sanity fixes to misc processors\n- Added access modifiers to methods in modElement\n- Moved name character sanity checks for Elements to element class.\n- Cleaned up element processors, added missing permission checks, filled out plugin event calls\n- [#MODX-1355] Fixed erroneous label for quick create resource on Contexts\n- [#MODX-1352] Remove stay-buttons from user update screen\n- [#MODX-1349] onDirty now fires on triggerfield-based TVs\n- Cleanups to getList processors, bugfixes for grids\n- [#MODX-1317] Fixed erroneous label for quick create resource; should be Document\n- [#MODX-1316] Added menu title to quick create/update resource\n- Fixed issues with User grid\n- [#MODX-1325] Fixed console\\\'s download to file functionality\n- [#MODX-1327], [#MODX-1340] Fixed issue with generation of new password\n- Fixed locking\n- Lots of PHP5-only optimizations\n\nMODX Revolution 2.0.0-beta-4 (LastChangedRevision: 5880, LastChangedDate: 2009-10-19 09:04:47 -0500 (Mon, 19 Oct 2009))\n====================================\n- If memory limit is lower than 24M, force to 128M if possible\n- Fixing setup text for memory limit checks.\n- [#MODX-1080] Make sure traditional distribution doesnt need base directory writability\n- Added modInstallTestSvn class for handling SVN-specific setup tests\n- Fix to setup contexts controller to read existing paths on upgrade.\n- setup/ memory_limit checks now only need to be 24M for setup/ to run.\n- Updated to xPDO 1.0 revision 363 to fix \"Error saving changes to parent object fk field action\" messages being logged during install.\n- Fixed issues with category remove dialog and lexicon topic grid\n- [#MODX-1294] Fixed possible obscure problem when using Preview after changing the alias in a Resource\n- [#MODX-1278] Fixed issues with checkbox TVs and default values, fixed the \\\'set to default\\\' button for complex inputs\n- [#MODX-1280] Fixed issues with the user create processor\n- Added OnBeforeUserActivate, OnUserActivate events\n- Added \\\'active\\\' boolean field to modUser. Defaults to 1.\n- Added OnCreateUser, OnDeleteUser, OnUpdateUser events\n- [#MODX-1170] Fixed issues with Export Topic\n- [#MODX-912] Fixed isinrole/ismember output filter\n- [#MODX-677] Made capitalization consistent on Resource edit/create screen\n- [#MODX-1251] Fixed issue with server offset displaying incorrectly\n- [#MODX-896] Fixed issue with server_offset setting description\n- [#MODX-928] Fixed issue where parent resource wasnt refreshing properly\n- [#MODX-777] Made consistent the checkDirty behaviour of save buttons across manager\n- [#MODX-938] Added check to build to check if core+core.transport.zip were removed before build starts.\n- [#MODX-629] Added missing automatic_alias setting to build\n- [#MODX-790] Fixed issue where couldnt browse back to root directory with MODx.Browser\n- [#MODX-902] Fixed empty warning message for removing category\n- Fixed bug with removing categories\n- Fixed issue where couldn\\\'t drag a resource onto a resource with no children\n- [#MODX-1130] Fixed issue with parent triggerfield; also redid how tree hrefs load so that clicking on a node in the tree to load url can be disabled\n- [#MODX-1133] Fixed issues with hotkey behavior\n- [#MODX-1230] Fixed issue where drag Resource to symlink/weblink content field would add tags as well\n- [#MODX-1273] Added OnLoadWebPageCache event invocation to modRequest->getResource().\n- [#MODX-1273] Fixed events in User update/create form\n- Enabled compression of manager JS scripts by changing the Setting \"compress_js\" to true.\n- Upgraded ExtJS to ExtJS 3.0.2\n- [#MODX-1270] OnManagerCreateGroup and OnWebCreateGroup events now fire\n- [#MODX-1237] Fixed warning in modParser with regards to uninitialized variable\n- [#MODX-979] Added password_generated_length (the length of the auto-generated password) and password_min_length (the minimum length for a password)\n- Cleaned up usergroup processors\n- Added sanity checks to usergroup processors\n- Prevent possible issue on usergroup update that would wipe related objects\n- Prevent possible issue that would allow user to remove Administrator group\n- Removed some legacy todo statements\n- Moved Element category reset on modCategory object remove to modCategory class\n- Cleaned up modResourceGroup, modTemplate helper methods\n- Added modUser::joinGroup(group,(optional)role) and modUser::leaveGroup(group) for easier development\n- Optimized getrecentlyeditedresources processor\n- Make sure config.js.php outputs proper headers\n- Commented out Content-Length headers on lang.js.php, for some reason was slowing down servers\n- [#MODX-1256] Fixed issue with Resource tree not being visible in Resource Groups page\n- Fixed issues with Import HTML/Resources pages; properly convert to MODExt\n- [#MODX-1202] Fixed issue where Element name was missing in Duplicate window\n- [#MODX-1233] Fixed bug where categories could only be renamed once before needing to reload page\n- [#MODX-1248] Fix bug that could wipe TV values if tab wasnt loaded\n- [#MODX-1241] Fixed Preview button on update panels\n- Prettying up of TV fields\n- Now display SVN revision number with version in top left of mgr header\n- Fixed issues with TVs setting values incorrectly\n- Added \"Set to Default\" button on TVs that will reset the TV\\\'s value to it\\\'s default value. TV Resource values can now be set to blank as a valid value.\n- [#MODX-924] Fixed errors in various system setting descriptions\n- [#MODX-935] Tooltips in Resource tree now do not show if no description or longtitle is set\n- [#MODX-1120] Now shows TV names in tag form below the caption in the TV editing panel in Resource editing\n- Fixes to plugin event calls in controllers\n- Fixes to filetree to enable in Ext3\n- [#MODX-1112] Fixed issue where checkboxes in grids werent firing dirty statuses\n- [#MODX-1229] Fixed issue where default hidemenu setting in Create Static Resource was setting incorrectly to true\n- Added some extra variables for RTE firing; also made sure MODx.loadRTE fires on new resource creation. Fixes [#TINYMCE-9], [#TINYMCE-8]\n- [#MODX-523] Fixed copy issue in console by providing \"Download to File\" link\n- [#MODX-649] Fixed issue where comboboxes were not loading proper displayValue when first rendered\n- Added category combobox to quick update/create windows\n- [#MODX-1019] Added missing site_unavailable_page System Setting.\n- [#MODX-1226] Removed modResource->checkChildren() method; isfolder should not be set based on presence/absence of children.\n- [#MODX-1213] Fixed issues with WebLink creation and loading\n- [#MODX-1178] Fixed issue where checkbox TVs were unable to be set to false; properly rendered values into a hidden field\n- [#MODX-1204] Implemented $matchAll for modUser::isMember, that allows exclusive and inclusive group membership checks\n- [#MODX-1203] Now preserves state of open tabs in left bar\n- Added \"Form Customization\" page, which emulates Evolution ManagerManager functionality and integrates it into the core\n- Revamped modMenu DB structure to allow for more proper dynamic menus; 3PCs will need to now refer to the Components menu as \\\'components\\\', as the \"id\" field has been dropped and \"text\" is now the PK\n- Fixed DOM issue with Profile page\n- Improved core transport build script, lowered build times\n- Fixed issue where hiding the alias field would cause it to be erased\n- [#MODX-1169] Fixed issue where unchecking Container on a Resource that had children would hide them from the tree\n- [#MODX-1125] Fixed issue where Properties were being lost on new Elements\n- Fixed some dirty field problems in Element/Resource forms\n- [#MODX-1167] Improved isFolder checkbox tooltip\n- [#MODX-929] Changed default click functionality in Tree menu to edit Resources, unless does not have permission to, will then go to View\n- Fixed navbar structure on main menu to properly handle infinitely deep nested menus. Needs help from a CSS guru on the CSS end.\n- [#MODX-1161] Fixed bug with height argument on modX::getParentIds\n- Documentation updates to modResource class\n- [#MODX-1189] Fixed issue with TV values not setting properly with modTemplateVar->setValue\n- Added modResource->getTVValue, which gets the value of a specified TV for the Resource\n- [#MODX-1177] Adjusted Lexicon Management text to properly represent functionality\n- Added more metadata to Lexicon Topic exports\n- [#MODX-1191] Fixed issue where Namespace combo was conflicting with other DOM IDs in Lexicon Management\n- Changed Accordion to Tabs in left menu\n- In all Resource panels, Moved Page Settings back to right side, moved Template to top, moved Published to top right\n- [#MODX-1173] Added modResource->hasChildren() function. Returns # of children for the Resource.\n- [#MODX-689] Fixed error when using @SELECT binding with Template Variable Input Option values.\n- Fixed issues with modMenu creation/editing\n- [#MODX-1132] Various fixes to the user editing page\n- [#MODX-1123] Fixed bug where properties were not saving on new elements\n- [#MODX-683] Changed title for 1st tab on Resource edit screen\n- [#MODX-1118] Tweaked MODx.combo.ComboBox and other store references to possibly fix local store bug\n- Fixed issue with Sort By dropdown in the Resource Tree\n- Fixed issues with User Group update page\n- Added modAccessPermission class to properly handle access policy permissions\n- Adjusted UI to handle model change\n- Added logic in setup install to clear sessions table after install to prevent access permission changing problems (and is a good general practice anyway); users will have to re-login after setup/ is run.\n- Cleaned up access policy grid\n- Default sort roles by authority\n- Removed no-longer needed Security pages; now done in Access Control and User Group edit screens\n- Started cleanup of Security system; changed \\\'Authority\\\' listing on User Group page to a more correct \"Minimum Role\".\n- Added some IDs to resource edit page\n- [#MODX-1124] Took Templates off the list of attachable elements in Tools | Property Sets\n\nMODX Revolution 2.0.0-beta-3 (LastChangedRevision: 5593, LastChangedDate: 2009-07-30 11:14:17 -0500 (Thu, 30 Jul 2009))\n====================================\n- Fixed issue with scrollbars and height in tree context menus\n- [#MODX-963] Fixed issue with scrollbars and height in grid context menus\n- Fixed possible error in lang.js.php\n- [#MODX-982] Added param stringLiterals to directory/getList processor\n- [#MODX-978] Updated PHPMailer to 2.0.4\n- [#MODX-960] Fixed DOM issue with User Group creation/editing screen\n- Added ability to drag/drop files in file tree into fields\n- Fixed issue with file tree hiding files\n- [#MODX-960] Fixed erroneous header in Manage User Groups and Roles\n- [#MODX-965] Removed Disabled field from Package grid since it currently is unapplicable\n- [#MODX-964] Fixed issue with toolbar buttons in package download tree by removing unneeded buttons, fixing refresh button\n- [#MODX-966] Changed Package Management grid to be easier to read, removed unnecessary information\n- [#MODX-962] Fixed issues with User panel screen\n- Replace deprecated split() call in magpierss class with explode().\n\nMODX Revolution 2.0.0-beta-2 (LastChangedRevision: 5416, LastChangedDate: 2009-07-16 13:15:41 -0600 (Thu, 16 Jul 2009))\n====================================\n- [#MODX-1029] Fixed incorrect URL references in browser controller template\n- Updated version info for beta2 release\n- [#MODX-942] Made sure all get-based processors use REQUEST, not POST\n- [#MODX-937] Added \\\'Download Extras\\\' button to package grid which loads modxcms.com provider\n- login processor does not return site_url in response by default.\n- modResponse->outputContent() allows programmatic options to configure max_parser_iterations.\n- Updated xPDO to revision 341: package uninstall preserves and restores file resolver data\n- Changed key shortcuts to always require ctrl+shift to prevent browser collisions\n- Added in field for description key in modMenu windows\n- [#MODX-931] Added isequal, isequalto, and notequalto as modifier aliases to default Output Filter\n- Fixed issues with pagination on settings grids\n- Fixed ENTER key issues on quick create/update windows\n- Added &language option to lexicon tags.\n- Added ability to load lexicon topics via tag: [[%key? &namespace=`mynamespace` &topic=`mytopic`]]\n- [#MODX-910] Fixed issues with gte/lte/gt/lt output filters\n- [#MODX-921] Added \"isempty\" as an alias of \"ifempty\" in output filters\n- [#MODX-920] Fixed wordwrap output filter\n- [#MODX-914] Added isnotempty and hide output filters\n- [#MODX-913] Added isloggedin and isnotloggedin to output filters\n- Upgraded ExtJS from 2.2 to 3.0\n- [#MODX-925] Fixed issue where name couldnt be changed on duplicate resource window with resources with children\n- [#MODX-911] Fixed dragability issue when assigning resources to resource groups\n- [#MODX-901] System Settings grid search now searches descriptions\n- Added \\\'afterLayout\\\', \\\'loadKeyMap\\\', and \\\'loadAccordion\\\' events to MODx.Layout\n- Fixed bugs with File TV input renders\n- [#MODX-887] Properly standardized POST/REQUEST access methods for element processors\n- Fixed issues with user emails being sent in plaintext with no linebreaks; now HTML-based for the time being\n- Package Download tree now disables already downloaded packages.\n- [#MODX-885] Fixed missing break statement in cat output filter\n- [#MODX-844] Fixed ucfirst output filter, added ucwords output filter\n- [#MODX-869] Added missing descriptions for certain menu items\n- [#MODX-868] Fixed bug on settings grid where filter box was not firing on enter key\n- Fixed bug where hidemenu was not persisting in Quick Update Resource\n- Fixed bug with tree mask rendering before panel is rendered\n- [#MODX-747] Fixed issues with access grids update windows\n- [#MODX-803] Fixed DOM issues with TV mgr input property renders\n- [#MODX-805] Fixed attribute issues with TV web output renders\n- [#MODX-859] Changed login page loader box to say \\\'Loading...\\\' instead of \\\'Saving...\\\'\n- [#MODX-860] Fixed z-index issues across manager\n- Added a custom loadMask to MODx.tree.Tree objects to display when they\\\'re loading but not affect page focus\n- Added a custom loadMask to the Package Management download tree to display while loading the remote provider payload\n- Added in icon for package files\n- Added fsockopen as a fallback for transport package if allow_url_fopen or cURL is not enabled\n- [#MODX-856] Added cURL method of grabbing transport packages when allow_url_fopen is set to false\n- Fixed bug in property update where list grid was not hiding if list xtype was previously selected but not now\n- Fixed import properties where it was not properly handling descriptions\n- Fixed bug where ExtJS couldnt handle text/json header responses with fileUpload set to true in form panels\n- Fixed some DOM issues with Package Management\n- [#MODX-833] Temporary fix for modManagerLog message showing up in console\n- [#MODX-853] Changed source caption of view resource data\n- [#MODX-809] Adjusted formatting of View Resource data fields\n- Fixed bugs with Resource data page not loading fully, glitching tree\n- [#MODX-772] Fixed bug where plugin events were not showing enabled if filtered by name\n- Fixed user system event calls to pass proper arguments\n- Fixed bug where you could only load 1 Quick window at a time\n- Fixed bug with duplicate resource\n- [#MODX-845] If no setup options are specified, package installation will automatically proceed\n- Added parameter to the getNodes processor for resources/elements called \\\'stringLiterals\\\' which, when true, does not encode the JS literals\n- Layout can now be toggled between tabs (default) and portal panels via the setting \\\'manager_use_tabs\\\'\n- Nuked the Loading Box in MODExt\n- Changed clearCache key shortcut to CTRL+U (CTRL+SHIFT+U for PC users)\n- Fixed issue where folder resources couldnt be drag/dropped\n- Added some key-events: CTRL+H for hiding accordion, CTRL+U for clearing cache, CTRL+N for Quick Create Resource (PC users will need to add SHIFT to all those calls)\n- Fixed portal issues with Safari\n- Added a few events to MODx. JS object, cleaned up code\n- Added sanity checks to context/category create/update processors\n- [#MODX-766] Added check to prevent settings starting with numbers\n- Added ability to update plugin events and dynamically manage plugins associated with them by right-clicking on them in the Plugin Event grid\n- Added \\\'beforeSubmit\\\' listener to MODx.Window\n- Adjusted TreeDrop code to allow for RTEs to utilize drag/drop features\n- [#MODX-827] Fixed typo in resource container help string\n- Added prevention fix to prevent dragging of non-elements/resources into content panes\n- [#MODX-770] Fixed bug with creating Symlink\n- Fixed issues with creating and editing a static resource\n- Fixed bug with treedrop that set boolean values to string representations; changed to 1/0\n- Fixed missing context menu item to remove new properties in a property set\n- Added functionality for Element Tag Builder to use descriptions of properties\n- [#MODX-817] Redid Clear Cache window to use MODx.Console\n- Lexiconized missing \"Copy to Clipboard\" string\n- Slight tweaks to MODx.Console to get messages to display final ending messages properly\n- Changed invokeEvent missing event warning to debug msg to prevent it from logging in every console output\n- [#MODX-818] Fixed issues with Quick Create where it didnt work in FF, missing lexicon strings\n- Added Visual Element tag builder when you drag/drop an element into a field\n- Resources/Elements can now be dragged from tree straight to Resource Content pane.\n- Removed Spotlight effect on dialogs; was unnecessary.\n- Fixed bug in Namespace creation window that was preventing namespace from creating\n- Added refreshes to comboboxes in Lexicon Management to refresh combos on Namespace/Topic creation to keep panels up-to-date\n- Fixed Safari issue with Element tree displaying funky on certain pages\n- Fixed issue in Safari where combobox trigger was on left side\n- Only set lexicon entries for context/user settings if they dont exist as system settings\n- Fixed issue with Actions panel causing accordion DOM to bug\n- Fixed issue with Quick Update not persisting class_key\n- Fixed some issues with persistent settings for Quick Update Resource\n- Fixed issue with Quick Update Resource content field being too long\n- Fixed invalid lexicon entry reference for quick create resource\n- Added Quick Create/Update Resource\n- Preview context menu option now is \"smart\" and builds FURLs and separate context references\n- Fixed invalid topic reference issue with modLexiconEntry::clearCache()\n- Fixed headers for connector responses\n- Added Quick Create/Update for all Element types\n- Fixed bugs with category setting in Element processors\n- Added Clear Cache checkbox option to all Element type forms\n- Fixed bug with Category dropdown\n- Fixed tv input properties forms from double-rendering\n- [#MODX-804] TV fields now fire resource change event\n- Fixed bug in Safari with TV fields being uneditable if panel is dragged\n- [#MODX-745] Added \\\'cancel\\\' button to go back to policy page when updating a policy\n- [#MODX-573] Removed no-longer-applicable \\\'role\\\' column from users grid, fixed capitalization issues in processors\n- [#MODX-762] Added in missing lexicon entries to hardcoded strings\n- Added modx.localization.js for i18n translations\n- Added indexes on modLexiconEntry table\n- Properly formatted lexicon strings still using sprintf\n- Fixed bug where created was not set on transport package creation\n- Made sure package grid paginates correctly if number of packages installed exceeds 20\n- Fixed Last Modified On on Lexicon grid\n- Optimized action, menu, language, content-type, lexicon, namespace processors\n- [#MODX-765] Added fix to prevent creation of blank system settings\n- Fixed bug in Safari with TV widget properties rendering\n- Consolidated resource getNodes processor, added access policy checks\n- Added sanity check to toJSON function in modConnectorResponse\n- Properly refactor element tree to point to correct processor\n- Added delegate processors for different modes in element tree\n- Updated Context policy attributes for missing attributes\n- Fixed invalid category reference on chunk update processor\n- Added log error messages if save()/remove() fails on modElement derivatives\n- [#MODX-771] Fixed invalid lexicon string reference in element tree\n- Added WARN log message when executing a system event that doesn\\\'t exist\n- Filled out missing access policy checks in element processors\n- Fixed incorrect and missing permission check in snippet get/getList processors\n- Fixed invalid lexicon reference in template processors\n- Optimized templateTV getList processor to use only one query\n- Optimized plugin event getList processor to use only one query\n- [#MODX-194] Added sanity checks to element names\n- [#MODX-792] Added check to prevent user from creating blank context, other sanity checks\n- [#MODX-475] Prevented adding contexts with _ in name; will auto-strip\n- [#MODX-796] Fixed check for valid passwords in setup\n- Fixed problematic reference to $_lang\n- Fixed improper log message reference in lexicon\\\'s reloadFromBase processor\n- Additional access control defects and warning messages resolved for anonymous users.\n- Fixed access control defect which prevented multiple policies from being respected per principal.\n- Fixed issue with Policy Attributes not adding b/c id was not passed in\n- Added \\\'save\\\' event fire to Element/Resource formpanels\n- Properly setup on*FormRender events for Element classes\n- Added MODx.onSaveEditor check, which will fire on form save, that allows 3rd Party Components to execute JS code on Element/Resource saves\n- Major refactoring to modx.actionbuttons, to render faster, as well as properly register events and button configs\n- Allowed OnRichTextEditorRegister to return a string as well as an array\n- Added MODx.releaseLock(id), which releases the lock on a Resource for a given ID\n- Added MODx.sleep(ms), which sleeps the UI for a given number of milliseconds (useful in async calls)\n\nMODX Revolution 2.0.0-beta-1 (LastChangedRevision: 5070 , LastChangedDate: 2009-05-28 16:20:08 -0500 (Thu, 28 May 2009))\n====================================\n- Fixed issue with cacheable toggle on derivative Resource pages\n- Fix error message when reading expired messages in modDBRegister.\n- Fixed issue with login page JS\n- Fixed issue with derivative Resource classes JS not loading Page Settings data into submit\n- Fixed issue with utilities JS not loading at right time\n- Updated build.xml to produce beta releases.\n- Quick fix to prevent blank attribute referencing\n- Fixed issue with package attributes and skipping blank options\n- [#MODX-723] Fixed issue where preview pane was picking up CSS from preview\n- Updated xPDO to revision 333.\n- Fix issues with Page settings defaulting to 1 on resource creation\n- Adjusted order of JS utils loading to make for easier min-concat loading\n- Cleanups to JS to prepare for beta-1\n- Lexicon updates\n- Updating outdated copyright notices in source code headers.\n- Fixed hardcoded version number in setup.\n- Added request_controller system setting to indicate the front-controller file (default=index.php).\n- Fixed array_merge warnings in modLexicon.\n- Added back support for anonymous user access control.\n- Added support for returnUrl parameter to be sent to login processor to allow unauthorized responses to return to the original requested page directly (NOTE: this overrides manager_login_startup and login_startup parameters, but does not work with POST requests: these will simply return to the URL with only GET parameters).\n- Export lexicon now prompts for download of exported file\n- Enhanced User Group update/create screen to now have grids that allow you to assign Resource Group / Context permissions to that user group. This will help clear up confusion with the access relationships.\n- Fixed scope issue in accordion.css that was causing odd behaviours with panels in the main content\n- Adjusted setup procedures to allow for more lexicon support for pre-load checks\n- Adjusted setup lexicon to allow for multiple topics; conformed upgrade scripts and other references to match\n- Consolidated similar code in setup, esp. with regards to fatal errors\n- Added smarter checks for xPDO failures in connectors\n- [#MODX-744] Fixed issue with invalid display of num cleared on cache claering\n- Fixed bugs with updating packages from a remote provider\n- Made sure package attr returns \\\'\\\' if false\n- Fixed manager log to show username, not user ID\n- Standardized derivative resource form panels to move page settings to left\n- Tweaked tree menu headers\n- Minor IE overrides for top navigation and accordion panel.\n- Added support for modLinkTag properties as url parameters, with context reserved to indicate a context to send to makeUrl().\n- Fixed error in modLinkTag when passed invalid data.\n- Added \\\'@RESOURCE\\\' binding alias so as to deprecate @DOCUMENT binding\n- Fixed default language setting for modLexicon\n- Fixed a couple issues with the page settings checkboxes for resources\n- Removed deprecated _tx_.gif\n- Removed home icon and replaced with tab\n- Adjusted CSS to align main content page vertically\n- Trees now have fun new icons representing their types (this includes the resource, element and file trees)\n- Cleaned up the default.inc.php lexicon topic to remove any no-longer-used entries\n- Fixing typo in subtract output modifier\n- Fixed improper reference in TV property renders for mgr context\n- Updated xPDO to revision 329.\n- Improvements to sendError() behavior.\n- Added lock stealing processor and updated remove_locks processor.\n- Added steal_lock:true policy attribute to default Resource policy to allow lock stealing permissions by ResourceGroup.\n- modTemplateVar: Fix getValue() on `value` field by storing and verifying the value requested is cached by the same resource.\n- modResource: Add resourceId value to getMany() on modTemplateVar to identify the resource caching a value on the modTemplateVar instance.\n- modX: Set logTarget based on XPDO_CLI_MODE; ECHO for CLI and HTML for non-CLI requests.\n- modX: Add sendError() function to provide customizable, named error pages on FATAL or other critical error situations.\n- modX: Refactored sendForward(), sendErrorPage(), sendUnauthorizedPage() functions to allow an array of options and better handle FATAL errors.\n- modCacheManager now Caches related modContentType data to prevent unnecessary database connection/query on fully cached pages.\n- Fixed problem with modStaticResource truncating the content to the size of the static file by setting the content length header on non-binary content types.\n- Fixed problem with modStaticResource non-binary content types rendering the path to the static file rather than the actual content of the file.\n- Calling modX->log(MODX_LOG_LEVEL_FATAL) or modX->messageQuit() now logs the error to file and then renders {MODX_CORE_PATH}errors/fatal.include.php.\n- Updated to r325 in xPDO: xPDO method changes to getOption() and _log().\n- Update \\\'setup-options\\\' ability in transport packages to allow for script-based setup options that will properly handle upgrades to setup options default values\n- Updated to r323 in xPDO: Revise xPDOTransport::writeManifest to make \\\'setup-options\\\' be able to be an executable script to allow for dynamic form ability\n- Updated snoopy class to version 1.2.4 (used by magpierss).\n- [#MODX-535] Removed automatic setting of isfolder based on presence or absence of children.\n- [#MODX-499] Site start Resources now return base_url from modContext->makeUrl() if no scheme is specified (i.e. when expecting relative links).\n- Improved error reporting on modX->makeUrl() to show original $id value being passed in on failures.\n- modLinkTag no longer returns empty values on first pass of parser, allowing delays until the value returns a valid value.\n- Implemented modResource editor locking (added modResource methods: getLock(), addLock($user), removeLock($user)).\n- Implemented modResource locking features in all appropriate processors.\n- modResource->checkChildren() now uses modX->getCount() to determine if children exist.\n- Added steal_locks attribute to Context access policy.\n- [#MODX-728] Made sure config check dialog is hidden if no warnings are present\n- Package Installations will now skip license agreements / readme panels if none are specified\n- Made sure More Info in download panel can scroll\n- Fixed issue with spacing in setup options panel of package install\n- modCacheManager->generateScript(): Fixed PHP notice in log message on error.\n- modInstall: Modify _modx() function to call setDebug with E_ALL & ~E_NOTICE instead of E_ALL & ~E_STRICT.\n- Optimized queries in element tree to eliminate subqueries or queries in loop, reducing to O(n) instead of O(n^2n)\n- Made clear cache results a bit smaller\n- Refresh trees after clear cache\n- [#MODX-609] Clear cache menu item now loads results in an alert dialog. No longer loads a separate page.\n- Fixed to template getlist processor\n- [#MODX-671] Fixed bug with resource group access permissions being checked when not assigned\n- [#MODX-699] Fixed to allow usage of login processor without lexicons\n- Added Import/Export to element properties grids, which allows for file-based transporting of properties.\n- Fixed issues with comboboxes dropping down a blue screen\n- [#XPDO-28] Fixed problem with multiple file resolvers on vehicles with similar basenames cause directory contents to merge unexpectedly.\n- fixed PHP notice for missing elementType variable\n- fixed subcategory elements missing from display (was counting elements in parent category rather then subcategory to determine if the subcategory should be displayed)\n- Fixed issue with default properties in TVs being locked\n- Fixed no onTVFormPrerender\n- Made sure clearDirty is fired on TV panels\n- Tweaked the css and updated copyright year.\n- Refactored all index.php gateways to support constructor options set as $options in the various config.core.php files.\n- modCacheManager/modCache: Introduced cache partitioning allowing various cache provider implementations to target specific MODx cache partitions and provide custom (system/context/user) settings for configuration options to each: cache_system_settings, cache_context_settings, cache_resource, cache_scripts, cache_lexicon_topics, cache_action_map\n- modAccessibleObject: Refactored object and collection loader logic to improve cache hit rates.\n- modRequest: Fixed warning for undefined variable $fromCache.\n- modSessionHandler: Refactored write() method to only update access time when the session data has changed or at specified intervals before the data is made available for GC.\n- modSessionHandler: Added support for cache_db_session, a new configuration setting to allow session data to be cached when cache_db is enabled.\n- modTemplateVar: Allow getValue() to use a `value` field for data if already populated for a specific resource.\n- Commented out missing image in welcome.tpl (temporary)\n- Added couple of bugfixes to modDBRegister to prevent duplicate payloads and update existing messages.\n- Fixed bug where QuickUpdateChunk was persisting values\n- Added fix to prevent DOM id problems\n- Added clearCache checkbox to chunk editing to allow toggleable cache clearing\n- Optimized chunk processors\n- Added \\\'Quick Update Chunk\\\' and \\\'Quick Create Chunk\\\' options to Elements tree, which allows you to quickly edit or create chunks via a window straight from the Element tree on any page\n- [#MODX-718] Fixed bug where elements without a category wouldn\\\'t show\n- [#MODX-697] Fixed problem with deprecated role topic still in action build scripts\n- [#MODX-705] Removed random numbers causing Radio TVs to render improperly\n- Fixed bug that caused policy data to be erased when creating/saving/removing policy data\n- [#MODX-711] Fixed Update Context screen to properly pass correct PK\n- modDbRegister: fixed bug with expired messages not being removed if remove_read => false\n- modDbRegister: allowed messages to be updated/overwritten\n- Fixed modCacheManager::prepare() - was returning false on already-prepared contexts\n- Added support for nested categories for elements; categories can now have subcategories\n- Fixed to treestate to properly set treestate ID so restore can work properly\n- Fixed call to onDocFormRender to make sure ID is passed on Resource update\n- Fixed to getFiles processor for MODx.Browser to properly store URL parameter with the base_url prefixed\n- [#MODX-712] Fixed errors creating context settings\n- modX: Fixed potential error when invokeEvent() is called and executes a plugin with property sets and pluginCache does not contain the object\n- modCacheManager: Fixed error when building the pluginCache with property sets\n- modCacheManager: Fixed typo in parentSql that was breaking use alias paths option.\n- modCacheManager->generateContext(): Added support for Resources to be generated in multiple contexts via modContextResource.\n- modParser: Removed errant log() statement in parseProperties().\n- modParser: Fixed problem in parsePropertyString() when passing `escaped` property values containing semi-colons (;).\n- Added in necessary reloading functions to ColumnTree\n- Fixed issue with column tree\\\'s context menu overriding the ID\n- modManagerResponse: Detect if controller responses are error arrays and render using error.tpl appropriately.\n- [#MODX-693] redirect bug - modResponse logic error\n- Moved core/config/version.inc.php to core/docs/version.inc.php\n- layout/tree/resource/getnodes.php: Additional optimization to reduce memory usage and improve performance when opening Resources containing a large number of children.\n- modConnectorResponse->toJSON() optimized to greatly reduce memory usage and improve performance with large result sets.\n- [#MODX-691] allow User Settings to be saved from prop. grid\n- Fixed bug with documentMap\n- Fixed issue with default tv render panel for resource page\n- [#MODX-690] Fixed a few events names registered in the system_eventsnames table during build/install\n- Added id\\\'s to element and category nodes for informational purposes (missed one spot).\n- Added id\\\'s to element and category nodes for informational purposes.\n- Updated drag and drop behavior to update context_key of all child Resources when dropping a container on a different context node.\n- Modified modTransportPackage.manifest field from MEDIUMTEXT to TEXT in order to handle large manifests.\n- Fixed aliasMap broken in recent cacheManager refactoring.\n- Added helper functions to MODx.tree.ColumnTree\n- Added DD events to ColumnTree\n- Added missing column tree CSS\n- Added UI for adding property sets to PluginEvents\n- Added cacheManager object checks to verify for PHP4 installs\n- modCacheManager->generateResource(): added validation of the modResource primary key before attempting to cache a record.\n- modUser: modified storage of session data to use the modUser primary key value to isolate values associated with a specific user; this will allow users to login as multiple users on the back-end and/or front-end without affecting the session data associated with a specific user.\n- modX->_initSession(): Enable session_gc_lifetime configuration setting to set session.gc_liftime ini setting regardless of what session handler is configured.\n- modPluginEvent: Added the ability of plugins to utilize Property Sets by allowing a plugin registered to a particular event to attach a Property Set and make it available during processing.\n- Fixed warning with loading of RTEs in resource page\n- [#MODX-674] Fixed content-dispo combobox bug\n- Removed allowBlank: false check on menuindex to allow for dynamic creation\n- Added in missing lexicon entries for prior menuindex commit\n- [#MODX-678] Added back in \\\'menuindex\\\' field to resource panels\n- Added missing modX::__construct() options parameter.\n- Allow for extending of MODx.panel.ResourceTV by making reference to modx-resource-template field dynamic\n- Fixes for RTE loading\n- Fixed issue where smarty template path was not being reset if 3PC set path to something else\n- modX constructor now accepts a second parameter containing an array of options to be set in the config\n- Major refactoring of modCacheManager to provide more granular caching options\n- modCacheManager now accepts options, based on changes to xPDOCacheManager, and provides access via getOption()\n- generate*() methods now all return data as well as cache it to a specified cache_handler unless otherwise configured\n- modX->getCacheManager() no longer supports MODX_CACHE_DISABLED or config[\\\'cache_disabled\\\']; the cacheManager is required, though you will still be able to effectively turn off all caching in the future via this setting (this will be worked back in)\n- manager/controllers/system/refresh_site.php changes to better target things to remove from the cache\n- Introducing modDbRegister and the modx.registry.db package, providing a database modRegister implementation.\n- Added new system settings for individual cache areas, i.e. cache_system_settings, cache_context_settings, cache_lexicon_topics, cache_scripts, etc.\n- modCacheManager: Various fixes and adjustments to latest refactoring, including clearCache improvements.\n- manager/controllers/system/refresh_site.php: Improvements to default clearCache call.\n- modCacheManager: converted generateActionMap() to support configurable cache implementations\n- Updated modAction->rebuildCache() and modManagerRequest->loadActionMap()\n- Additional tweaks to manager/controllers/system/refresh_site.php\n- Updated xPDO externals to revision 308\n- Removed unnecessary comments from the reg* functions\n- Moved all manager pages JS/CSS to inside HEAD tag using the reg* functions; this improves speed and validation of the manager\n- Fixed the way 3PCs handle their controller files. NOTE!!! This means that you no longer need a \"core/controllers\" file in your 3PC; just set the namespace path correctly, then set the controller in your modAction.\n- Added an ability for mgr pages to utilize regClientStartupScript and other reg* functions to make pages load faster and move JS/CSS to HEAD tag\n- modX->getEventMap() - Made sure prepare() creates a valid statement before calling execute()\n- Updated modStaticResource to set headers in getFileContent() for now, though this needs to be refactored for flexibility.\n- Fixed issue with saving TVs from create resource processor\n- [#MODX-637] Fixed issue with TVs not reloading on changing template in new resources\n- [#MODX-663] Fixed various issues with modAction creation\n- Fixed issue with MODx.Browser uploads not refreshing the main view\n- Fixed publishedon default date setting\n- Fixed date TV default value\n- Fixed default setting for symlinks\n- Fixed issue with Symlink/WebLink class_key storing\n- Fixed issue with textfield editing in Safari on Property Set grid\n- [#MODX-662] Fixed duplicate issue with elements\n- Fixed issue with property sets page and property lock\n- Fixed name issue on duplicating elements\n- Fixed symlink page setTimeout issue\n- Fixed missing file inclusions\n- Fixed element tree where categorized templates weren\\\'t showing\n- Added editing ability to resource\\\'s publishedon date\n- Fixes to package downloader panel due to ID conflicts\n- Adjusted modTransportPackage::transferPackage to rename incoming file to [signature].transport.zip rather than basename($source)\n- Fixed xml/json response classes to properly work\n- Added permission \"unlock_element_properties\", which gives ability to unlock editing of default element properties.\n- Added implementation of above permission into element properties grid\n- Fixed some logic issues with the lockMask\n- [#MODX-561] Added \"Locked\" ability to default properties for elements\n- [#MODX-633] Fixed issue with add another not respecting parent\n- Fixed TV access panel not working on new TVs\n- Fixed state management with tree nodes\n- [#MODX-661] Fixed URL TV input, where it was not setting prefix value\n- [#MODX-659] Fixed bug where root-level docs couldnt be updated b/c of parent issue\n- Fixed bug with parent being assigned to 0 always in derivative Resource classes\n- Made sure bad resources (where parent = id) are ignored when building the context cache files.\n- Fixed parent bug in controllers\n- Fixed transport.data.php with \\\'namespace\\\' key on modActions\n- [#MODX-622] Updated top menu structure to be more consistent.\n- Fixed error if properties are null\n- [#MODX-651] Fixed bug when deleting a propset, would not empty grid\n- Fixed to resource page combos not setting display value correctly\n- [#MODX-658] Fixed issue where in TV -> Create, templates were not showing\n- Fixed template nodes to properly sort by templatename\n- Adjusted resource menus and such to refer to a \\\'Resource\\\' without a specific class_key as \\\'Document\\\' when applicable, with the exception of talking about Resources in the generic sense\n- Added Duplicate option to Property Sets\n- Fixed bug where template inheritance for resources wasn\\\'t happening\n- Fixed symlink page\n- [#MODX-632] Updating xmlrpc to 2.2.1\n- Corrected logic in setup to allow forced PDO emulation mode (XPDO_MODE == 2).\n- Added `category` field to modPropertySets; they can now be categorized\n- Enhanced UI to support new modPropertySet category ability\n- Modified MODx.Window so that the ENTER key submits the form\n- Added more IDs to element forms\n- Added ability to \"remove\" overridden properties, but only ones that are not in the default propset (ones that are should \"revert\")\n- Fixed OnWebPagePrerender event not firing as expected.\n- modOutputFilter: Refactored date modifier to return \\\'\\\' if the timestamp encountered == 0 or -1.\n- modOutputFilter: Added strtotime modifier.- Refactored connectors to execute in the context from which they are called, rather than their own context.\n- Updated xPDO to revision 304 for new xPDOFileVehicle feature to respect XPDO_TRANSPORT_RESOLVE_FILES options.\n- [#MODX-562], [#XPDO-24], [#XPDO-25], and [#XPDO-26] Updated xPDO to revision 302 to resolve various issues regarding transport packages and model generation.\n- [#XPDO-23] and [#MODX-604] Updated xPDO to revision 298 to resolve nesting error when logging messages during installation with improper cache directory permissions.\n- Added modPropertySet->getElements() method as shortcut to get all proper modElement instances available to the set.\n- Added overridden modElementPropertySet->getOne() to get related Element using the proper element_class value.\n- [#XPDO-21] Updated xPDO to revision 290 for updates to xPDOObject::addOne() and addMany().\n- [#MODX-553] Unpublished and deleted Resources now ignored properly in modRequest::getResource().\n- [#MODX-553] Core setup now automatically adds an ACL to the web context for members of the Administrator group.\n- Core setup now updates the Administrator group ACLs for accessing the mgr and connector contexts with an Authority of 0 (highest authority).\n- Modified OnUserNotFound event handling not to rely on references which no longer work properly with recent changes to property handling.\n- Added overridden modElement->get() to handle converting legacy property strings stored in the database.\n- Added modPropertySet class to represent persistent sets of properties that can be applied to modElement instances.\n- Added support for modElements to relate modPropertySet objects via modElementPropertySet (many-to-many).\n\nMODX Revolution 2.0.0-alpha-6 (LastChangedRevision: 4485 , LastChangedDate: 2008-11-25 11:58:49 -0600 (Tue, 25 Nov 2008))\n====================================\n- [#MODX-395] i18n\\\'ed the modMail classes, added lexicon topic \\\'mail\\\' for handling mail strings\n- Added check to make sure user cannot browse to subdirs with ../ in connector processor fetching\n- [#MODX-482] Implemented code to remove setup/ directory when box is checked.\n- [#MODX-408] Fix atrocious grammar in mail reception message\n- Fixed labels for static resource page\n- [#MODX-518] Make sure clearing cache clears registry output from package\n- Fixed in_array() checks against $_currentTimestamps in xPDOObject::save() that prevented timestamp/datetime fields from saving 0 values.\n- [#MODX-512] Fixing check in setup to make sure core/packages is writable\n- Fixed bug with RTE loading and saving\n- Changed \\\'Provisioner\\\' references to \\\'Provider\\\' in UI for nomenclature consistency purposes\n- Added lexicon load to resource processors\n- Fix error on resource view when template is empty.\n- Added namespace filter to settings grid\n- Fixed import trees\n- Hide the resource ID field if a new resource\n- [#MODX-514] Fixed issue with pub_date/unpub_date not being reset properly\n- [#MODX-484] Added missing ht.access sample to web context files in included in transport package.\n- Modified modWorkspace vehicle attributes to XPDO_TRANSPORT_UPDATE_OBJECT => false\n- Updated xPDO to revision 284 for new xPDO package-aware vehicle features when loading classes.\n- Slight styling improvement to grid to make alt-rows more apparent\n- Added clearCache() functions to modLexiconTopic, modLexiconLanguage\n- Added \\\'collapsible\\\' options to the options tabs of resources. Can now collapse them to show only the content editor.\n- Prevent blank property value names\n- Adding css classes to modext components for easier styling\n- Fixed some issues related to installation of packages, namely dealing with the setup-options attribute and resolver handling\n- Added _build/build.local.xml to prepare an svn development copy for execution; builds core transport, minifies and concats the javascript and puts it in place, etc.\n- Slight fix to login box and css styles to get checkbox checked css to render properly\n- Updated xPDO to revision 281 to get fix to xPDOObject::save() when updating fields with NULL values.\n- Styling updates; make form fields bigger, tabs bigger, menus bigger...basically pretty up the UI\n- Fix to typo in createTable in modInstallVersion\n- Implemented version-specific upgrades to setup/\n- Updated xPDO to revision 275 (xPDOObject datetime/timestamp handling improvements, xPDOTransport pre-existing object restoration features, and more).\n- Changed System Events action to Error Log Viewer, which now allows you to view (and clear) the error log from the manager\n- [#MODX-509] Fixed issue with refreshing of incorrect node in dragdrops on trees\n- Fixes to CSS in setup, moved error box to fixed bottom right, i18n\\\'ed more stuff, cleaned up HTML and simplified outputs\n- Fixed issue where the path for processors could not be overridden by changing the parameters for handleRequest in modConnectorRequest to an array of options\n- [#MODX-501] Fixed issue where trees didn\\\'t refresh when package was installed. All trees now refresh.\n- Fixed bug with duplicating resources\n- [#MODX-505] Fixed issue with creating weblink redirecting improperly\n- Fixed issue with emptying recycle bin and root-level resources\n- [#MODX-508] Weblinks are now not hidden by default\n- Fix missing published checkboxes in resource derivative classes\n- Applied patch to fix issue with label click of checkboxes not changing value\n- [#MODX-507] Fixed bug where Published checkbox wasnt showing in resource panel\n- Fixed bug in filetree that would scroll up topmenu\n- [#MODX-507] Adding in textbox for parent ID for now, will come up with better solution later\n- [#MODX-506] Fixed bug where cache wasn\\\'t cleared on drag/drop in tree\n- Fixed bug in modPackageBuilder that was preventing deletion of existing package directories and files.\n- Added constants MODX_INSTALL_MODE_NEW, MODX_INSTALL_MODE_UPGRADE_EVO, MODX_INSTALL_MODE_UPGRADE_REVO\n- Extracted install->test() to a separate class, then i18n\\\'ed the test strings\n- LOTS of phpdoc additions to all processors, including parameter lists for each processor\n- Removed any last trace of modules from Revolution\n- Added phpdoc information to processors\n- Properly clear cache on install/uninstall/remove of packages\n- Removed \"require_once MODX_PROCESSORS_PATH.\\\'index.php\\\';\" from all processors\n- Only show \\\'Update Package\\\' if the package comes from a provider\n- Fixes to get browser working with TinyMCE\n- Fixed issue with forced removing of packages not properly removing the resolvers\n- Standardized modRequest/modResponse methods across all derivatives (i.e. modRequest::handleRequest() always calls modRequest::prepareResponse(), which calls modResponse::outputContent()).\n- [#MODX-478] Fixed typo in lexicon import/export that prevented window hiding\n- Fixed issues with Symlinks\n- Fix to TV output/input renders when loading in a context other than web/mgr\n- Fix to invokeEvent to prevent unwanted caching of event name if plugin executes more than one event per runtime\n- [#MODX-424] Added readme viewing to package grid\n- Added ability to delete multiple element properties at once via a multiple row handler\n- [#MODX-488] Removing double click from properties grid for \\\'name\\\' field to prevent unwanted breaking\n- Added back in setDirectory to modConnectorRequest\n- [#MODX-292] Properly format system settings editedon value\n- [#MODX-293] Properly format editedon for lexicon entries\n- [#MODX-481] Fixed rendering issues in element property grid columns\n- [#MODX-479] Fixed issue where first snippet property edited didn\\\'t show value\n- [#MODX-480] Fixed issue with lexicon entry update/create not loading proper topic\n- [#MODX-474] Removing package builder menu item from build script\n- [#MODX-456] Fixed issues with element property grids\n- Fixed MODx.grid.LocalGrid store bugs when dealing with grouped data\n- added pageSize and pageStart config items to MODx.grid.Grid\n- Fix to MODx.grid.Grid in case listeners are provided, dont ignore context menu\n- [#MODX-466] Fixes to dropdowns for element categories, field issues\n- [#MODX-115] Some fixes to rendering issues with comboboxes/datefields on Safari\n- Updated xPDO to rev 265 for improvements in xPDOValidator allowing multiple rules to be evaluated per column.\n- Refactored modError completely, removing all derivative classes and introducing modManagerResponse and modConnectorResponse to handle formatting modError responses appropriately.\n- Added modRequest::registerLogging() and relocated logic for detecting and taking action on register logging parameters out of loadErrorHandler().\n- Refactored modArrayError to remove Smarty dependencies, moving them to a new derivative, modSmartyError which the manager UI can utilize explicitly.\n- Added element property panel to all Element panels for managing default properties (except Modules).\n- Added modElement->setPlaceholders() to set placeholders and return any global placeholders that might need to be restored after an element is processed.\n- modChunk and modTemplateVar now restore any placeholders from the global scope after processing any local properties with the same name.\n- Added properties as local placeholders when processing modTemplateVar instances to match behavior of modChunk/modTemplate.\n- Updates to snippet property editor.\n- Added properties to modTemplateVar to make them consistent with all other elements.\n- Modify modX::getChunk() and runSnippet() to process those elements as non-cacheable instances.\n- Added modResource::getContent() and setContent() functions for extensible control of accessing raw source content.\n- Modify modElement::setProperties() and modTag::setProperties() to handle various property data formats.\n- Updated modParser::parsePropertyString() to handle local property xtypes from UI and convert legacy types.\n- Added isCacheable() and setCacheable() to modElement and modTag classes for direct, extensible control of caching.\n- Modified behavior of modTemplate/modChunk not to prefix properties turned into placeholders with the name of the element.\n- Added getContent(), setContent(), getProperties(), and setProperties() to modTag and derivatives.\n- Added modParser::parsePropertyString() to parse element properties from string or array representations.\n- Updated modElement::process() behavior to check cache sooner and avoid unnecessary source content access and other processing.\n- Additional foreign key and sorting indexes added to modElement classes.\n- Added properties to all modElement classes except modTemplateVar.\n- Added setProperties() to modElement for setting a set of default properties that will be used by the element.\n- Added getProperties() to modElement for getting the properties to be used when processing the element.\n- Added getContent() and setContent() function to modElement and provided overrides in the appropriate subclasses.\n- Removed modTransportPackage::loadTransport(); the manifest should always be loaded from the file.\n- Updated xPDO to rev 262 for improvements in the xPDOTransport manifest format.\n- Updated xPDO to rev 258 for bug fix in new xPDOObject::_setRaw() function with array and json phptype fields.\n- Updated xPDO to rev 256 for bug fix in xPDO::getSelectColumns() and new xPDOObject::_setRaw() implementation to resolve issues with native php types when using fromArray().\n- Added modPackageBuilder->setPackageAttributes() function for easily adding transport-level attributes to a package.\n- Updated xPDO to rev 252 to get new features allowing transport packages to carry transport attributes.\n- Added numerous foreign key and sorting indexes to site_content table (modResource) to improve performance of common queries.\n- Changed modX::changePassword() implementation to call modUser::changePassword().\n- Added getResourceGroups() and getUserGroups() to modUser class to retrieve those things and cache in session.\n- Renamed and moved modX::_checkPublishStatus() to modRequest::checkPublishStatus() and renabled this functionality.\n- Deprecated and moved modX::checkPreview() implementation to modResponse.\n- Added view_offline attribute to default Context access policy.\n- Removed deprecated and invalid modX::makeFriendlyURL().\n- Removed deprecated modX::webAlert() function.\n- [#MODX-364] Results of regClient*() functions are now cached into the Resource cache files to solve error on cached pages with cached snippets.\n- Removed deprecated modX::mergeDocumentMETATags() and moved feature to modResource::mergeMetatags() and modResource::mergeKeywords().\n- Removed deprecated modX::makeList() function.\n\nMODX Revolution 2.0.0-alpha-5 (LastChangedRevision: 4273 , LastChangedDate: 2008-10-09 12:42:42 -0500 (Thu, 09 Oct 2008))\n====================================\n- [#MODX-88] Move version checking to setup script and add notifications.\n- [#MODX-66] Change the way properties work within the scope of a chunk; placeholders set by the chunks properties are now removed after the chunk is processed.\n- Added modX::unsetPlaceholder() and modX::unsetPlaceholders() functions.\n- [#MODX-329] Fixed error with browser \"remembering\" user even when \"remember me\" is not checked.  Was always using the system setting regardless of rememberme.\n- [#MODX-380] Created modSymLink resource class which forwards requests to other resources without changing the URL (as opposed to modWebLink which redirects).\n\nMODX Revolution 2.0.0-alpha-4 (LastChangedRevision: 4213 ,LastChangedDate: 2008-10-01 12:18:41 -0500 (Wed, 01 Oct 2008))\n====================================\n- Updated xPDO to rev 248\n- More log messages for modPackageBuilder\n- Fixed some bugs with MODx.Browser\n- Enabled specific path setting for MODx.Browser\n- Fix to remove redirect to system settings if version info differs.\n- Added MODX_SETUP_KEY to setup to identify the distribution type and allow setup logic to be conditional based on this information.\n- Introduced additional default policy attributes and policy checks throughout the controllers and processors for more robust access control.\n- [#MODX-349] Added processor and menu item to reload your own access policies without logging out and logging back in.\n- [#MODX-349] Added processor and menu item to flush all user sessions from the database.\n- [#MODX-349] Modified user policies to cache policies by Context; previously policies cached for one context were being applied to other contexts when switching or accessing both from the same browser session.\n- Updated xPDO to revision 246 to fix problem with modLexiconEntry rows being duplicated in upgrades after deleting modLexiconFocus records.\n- Modified Ant build to automatically compress and concatenate js files (SVN users cannot use compress_js option without performing the complete-wc task in build.xml).\n- Updating xPDO to revision 234.\n- Added support for logging to registers through any modError instance when loaded by modRequest::loadErrorHandler().\n- Removed modRegisterHandler and added logging helper functions to modRegistry.\n- Updating xPDO to revision 233.\n- Updated modAccessibleObject::loadCollection() based on xPDO::loadCollection() changes.\n- Updating xPDO to revision 231.\n- Various model updates to reduce memory usage [convert foreach with fetchAll() calls to while with fetch()].\n- [#MODX-137] Locked Elements now editable by users with the Admin policy attribute edit_locked (not locked as in being edited by another user, but locked explicitly in the Element attributes).\n- Moved makeUrl logic to modContext class and modX now determines which context to use when building the URL.\n- Introduced modX->getContext() to retrieve, prepare and store context configurations in modX->contexts array for reuse during the single request\n- Added _config, _systemConfig and _userConfig to hold on to various parts of the configuration settings before they are merged for use, allowing other functions to remerge the settings as needed.\n- Fixed modX->switchContext() to clear all contextual/user setting overrides and reload the bootstrap _config, _systemConfig, and make use of the modX->contexts array.\n- Implemented UI ability to choose vehicle-specific attributes when adding vehicles to packages\n- Added dynamic value replacement of {setting_key} in user settings in modX->getUser().\n- Added function to grab the request parameters to MODx.request\n- Added missing permission check on empty_cache attribute on refresh_site controller/processor.\n- Updated xPDO to revision 218.\n- [#MODX-282] Fixed bug where grid would show non-existent page in lexicon/settings grids\n- Removed permission check on logout action; doesn\\\'t make much sense.\n- Proper formatting of editedon time in system settings grid\n- Added System Settings \"Update Setting\" window for more detailed editin\n- Rebuilt core data files for the transport.core.php script and made correction to core namespace path to the value {core_path} which is calculated at run-time.\n- [#MODX-263] Access policy update grid moved to separate page\n- Created panel for editing access policies\n- [#MODX-277] Changed \\\'setting\\\' to \\\'name\\\' at top of System Settings grid\n- [#MODX-283] Fixed combo-boolean combobox to prevent overwriting of form variables. this was a bizarre bug.\n- Allowed modPackageBuilder to now use dynamic, on-the-fly namespaces. Separated out registerNamespace() from create()\n- Added support for loading extension_packages via configuration settings before the session is initialized.\n- Fixed dynamic value replacement of {setting_key} in system and context setting generators.\n- Updated xPDO to revision 216.\n- Added class_key field to modUser class/table to support modUser derivatives.\n- Fix to new modLexiconEntry table structure (was not installing due to NOT NULL and no default value).\n- Removed modResource::hasAccess() function to make sure and avoid confusion with security.\n- Add default admin user to the Administrator modUserGroup with a modUserGroupRole of 2 (SuperUser) on new installs and upgrades.\n\nMODX Revolution 2.0.0-alpha-3 (LastChangedRevision: 3867, LastChangedDate: 2008-07-22 08:44:38 -0500 (Tue, 22 Jul 2008))\n====================================\n- [#MODX-210] Changed no-longer-valid help text for resource panel\n- [#MODX-216] Fixed bug with pub_date/unpub_date for the Resource panel\n- [#MODX-213] manually entered passwords not being displayed after saving\n- Added editability to packages grid\n- [#MODX-205] Fixed category saving\n- [#MODX-196] Fixed snippet category error in IE7\n- Created modInstallError for base processing methods\n- Added object support to modInstallJsonError\n- [#MODX-201] Fixed bug with Category combo that prevented adding in a custom category\n- [#MODX-200] Added colored Not Installed text to not installed packages\n- [#MODX-70] Removed top buttons, as they are unnecessary and cause more problems than they are worth.\n- [#MODX-174] Language setting in setup is not loaded.\n- Note: renamed the language file to en.php to match the adopted IANA standard codes (see #MODX-187)\n- [#MODX-26] Manager User creation problems\n- Corrections to new user account email\n- Added MODX_URL_SCHEME define and url_scheme configuration setting\n- Added MODX_HTTP_HOST define and http_host configuration setting\n- Changed \"Modules\" top menu to \"Components\" top menu. Component developers are encouraged to put their 3rd party menus in there.\n- [#MODX-83] Radio Options not working in TV\n- [#MODX-103] Fixed blank template change warning message.\n- [#MODX-173] Language setting in manager pages is not loaded.\n- Removed ucwords on getlist processor for lexicons.\n- Fixed feed_modx_security/news keys in the build file.\n- [#MODX-184] Fixed show in menu checkbox, should have been labeled \"Hide Menu\" since the opposite is true in the database. Changed to match DB column properties.\n- [#MODX-190] Fixed bug with missing duplicate snippet error message\n- Added check for existing name in snippet duplicate processor\n- Updated build.src.url to branches/revolution\n- Fixed import html/resources\n- Fixed action pointer if version is incorrect\n\nMODX Revolution 2.0.0-alpha-2 (LastChangedRevision: 3841, LastChangedDate: 2008-07-15 09:18:24 -0500 (Tue, 15 Jul 2008))\n====================================\n- Adopting new product name, MODX Revolution, and changed version to 2.0.0\n- Fixed bug with content type grid\n- Replaced \\\'gender\\\' with Role column in Users grid\n- [#MODX-182] Fixed invalid reference in tv/create.js\n- Fixed TV input type dropdown, added proper processor/connector\n- changed xPDOCriteria calls to more abstract newQuery ability\n- Added attachment capabilities to modMail/modPHPMailer classes\n- Added setHTML method to modPHPMailer\n- Updated documentation for modValidator class\n- Added explicit header call to set text/json; charset=UTF-8 on responses from modJSONError\n- Remote package installation now works.\n- Fixed invalid schema relationships with transport providers/packages\n- Included check for xPDO transport service config to prevent warning\n- [#MODX-108] Added more database info to the site info page - contrib by sottwell\n- Finished UI for modStaticResource\n- Added some inline documentation to widgets for help\n- Set a more appropriate default resolver target\n- Removed unnecessary package parameter from modPackageBuilder::buildSchema\n- Removed unnecessary package setting\n- Added buildSchema function to modPackageBuilder\n- Added tooltips to elements and contexts in the resource/element trees\n- Fixed bug in Module update page\n- Added a qtip to document tree nodes so they display resource longtitle/description in a tooltip\n- Moved styles to gray theme to prepare for css work\n- Weblinks now functional\n- Fixed slight bug with FF3 and panel collapsibility\n- Fixed plugin properties\n- [#MODX-162] Fixes problem where vehicle grid is not refreshed on 2nd build, as well as resets the form\n- Added \\\'success\\\' event to MODx.FormPanel\n- [#MODX-172] Fix to option values for setup in IE 6. Fix by kmd.\n- [#MODX-166] - Fixed config cache issue - fix provided by kmd\n- [#MODX-165] could not save Template element - fix provided by SA\n- Fixed and cleaned up the actions/menus JS and combos\n- Removed unnecessary tertiary expression (check is already handled by the function)\n- [#MODX-131] Fixed Apache crash and enabled Tools -> Action\n- Added fix to _() JS function to allow for parameter passing:\n    String: \\\'Testing: [[+hello]]\\\';\n    JS call: _(\\\'testkey\\\',{\\\'hello\\\': \\\'Success!\\\'});\n    Result: \\\'Testing: Success!\\\';\n- [#MODX-148] Added support for [[+placeholder]] tags in lexicon strings. i.e., with a lexicon string with key \\\'test\\\' and value: \\\'Test me: [[+hello]]\\\'\n    Programmatically:\n    $modx->lexicon(\\\'test\\\',array(\\\'hello\\\' => \\\'Success!\\\');\n\n    Tag:\n    [[%test?hello=`Success!`]]\n- Fixed to typo on system info JS\n- Added namespacing ability to the addDirectory() and load() methods of modLexicon. Used like so:\n    $modx->lexicon->addDirectory(\\\'pathhere/\\\',\\\'testNS\\\');\n    $modx->lexicon->load(\\\'testNS:fociname\\\');\n- [#MODX-102] fixed missing lexicon entries in php4\n- Added OnHandleRequest event, invoked before anything occurs in modRequest::handleRequest().\n- Set the modLexicon::_lexicon to an empty array even if nothing was loaded.\n- Added modX::switchContext(string $contextKey) function to make it easy to switch contexts using a plugin and the new OnHandleRequest event.\n- Fix to properly submit the content field for resources (should also handle multiple RTEs now)\n- Fixed typo in lexicon reference in event getlist\n- Fix to MODx.load to return multiple objects if they exist\n- General JS doc updates\n- Added MODx JS class, which allows for xtype loading via MODx.load()\n- Some JS doc updates\n- Fixed modErrorHandler to ignore suppressed errors like a proper error handler is expected to.\n- [#MODX-109] Fix bug with profile page loading of date.\n- Reconfigured context update window to separate into tabs for easier viewing and rendering\n- Changed TV resource group panel to a grid, instated proper remove/update code\n- [#MODX-126] Implemented 2 new modSystemSettings: feed_modx_news and feed_modx_security for dynamic setting of the RSS feeds in the welcome pane of the manager\n- [#MODX-137] Removed locked check until a resolution is made on locked elements.\n- [#MODX-119] Corrected issue with file editor stripping out SCRIPT tags.  Was using $_REQUEST instead of $_POST so the values were sanitized by the request handler.\n- Updated Template management to a MODx.FormPanel\n- Altered the way modLexicon loads multiple foci for PHP4 compatibility\n- Added modLexicon::addDirectory, which adds a directory when loading lexicon foci\n- Properly load TV widgets and i18n their strings\n- Fixed bug with modLexicon and $modx reference\n- [#MODX-133] Prevent elements from being dragged into different types\n- [#MODX-125] Fixed saving pub/unpub date on resources\n- [#MODX-106] Removed assets/images check.\n- Configured Object field in Package Builder to be a combobox that loads a dropdown of the selected class_key\n- Added ability to remove vehicles from not yet built package\n- Added MODx.grid.LocalGrid as abstract class of local-data-based grids\n- Added MODx.panel.Wizard as abstract class of wizard panels\n- [#MODX-121] Fixed top menu loading incorrectly when clicking on icons\n- Fixed TV management page, specifically with TV->Template access\n- [#MODX-118] Fixed bug with creating/removing/updating directories from Directory tree\n- Added MODx.combo.ContentDisposition\n- Added ability for MODx.toolbar.Actionbuttons to support formpanel as an alternative for form config parameter\n- Added $modx->config properties to MODx.config JS array sent\n- Fixed update resource TV loading\n- [#MODX-113] Fixed bug in Safari with scrolling in grids, apparently Safari doesn\\\'t like Ext\\\'s autoHeight\n- Removed legacy tpl\\\'s in settings/ dir\n- [#MODX-107] Fixed tree refreshes when resource is saved, both in create and update. Update will now refresh only the parent node of the resource being saved, which speeds up save time\n- Fixed issues with TV Panel loading improperly on new resource\n- [#MODX-114] Prevented JS error from occurring when using page settings checkboxes\n- [#MODX-116] Fixed text for removing a category\n- Fixed Resource pages to allow for Resource Groups to be assigned access prior to Resource creation, as well as making grid not save until \\\'Save\\\' is clicked\n- Fixed Template pages to allow for TVs to be assigned access prior to Template creation, as well as making grid not save until \\\'Save\\\' is clicked\n- Fixed TV pages to allow for templates to be assigned access prior to TV creation, as well as making grid not save until \\\'Save\\\' is clicked\n- Fixed module update, removing legacy code\n- Fixed plugin event grid: now can be used via create or update, also properly handles events, does not save until \"Save\" button is clicked on action bar\n\nMODx 0.9.7-alpha-1 (LastChangedRevision: 3664, LastChangedDate: 2008-04-28 12:43:15 -0500 (Mon, 28 Apr 2008))\n- Updated ExtJS from version 2.0 to 2.0.1\n- [Trac#20] When creating new document, make the \\\'Log Visits\\\' checkbox respect the main configuration setting.\n- [Trac#9] Converted Database Tables tab in System Information to use Ext Grid.\n- [Trac#40] Default role settings are now set correctly when saving roles to the database.\n- [Trac#4] Converted Modules section to use Ext interface.\n- Added new resource import routine for creating resources from static content on the file system, as any valid modResource derivative.\n- Introducing context support to the manager resource trees.\n- [Trac#32] Display correct message counts for the Inbox section on the Welcome page.\n- [Trac#31] System Configuration page always showing \\\'New Install\\\' message. Refactored code to use $modx->version.\n- [Trac#25] Several bugfixes and refactorings to make the Messages section function correctly.\n- [Trac#6] Remove Locks not working from the top menubar.\n- Removed custom_contenttype from system_settings and manager interface.\n- Converted and refactored Import HTML tool for the new APIs.\n- [Trac#29] Resource checkboxes on settings tab not showing accurate values when editing.\n- [Trac#28] Cache not cleared when resources are saved and the clear cache checkbox is checked.\n- [Trac#27] Cached modResources were not loading or rendering since getResource() moved to modRequest from modX.  Cache files generated with new reference to the modX object ($this->modx vs $this).\n- Remove logic in modResource::addOne() that was disallowing binary content types.\n- Add conditional to check for $GLOBALS[\\\'https_port\\\'] before attempting to use it.\n- Several fixes to modResource processors involving saving of boolean fields via checkboxes; make sure POST is filled with unchecked fields having a value of zero.\n- Upgrades now work for previous 0.9.7 installations\n- Add-on installation has been removed from setup in preparation for adding it to the manager itself.\n- Removed modManager095 and all related legacy support for ManagerAPI extender, moving this functionality to modManagerRequest.\n- Added/updated delegate controllers, templates, and processors for modWebLink and modStaticResource.\n- Added new static resource option to document tree context menus.\n- Fixed bug with chunk update processor deleting the chunk content.\n- [Trac#19] Bugs with password on user creation/update; was saving plain password (not encoded).\n- Introduction of new setup using transport packages (new installs only for now).\n- Modified modRequest::sanitize() to no longer strip old-style tags.\n- Moved MODx classes and maps out of core/xpdo/om/modx095 and into core/model/modx.\n- [xPDO] Add support for package specific include paths for models.\n- Refactored INCLUDE_ORDERING_ERROR to manager/includes/accesscheck.inc.php\n- Begin adding input and output filtering to all MODx elements and tags (modElement and modTag derivatives), including default filter implementations based on phX (not yet working).\n- Begin refactoring modx095 package to utilize xPDOQuery (modResource::getOne()).\n- [xPDO] Fixed error in xPDOObject::remove() that was trying to call the toCache function on xPDOObject rather than xPDO.\n- Added checkForLocks func to modx.class.php\n- Added checkIfIn to modmanager095.class.php, to do the annoying check if in manager in all the pages\n- Added splitter class for tables to get the line effect found in user management\n- Added ul.no_list to get list effect without bullets\n- Added formhandler.js - handles validation in forms by sending form through AJAX call. If response != true, then outputs response to a div with id \\\'errormsg\\\'. Also evaluates JS scripts in the response.\n- Updated MODx model for modUserSettings and modWebUserSettings with appropriate primary key indexes and field types.\n- Updated installer SQL to remove the previous indexes and add the primary key index.\n- Fix to modX :: insideManager() to make sure there is a context object initialized before trying to get the context key.\n- [xPDO] Introduction of xPDOQuery for building SQL queries using only objects and the API.\n- [xPDO] Fix to timestamp phptype handling when stored as integer dbtype in database.\n- Modified modResource constructor to set createdon and createdby fields appropriately.\n- Fix for mcpuk GetUploadProgress script (see http://modxcms.com/forums/index.php/topic,11712.msg79581.html#msg79581)\n- Separated styles into their function, for easier manipulation and management\n- Ongoing Conversion of manager pages to xPDO, cleaning up XHTML\n- Emulated PDO can now be forced in PHP 5.1+ when PDO class is already available, but the required drivers are not available.\n- Added $modx->getTree() function for easily getting a tree structure of MODx resource ids in the current context.\n- Modified $modx->resourceMap to a simpler structure and optimized getParentIds() and getChildIds() functions.  $modx->documentMap still holds the old structure but is deprecated.\n- Refactored entire caching layer, based on changes to xPDO.  Files are now spread amongst logical directories, and automatic temp directory detection was also added.\n- Translated all core files and data in the core distribution/installation to the new native tag format.\n- Optimized modParser, removing run-time translation with modParser095 from normal execution and added modTranslate095 utility class, which can translate tags in database and file content, writing a log of the translation and/or making the changes to the database and files.  modParser095 is experimental, and not recommended, as there are too many issues with mixed tags being parsed incorrectly.\n- Fix to make sure modX::parseChunk removes replacement placeholders for empty values.\n- Updates to MakeForm class.\n- Added modXMLRPCResource, modXMLRPCResponse classes and supporting code, including modified XML-RPC for PHP code (from version 2.1).  You can now create resources that represent XMLRPC servers and clients.\n- Altered session cookie expiration that was getting set automatically on all sessions based on the default session cookie lifetime.  Lifetime is now only applied if a session value is set for each context.\n- Added check to verify keys passed to modX::getPlaceholder() are valid strings to avoid PHP errors.\n- Various additional changes to prevent errors from revealing critical database credentials and connection information.\n- Fixed bug with system settings getting overwritten on mutate_settings manager page.\n- Merged from trunk (0.9.5.1-RC1) at revision 2251.\n- Latest updates and bug fixes from xPDO project.\n- Add ability to locate and use original manager/config/config.inc.php to upgrade directly on legacy installations.\n- Applied fixes to modResponse::outputContent(); was not assigning regClient script replacements to the output.\n- Changed parseChunk to parse new style tags to avoid any accidental matches on mixed tag situations.\n- Changed modChunk and modTemplate logic to create placeholders from any properties of the elements prefixed by the name of the element + \\\'.\\\' (added the .).\n- Fixed alias path generation, was reversing the order of parent paths in the resourceListing.\n- Fixed problems with recent changes to modRequest::sanitizeRequest() which was again truncating $_POST vars in the manager when encountering MODx tags.\n- Fixed generation of context cache files; was generating an eventMap for the mgr context at all times.\n- Fix to logic in modDocument::getMany(\\\'modTemplateVar\\\').\n- Merge with 0.9.5.1 trunk at revision 2205.\n- Parsing adjustments to better deal with mixed old and new style tags.\n- [xPDO] Significant xPDO core update to prepare for SQLite, PostgreSQL and other ports.\n- Fix bug in install/upgrade SQL when resetting user and system settings for manager_theme.\n- Added some new configuration options for session handling and various caching features; more to come.\n- Minor changes to reduce number of unique db connections used during a request.\n- Various PHP 4 warnings fixed when assigning values by reference directly from functions (only variables can be assigned by reference in PHP 4).\n- Various improvements to MakeTable class based on usage in user_management and other manager interfaces.\n- Begin replacing Datagrid usage in manager with MakeTable (user_management, web_user_management, manage_modules, docmanager module); lots more Datagrids to replace.\n- Various changes to DataGrid and DatasetPager to try and support existing usage.\n- Fix for @EVAL bindings with more than one line of code.\n- Adjustments to modParser::collectElementTags() to better handle invalid tags (i.e. mispelled snippet names) with nested tags.\n- Adjustments to modParser095::translate() to properly handle translation from old to new configuration tags [(email_sender)] to [[++email_sender]].\n- DBAPI::escape() adjustment (again) to avoid certain issues when using native PDO along-side legacy manager code calling the mysql extension.\n- Removed & from getMany call in modCacheManager to prevent PHP warnings in PHP 4.\n- [xPDO] Added additional logic to xPDO::loadClass() which will return an error immediately if no class name is provided.\n- Adjusted modDocument::getMany() signature; added $cacheFlag= false parameter.\n- Remerged mutate_content.dynamic.php to fix several problems saving documents.\n- Adjusted queries in refresh_site.dynamic.php.\n- Added session table to install script due to failure of auto-table creation on some environments.\n- Removed unnecessary if statement around session_set_save_handler() in modX::_initSession(); the actual problem was auto-table creation was failing.\n- Fix DBAPI::escape() function; PDO::quote() adds single-quotes unlike the legacy mysql escape functions and this was causing content truncation.\n- [xPDO] xPDOCacheHandler class updated to allow configuration properties to determine a class for handling xPDO object and result set caching.\n- modX::_initSession() updated to better handle situations where session_set_save_handler() fails when trying to override default PHP session handling.\n- [xPDO] Modified fromArray() so it is not responsible for determining the _new attribute of xPDOObject instances.  This is the responsibility of xPDO::getObject(), which uses xPDO::load(), and xPDO::getCollection().\n- Fix datasetpager error with PDO changes so DocManager module can load.\n- Fix WebUser login -- weblogin.processor.inc.php.\n- Fix makeUrl() -- no longer needs to add base_url.\n- Fix upgrade install script to insert new config settings properly.\n- Few tweaks to modX::_initSession function (was setting session_name twice).\n- Changed all line-endings to unix-style \\\\n on all files.\n- Removed assets/cache/* which is replaced by core/cache/*.\n- Updated version data format to be compatible with PHP\\\'s version_compare() function.\n- Resolved problems setting primary keys values and improperly identifying new objects when using xPDOObject::fromArray().\n- Several adjustments to xPDO::load(), xPDO::getCollection() and several xPDOObject methods based on changes to xPDOObject::fromArray().\n- Added stripslashes() to modRequest::_sanitize() when working with magic_quotes_gpc enabled.\n- Fix to MakeTable::prepareOrderByLink() to handle FURLs properly.\n- Reduce exposure of critical database credentials in xPDO::load() when errors are reported/logged.\n- Fixed error in xPDOObject::save(); updates to objects with compound primary keys were failing.\n- Added proper escapes to deprecated modX::getFullTableName() to fix issues when dashes (-) or other reserved (My)SQL characters appear in a database name.\n- Merged with trunk (0.9.5 final) at revision 2106.\n- Removed session_keepalive code.\n- Merged with trunk (0.9.5) at revision 2066.\n- Merged with trunk (0.9.5) at revision 2063.\n- Schema updates based on column size changes in 0.9.5.\n- Added missing modX::getSettings() method.\n- Various bug fixes.\n- Merged with trunk (0.9.5) at revision 1945.\n- [bug fix] Fixed a modParser bug when CDATA wrappers were encountered.\n- Add missing webAlert function to new modX class.\n- Modify categories save process to get the insert id using $modx->lastInsertId().\n- Fix to setup.sql; changed ENGINE= to TYPE= when creating new context table to avoid problems with MySQL versions before 4.1.\n- Fixed invalid reference to mergeDocumentMETATags in modResponse class.\n- [New feature] Allow custom error handler classes.\n- [New feature] Fine-grained configuration options for caching pages, database results, or disabling the cache altogether (see system settings starting with `cache.`).  Turn the different caching options on/off or set a default time-to-live for those items being cached.\n- [New feature] Database result-set and xPDO object caching, with support for memcache, native-JSON object caching for high-performance AJAX requests.\n- [New feature] Configurable session management with default implementation configured for modSessionHandler, an xPDO-based implementation that stores sessions in a database, and allows a great deal of configurability, by site and/or context.\n- [New feature] Contexts allows a site to be organized into sub-sites, subdomains, etc, and override any system settings by context.  The default contexts are \\\'web\\\' and \\\'mgr\\\' to support the legacy ideas of front-end and back-end session contexts.\n- Introducing the new MODx core built on top of xPDO; this will incrementally replace the entire existing codebase, but can co-exist until 1.0 release and provides about 90 to 95% legacy compatibility for existing tags and add-ons.\';\n',	0),
(2,	'c4ca4238a0b923820dcc509a6f75849b',	'2017-09-04 14:45:17',	'2017-09-04 14:45:17',	NULL,	0,	1504536677,	'if (time() > 1504536677) return null;\nreturn 1;\n',	0);

DROP TABLE IF EXISTS `q777_register_queues`;
CREATE TABLE `q777_register_queues` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `options` mediumtext,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_register_queues` (`id`, `name`, `options`) VALUES
(1,	'locks',	'a:1:{s:9:\"directory\";s:5:\"locks\";}'),
(2,	'user',	'a:0:{}'),
(3,	'resource_reload',	'a:1:{s:9:\"directory\";s:15:\"resource_reload\";}');

DROP TABLE IF EXISTS `q777_register_topics`;
CREATE TABLE `q777_register_topics` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `queue` int(10) unsigned NOT NULL,
  `name` varchar(255) NOT NULL,
  `created` datetime NOT NULL,
  `updated` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `options` mediumtext,
  PRIMARY KEY (`id`),
  KEY `queue` (`queue`),
  KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_register_topics` (`id`, `queue`, `name`, `created`, `updated`, `options`) VALUES
(1,	2,	'/simpleUpdater/',	'2017-09-03 14:35:17',	NULL,	NULL),
(2,	1,	'/resource/',	'2017-09-03 14:35:17',	NULL,	NULL),
(3,	3,	'/resourcereload/',	'2017-09-03 15:59:17',	NULL,	NULL);

DROP TABLE IF EXISTS `q777_session`;
CREATE TABLE `q777_session` (
  `id` varchar(255) NOT NULL DEFAULT '',
  `access` int(20) unsigned NOT NULL,
  `data` mediumtext,
  PRIMARY KEY (`id`),
  KEY `access` (`access`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_session` (`id`, `access`, `data`) VALUES
('mb7a8mr4q79p71vjph5id20na7',	1504099689,	'modx.user.contextTokens|a:1:{s:3:\"mgr\";i:1;}modx.mgr.user.token|s:52:\"modx59a558f2110b05.78753587_159a55d0f3e5845.96125137\";modx.mgr.session.cookie.lifetime|i:0;modx.mgr.user.config|a:0:{}Console|a:1:{s:4:\"code\";s:97:\"<?php\n$modx->getObject(\'modSystemSetting\', \'container_suffix\')\n			->set(\'value\', \'\')\n			->save();\";}'),
('f6snqm2jk6bhs2m54677ltvh60',	1504454358,	'modx.user.contextTokens|a:1:{s:3:\"mgr\";i:1;}modx.mgr.user.token|s:52:\"modx59a558f2110b05.78753587_159ac0f8ccabb59.78482014\";modx.mgr.session.cookie.lifetime|i:0;modx.mgr.user.config|a:0:{}newResourceTokens|a:3:{i:0;s:23:\"59ac1325a688a2.53021070\";i:1;s:23:\"59ac26c4c40838.02719194\";i:2;s:23:\"59ac26d67c5e99.32254123\";}'),
('29c7unrikbnj7ns3bdtg5jj4q1',	1504506484,	'modx.user.contextTokens|a:1:{s:3:\"mgr\";i:1;}modx.user.0.resourceGroups|a:1:{s:3:\"mgr\";a:0:{}}modx.user.0.attributes|a:1:{s:3:\"mgr\";a:5:{s:16:\"modAccessContext\";a:1:{s:3:\"web\";a:1:{i:0;a:3:{s:9:\"principal\";i:0;s:9:\"authority\";s:1:\"0\";s:6:\"policy\";a:1:{s:4:\"load\";b:1;}}}}s:22:\"modAccessResourceGroup\";a:0:{}s:17:\"modAccessCategory\";a:0:{}s:28:\"sources.modAccessMediaSource\";a:0:{}s:18:\"modAccessNamespace\";a:0:{}}}login_failed|i:0;modx.mgr.user.token|s:52:\"modx59a558f2110b05.78753587_159acf271c5c8e6.01255665\";modx.mgr.session.cookie.lifetime|i:0;modx.mgr.user.config|a:0:{}newResourceTokens|a:1:{i:0;s:23:\"59acf2743edb29.05872399\";}'),
('l0uj8qhdpsoabjm9hqk30fpp77',	1504507088,	'modx.user.contextTokens|a:0:{}'),
('rd1r47sdijc6edjr1m3vjp6887',	1504536318,	'modx.user.contextTokens|a:1:{s:3:\"mgr\";i:1;}modx.user.0.resourceGroups|a:1:{s:3:\"mgr\";a:0:{}}modx.user.0.attributes|a:1:{s:3:\"mgr\";a:5:{s:16:\"modAccessContext\";a:1:{s:3:\"web\";a:1:{i:0;a:3:{s:9:\"principal\";i:0;s:9:\"authority\";s:1:\"0\";s:6:\"policy\";a:1:{s:4:\"load\";b:1;}}}}s:22:\"modAccessResourceGroup\";a:0:{}s:17:\"modAccessCategory\";a:0:{}s:28:\"sources.modAccessMediaSource\";a:0:{}s:18:\"modAccessNamespace\";a:0:{}}}modx.mgr.user.token|s:52:\"modx59a558f2110b05.78753587_159ad66f79fe705.39116968\";modx.mgr.session.cookie.lifetime|i:0;modx.mgr.user.config|a:0:{}newResourceTokens|a:1:{i:0;s:23:\"59ad66fddccff5.62315649\";}'),
('n6eimih9tu42olfhkeoqh5dhu6',	1504539485,	'modx.user.contextTokens|a:0:{}'),
('06b88n8u949bffo8i80nhrmob2',	1504786689,	'modx.user.contextTokens|a:1:{s:3:\"mgr\";i:1;}modx.user.0.resourceGroups|a:1:{s:3:\"mgr\";a:0:{}}modx.user.0.attributes|a:1:{s:3:\"mgr\";a:5:{s:16:\"modAccessContext\";a:1:{s:3:\"web\";a:1:{i:0;a:3:{s:9:\"principal\";i:0;s:9:\"authority\";s:1:\"0\";s:6:\"policy\";a:1:{s:4:\"load\";b:1;}}}}s:22:\"modAccessResourceGroup\";a:0:{}s:17:\"modAccessCategory\";a:0:{}s:28:\"sources.modAccessMediaSource\";a:0:{}s:18:\"modAccessNamespace\";a:0:{}}}modx.mgr.user.token|s:52:\"modx59a558f2110b05.78753587_159b138fd5b9c20.80388985\";modx.mgr.session.cookie.lifetime|i:0;modx.mgr.user.config|a:0:{}'),
('f65sm8n4cidjk13pc9kd0rp371',	1504868209,	'modx.user.contextTokens|a:0:{}'),
('nqpufncgqpmsohn30cq7s852f5',	1504881473,	'modx.user.contextTokens|a:0:{}'),
('okd2vho8b89hujr6uhartu4eu2',	1504881474,	'modx.user.contextTokens|a:0:{}');

DROP TABLE IF EXISTS `q777_site_content`;
CREATE TABLE `q777_site_content` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `type` varchar(20) NOT NULL DEFAULT 'document',
  `contentType` varchar(50) NOT NULL DEFAULT 'text/html',
  `pagetitle` varchar(255) NOT NULL DEFAULT '',
  `longtitle` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `alias` varchar(255) DEFAULT '',
  `link_attributes` varchar(255) NOT NULL DEFAULT '',
  `published` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `pub_date` int(20) NOT NULL DEFAULT '0',
  `unpub_date` int(20) NOT NULL DEFAULT '0',
  `parent` int(10) NOT NULL DEFAULT '0',
  `isfolder` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `introtext` text,
  `content` mediumtext,
  `richtext` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `template` int(10) NOT NULL DEFAULT '0',
  `menuindex` int(10) NOT NULL DEFAULT '0',
  `searchable` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `cacheable` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `createdby` int(10) NOT NULL DEFAULT '0',
  `createdon` int(20) NOT NULL DEFAULT '0',
  `editedby` int(10) NOT NULL DEFAULT '0',
  `editedon` int(20) NOT NULL DEFAULT '0',
  `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deletedon` int(20) NOT NULL DEFAULT '0',
  `deletedby` int(10) NOT NULL DEFAULT '0',
  `publishedon` int(20) NOT NULL DEFAULT '0',
  `publishedby` int(10) NOT NULL DEFAULT '0',
  `menutitle` varchar(255) NOT NULL DEFAULT '',
  `donthit` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `privateweb` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `privatemgr` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `content_dispo` tinyint(1) NOT NULL DEFAULT '0',
  `hidemenu` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `class_key` varchar(100) NOT NULL DEFAULT 'modDocument',
  `context_key` varchar(100) NOT NULL DEFAULT 'web',
  `content_type` int(11) unsigned NOT NULL DEFAULT '1',
  `uri` text,
  `uri_override` tinyint(1) NOT NULL DEFAULT '0',
  `hide_children_in_tree` tinyint(1) NOT NULL DEFAULT '0',
  `show_in_tree` tinyint(1) NOT NULL DEFAULT '1',
  `properties` mediumtext,
  PRIMARY KEY (`id`),
  KEY `alias` (`alias`),
  KEY `published` (`published`),
  KEY `pub_date` (`pub_date`),
  KEY `unpub_date` (`unpub_date`),
  KEY `parent` (`parent`),
  KEY `isfolder` (`isfolder`),
  KEY `template` (`template`),
  KEY `menuindex` (`menuindex`),
  KEY `searchable` (`searchable`),
  KEY `cacheable` (`cacheable`),
  KEY `hidemenu` (`hidemenu`),
  KEY `class_key` (`class_key`),
  KEY `context_key` (`context_key`),
  KEY `uri` (`uri`(333)),
  KEY `uri_override` (`uri_override`),
  KEY `hide_children_in_tree` (`hide_children_in_tree`),
  KEY `show_in_tree` (`show_in_tree`),
  KEY `cache_refresh_idx` (`parent`,`menuindex`,`id`),
  FULLTEXT KEY `content_ft_idx` (`pagetitle`,`longtitle`,`description`,`introtext`,`content`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_site_content` (`id`, `type`, `contentType`, `pagetitle`, `longtitle`, `description`, `alias`, `link_attributes`, `published`, `pub_date`, `unpub_date`, `parent`, `isfolder`, `introtext`, `content`, `richtext`, `template`, `menuindex`, `searchable`, `cacheable`, `createdby`, `createdon`, `editedby`, `editedon`, `deleted`, `deletedon`, `deletedby`, `publishedon`, `publishedby`, `menutitle`, `donthit`, `privateweb`, `privatemgr`, `content_dispo`, `hidemenu`, `class_key`, `context_key`, `content_type`, `uri`, `uri_override`, `hide_children_in_tree`, `show_in_tree`, `properties`) VALUES
(1,	'document',	'text/html',	'Главная',	'',	'',	'index',	'',	1,	0,	0,	0,	0,	'',	'',	1,	2,	0,	1,	1,	1,	1504008436,	1,	1504470429,	0,	0,	0,	0,	0,	'',	0,	0,	0,	0,	0,	'modDocument',	'web',	1,	'index',	0,	0,	1,	NULL);

DROP TABLE IF EXISTS `q777_site_htmlsnippets`;
CREATE TABLE `q777_site_htmlsnippets` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `source` int(10) unsigned NOT NULL DEFAULT '0',
  `property_preprocess` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `name` varchar(50) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT 'Chunk',
  `editor_type` int(11) NOT NULL DEFAULT '0',
  `category` int(11) NOT NULL DEFAULT '0',
  `cache_type` tinyint(1) NOT NULL DEFAULT '0',
  `snippet` mediumtext,
  `locked` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `properties` text,
  `static` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `static_file` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `category` (`category`),
  KEY `locked` (`locked`),
  KEY `static` (`static`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_site_htmlsnippets` (`id`, `source`, `property_preprocess`, `name`, `description`, `editor_type`, `category`, `cache_type`, `snippet`, `locked`, `properties`, `static`, `static_file`) VALUES
(1,	1,	0,	'tpl.Tickets.form.create',	'',	0,	4,	0,	'<form class=\"well create\" method=\"post\" action=\"\" id=\"ticketForm\">\n    <div id=\"ticket-preview-placeholder\"></div>\n\n    <input type=\"hidden\" name=\"tid\" value=\"0\"/>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-sections\">[[%tickets_section]]</label>\n        <select name=\"parent\" class=\"form-control\" id=\"ticket-sections\">[[+sections]]</select>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-pagetitle\">[[%ticket_pagetitle]]</label>\n        <input type=\"text\" class=\"form-control\" placeholder=\"[[%ticket_pagetitle]]\" name=\"pagetitle\" value=\"\"\n               maxlength=\"50\" id=\"ticket-pagetitle\"/>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <textarea class=\"form-control\" placeholder=\"[[%ticket_content]]\" name=\"content\" id=\"ticket-editor\"\n                  rows=\"10\"></textarea>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"ticket-form-files\">\n        [[+files]]\n    </div>\n\n    <div class=\"form-actions row\">\n        <div class=\"col-md-6\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_preview]]\" title=\"Ctrl + Enter\"/>\n        </div>\n        <div class=\"col-md-6 move-right\">\n            <input type=\"button\" class=\"btn btn-primary publish\" name=\"publish\" value=\"[[%ticket_publish]]\" title=\"\"/>\n            <input type=\"submit\" class=\"btn btn-danger draft\" name=\"draft\" value=\"[[%ticket_draft]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n        </div>\n    </div>\n</form>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.form_create.tpl'),
(2,	1,	0,	'tpl.Tickets.form.update',	'',	0,	4,	0,	'<form class=\"well update\" method=\"post\" action=\"\" id=\"ticketForm\">\n    <div id=\"ticket-preview-placeholder\"></div>\n\n    <input type=\"hidden\" name=\"tid\" value=\"[[+id]]\"/>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-sections\">[[%tickets_section]]</label>\n        <select name=\"parent\" class=\"form-control\" id=\"ticket-sections\">[[+sections]]</select>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-pagetitle\">[[%ticket_pagetitle]]</label>\n        <input type=\"text\" class=\"form-control\" placeholder=\"[[%ticket_pagetitle]]\" name=\"pagetitle\"\n               value=\"[[+pagetitle]]\" maxlength=\"50\" id=\"ticket-pagetitle\"/>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <textarea class=\"form-control\" placeholder=\"[[%ticket_content]]\" name=\"content\" id=\"ticket-editor\" rows=\"10\">[[+content]]</textarea>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"ticket-form-files\">\n        [[+files]]\n    </div>\n\n    <div class=\"form-actions row\">\n        <div class=\"col-md-6\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_preview]]\" title=\"Ctrl + Enter\"/>\n        </div>\n        <div class=\"col-md-6 move-right\">\n            [[!+published:is=`1`:then=`\n            <a href=\"[[~[[+id]]?scheme=`full`]]\" class=\"btn btn-default btn-xs\" target=\"_blank\">[[%ticket_open]]</a>\n            <input type=\"button\" class=\"btn btn-danger draft\" name=\"draft\" value=\"[[%ticket_draft]]\" title=\"\"/>\n            `:else=`\n            <input type=\"button\" class=\"btn btn-primary publish\" name=\"publish\" value=\"[[%ticket_publish]]\" title=\"\"/>\n            `]]\n            <input type=\"submit\" class=\"btn btn-default save\" name=\"save\" value=\"[[%ticket_save]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n        </div>\n    </div>\n</form>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.form_update.tpl'),
(3,	1,	0,	'tpl.Tickets.form.preview',	'',	0,	4,	0,	'<h3 class=\"title\">[[+pagetitle]]</h3>\n<div class=\"content\">[[+content]]</div>\n<h5 class=\"author\">[[+modx.user.id:userinfo=`username`]]</h5>\n',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.form_preview.tpl'),
(4,	1,	0,	'tpl.Tickets.form.files',	'',	0,	4,	0,	'<div id=\"ticket-files-list\">\n    [[+files]]\n    <div class=\"clearfix\"></div>\n</div>\n\n<div id=\"ticket-files-container\" data-action=\"ticket/file/upload\">\n    <a id=\"ticket-files-select\" href=\"javascript:;\">[[%ticket_file_select]]</a>\n    <div id=\"ticket-files-progress\">\n        <span id=\"ticket-files-progress-count\">0/0</span>\n        <span id=\"ticket-files-progress-percent\">0%</span>\n        <div id=\"ticket-files-progress-bar\"></div>\n    </div>\n</div>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.form_files.tpl'),
(5,	1,	0,	'tpl.Tickets.form.file',	'',	0,	4,	0,	'<div class=\"ticket-file[[+deleted]][[+new]]\" data-id=\"[[+id]]\">\n    <a href=\"[[+url]]\" class=\"ticket-file-link\" title=\"[[+file]]\" target=\"_blank\">\n        <div class=\"ticket-file-image-wrapper\">\n            [[+file]]\n        </div>\n    </a>\n    <div class=\"ticket-file-meta\">\n        <a href=\"#\" class=\"ticket-file-delete\">[[%ticket_file_delete]]</a>\n        <a href=\"#\" class=\"ticket-file-restore\">[[%ticket_file_restore]]</a>\n        <br/>\n        <a href=\"#\" class=\"ticket-file-insert\">[[%ticket_file_insert]]</a>\n        <br/>\n        <span class=\"ticket-file-size\">[[+size]] Kb</span>\n    </div>\n    <div class=\"ticket-file-template\">\n        <a href=\"[[+url]]\">\n            [[+name]]\n        </a>\n    </div>\n</div>\n<!--tickets_thumb <img src=\"[[+thumb]]\" class=\"ticket-file-image\" />-->\n<!--tickets_deleted  deleted-->\n<!--tickets_new  new-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.form_file.tpl'),
(6,	1,	0,	'tpl.Tickets.form.image',	'',	0,	4,	0,	'<div class=\"ticket-file[[+deleted]][[+new]]\" data-id=\"[[+id]]\">\n    <a href=\"[[+url]]\" class=\"ticket-file-link\" title=\"[[+file]]\" target=\"_blank\">\n        <div class=\"ticket-file-image-wrapper\">\n            <img src=\"[[+thumb]]\" class=\"ticket-file-image\"/>\n        </div>\n    </a>\n    <div class=\"ticket-file-meta\">\n        <a href=\"#\" class=\"ticket-file-delete\">[[%ticket_file_delete]]</a>\n        <a href=\"#\" class=\"ticket-file-restore\">[[%ticket_file_restore]]</a>\n        <br/>\n        <a href=\"#\" class=\"ticket-file-insert\">[[%ticket_file_insert]]</a>\n        <br/>\n        <span class=\"ticket-file-size\">[[+size]] Kb</span>\n    </div>\n    <div class=\"ticket-file-template\">\n        <a href=\"[[+url]]\" title=\"[[+name]]\">\n            <img src=\"[[+thumb]]\"/>\n        </a>\n    </div>\n</div>\n<!--tickets_deleted  deleted-->\n<!--tickets_new  new-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.form_image.tpl'),
(7,	1,	0,	'tpl.Tickets.ticket.latest',	'',	0,	4,	0,	'<div class=\"tickets-latest-row\">\n    <span class=\"user\"><i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]</span> <span\n            class=\"date\">[[+date_ago]]</span>\n    <br/>\n    <span class=\"section\">\n        <i class=\"glyphicon glyphicon-folder-open\"></i> <a href=\"[[~[[+section.id]]]]\">[[+section.pagetitle]]</a> <span\n                class=\"arrow\">&rarr;</span>\n    </span>\n    <span class=\"ticket\">\n        <a href=\"[[~[[+id]]]]\">[[+pagetitle]]</a>\n    </span>\n    <nobr><i class=\"glyphicon glyphicon-comment\"></i> <span class=\"comments\">[[+comments]]</span></nobr>\n</div>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_latest.tpl'),
(8,	1,	0,	'tpl.Tickets.ticket.email.bcc',	'',	0,	4,	0,	'[[%ticket_email_bcc_intro?\n&fullname=`[[+user.fullname]]`\n&email=`[[+user.email]]`\n&id=`[[+id]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre style=\"background-color:#efefef;\">[[+introtext]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+id]]?scheme=`full`]]\">[[%ticket_email_view]]</a>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_email_bcc.tpl'),
(9,	1,	0,	'tpl.Tickets.ticket.email.subscription',	'',	0,	4,	0,	'[[%ticket_email_subscribed_intro?\n&id=`[[+id]]`\n&fullname=`[[+user.fullname]]`\n&section=`[[+section.id]]`\n&section_title=`[[+section.pagetitle]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre style=\"background-color:#efefef;\">[[+introtext]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+id]]?scheme=`full`]]\">[[%ticket_email_view]]</a>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_email_subscription.tpl'),
(10,	1,	0,	'tpl.Tickets.comment.form',	'',	0,	4,	0,	'<h4 id=\"comment-new-link\">\n    <a href=\"#\" class=\"btn btn-default\">[[%ticket_comment_create]]</a>\n</h4>\n\n<div id=\"comment-form-placeholder\">\n    <form id=\"comment-form\" action=\"\" method=\"post\" class=\"well\">\n        <div id=\"comment-preview-placeholder\"></div>\n        <input type=\"hidden\" name=\"thread\" value=\"[[+thread]]\"/>\n        <input type=\"hidden\" name=\"parent\" value=\"0\"/>\n        <input type=\"hidden\" name=\"id\" value=\"0\"/>\n\n        <div class=\"form-group\">\n            <label for=\"comment-editor\"></label>\n            <textarea name=\"text\" id=\"comment-editor\" cols=\"30\" rows=\"10\" class=\"form-control\"></textarea>\n        </div>\n\n        <div class=\"form-actions\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_comment_preview]]\"\n                   title=\"Ctrl + Enter\"/>\n            <input type=\"submit\" class=\"btn btn-primary submit\" value=\"[[%ticket_comment_save]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n            <span class=\"time\"></span>\n        </div>\n    </form>\n</div>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_form.tpl'),
(11,	1,	0,	'tpl.Tickets.comment.form.guest',	'',	0,	4,	0,	'<h4 id=\"comment-new-link\">\n    <a href=\"#\" class=\"btn btn-default\">[[%ticket_comment_create]]</a>\n</h4>\n\n<div id=\"comment-form-placeholder\">\n    <form id=\"comment-form\" action=\"\" method=\"post\" class=\"well\">\n        <div id=\"comment-preview-placeholder\"></div>\n        <input type=\"hidden\" name=\"thread\" value=\"[[+thread]]\"/>\n        <input type=\"hidden\" name=\"parent\" value=\"0\"/>\n        <input type=\"hidden\" name=\"id\" value=\"0\"/>\n\n        <div class=\"form-group\">\n            <label for=\"comment-name\">[[%ticket_comment_name]]</label>\n            <input type=\"text\" name=\"name\" value=\"[[+name]]\" id=\"comment-name\" class=\"form-control\"/>\n            <span class=\"error\"></span>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"comment-email\">[[%ticket_comment_email]]</label>\n            <input type=\"text\" name=\"email\" value=\"[[+email]]\" id=\"comment-email\" class=\"form-control\"/>\n            <span class=\"error\"></span>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"comment-editor\"></label>\n            <textarea name=\"text\" id=\"comment-editor\" cols=\"30\" rows=\"10\" class=\"form-control\"></textarea>\n        </div>\n\n        [[+captcha]]\n\n        <div class=\"form-actions\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_comment_preview]]\"\n                   title=\"Ctrl + Enter\"/>\n            <input type=\"submit\" class=\"btn btn-primary submit\" value=\"[[%ticket_comment_save]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n            <span class=\"time\"></span>\n        </div>\n    </form>\n</div>\n\n<!--tickets_captcha\n<div class=\"form-group\">\n    <label for=\"comment-captcha\" id=\"comment-captcha\">[[+captcha]]</label>\n    <input type=\"text\" name=\"captcha\" value=\"\" id=\"comment-captcha\" class=\"form-control\" />\n    <span class=\"error\"></span>\n</div>\n-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_form_guest.tpl'),
(12,	1,	0,	'tpl.Tickets.comment.one.auth',	'',	0,	4,	0,	'<li class=\"ticket-comment[[+comment_new]]\" id=\"comment-[[+id]]\" data-parent=\"[[+parent]]\"\n    data-newparent=\"[[+new_parent]]\" data-id=\"[[+id]]\">\n    <div class=\"ticket-comment-body[[+guest]][[+bad]]\">\n        <div class=\"ticket-comment-header\">\n            <div class=\"ticket-comment-dot-wrapper\">\n                <div class=\"ticket-comment-dot\"></div>\n            </div>\n            <img src=\"[[+avatar]]\" class=\"ticket-avatar\" alt=\"\"/>\n            <span class=\"ticket-comment-author\">[[+fullname]]</span>\n            <span class=\"ticket-comment-createdon\">[[+date_ago]]</span>[[+comment_was_edited]]\n            <span class=\"ticket-comment-link\"><a href=\"[[+url]]#comment-[[+id]]\">#</a></span>\n            <span class=\"ticket-comment-star[[+can_star]]\">[[+stared]][[+unstared]]</span>\n            [[+has_parent]]\n            <span class=\"ticket-comment-down\"><a href=\"#\" data-child=\"\">&darr;</a></span>\n            <span class=\"ticket-comment-rating[[+can_vote]][[+cant_vote]]\">\n                <span class=\"rating[[+rating_positive]][[+rating_negative]]\"\n                      title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>\n                <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\"><i\n                            class=\"glyphicon glyphicon-arrow-up\"></i></span>\n                <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\"><i\n                            class=\"glyphicon glyphicon-arrow-down\"></i></span>\n            </span>\n        </div>\n        <div class=\"ticket-comment-text\">\n            [[+text]]\n        </div>\n    </div>\n    <div class=\"comment-reply\">\n        <a href=\"#\" class=\"reply\">[[%ticket_comment_reply]]</a>\n        [[+comment_edit_link]]\n    </div>\n    <ol class=\"comments-list\">[[+children]]</ol>\n</li>\n<!--tickets_comment_edit_link <a href=\"#\" class=\"edit\">[[%ticket_comment_edit]]</a>-->\n<!--tickets_comment_was_edited <span class=\"ticket-comment-edited\">([[%ticket_comment_was_edited]])</span>-->\n<!--tickets_comment_new  ticket-comment-new-->\n<!--tickets_can_vote  active-->\n<!--tickets_cant_vote  inactive-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_guest  ticket-comment-guest-->\n<!--tickets_has_parent <span class=\"ticket-comment-up\"><a href=\"[[+url]]#comment-[[+parent]]\" data-id=\"[[+id]]\" data-parent=\"[[+parent]]\">&uarr;</a></span>-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->\n',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_one_auth.tpl'),
(13,	1,	0,	'tpl.Tickets.comment.one.guest',	'',	0,	4,	0,	'<li class=\"ticket-comment\" id=\"comment-[[+id]]\">\n    <div class=\"ticket-comment-body[[+bad]]\">\n        <div class=\"ticket-comment-header\">\n            <div class=\"ticket-comment-dot-wrapper\">\n                <div class=\"ticket-comment-dot\"></div>\n            </div>\n            <img src=\"[[+avatar]]\" class=\"ticket-avatar\" alt=\"\"/>\n            <span class=\"ticket-comment-author\">[[+fullname]]</span>\n            <span class=\"ticket-comment-createdon\">[[+date_ago]]</span>\n            <span class=\"ticket-comment-link\"><a href=\"[[+url]]#comment-[[+id]]\">#</a></span>\n\n            [[+has_parent]]\n            <span class=\"ticket-comment-down\"><a href=\"#\" data-child=\"\">&darr;</a></span>\n\n            <span class=\"ticket-comment-rating inactive\">\n                <span class=\"rating[[+rating_positive]][[+rating_negative]]\">\n                    [[+rating]]\n                </span>\n                <span class=\"plus\" title=\"[[%ticket_like]]\">\n                    <i class=\"glyphicon glyphicon-arrow-up\"></i>\n                </span>\n                <span class=\"minus\" title=\"[[%ticket_dislike]]\">\n                    <i class=\"glyphicon glyphicon-arrow-down\"></i>\n                </span>\n            </span>\n        </div>\n        <div class=\"ticket-comment-text\">\n            [[+text]]\n        </div>\n    </div>\n    <ol class=\"comments-list\">[[+children]]</ol>\n</li>\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_has_parent <span class=\"ticket-comment-up\"><a href=\"[[+url]]#comment-[[+parent]]\" data-id=\"[[+id]]\" data-parent=\"[[+parent]]\">&uarr;</a></span>-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_one_guest.tpl'),
(14,	1,	0,	'tpl.Tickets.comment.one.deleted',	'',	0,	4,	0,	'<li class=\"ticket-comment\" id=\"comment-[[+id]]\">\n    <div class=\"ticket-comment-body alert alert-warning\">\n        [[%ticket_comment_deleted_text]]\n    </div>\n    <ol class=\"comments-list\">[[+children]]</ol>\n</li>\n',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_one_deleted.tpl'),
(15,	1,	0,	'tpl.Tickets.comment.wrapper',	'',	0,	4,	0,	'<div class=\"comments\">\n    [[+modx.user.id:isloggedin:is=`1`:then=`\n    <span class=\"comments-subscribe pull-right\">\n        <label for=\"comments-subscribe\" class=\"checkbox\">\n            <input type=\"checkbox\" name=\"\" id=\"comments-subscribe\" value=\"1\" [[+subscribed]]/> [[%ticket_comment_notify]]\n        </label>\n    </span>\n    `:else=``]]\n\n    <h3 class=\"title\">[[%comments]] (<span id=\"comment-total\">[[+total]]</span>)</h3>\n\n    <div id=\"comments-wrapper\">\n        <ol class=\"comment-list\" id=\"comments\">[[+comments]]</ol>\n    </div>\n\n    <div id=\"comments-tpanel\">\n        <div id=\"tpanel-refresh\"></div>\n        <div id=\"tpanel-new\"></div>\n    </div>\n</div>\n\n<!--tickets_subscribed checked-->\n',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_wrapper.tpl'),
(16,	1,	0,	'tpl.Tickets.comment.login',	'',	0,	4,	0,	'<div class=\"ticket-comments alert alert-warning\">\n    <p>[[%ticket_comment_err_no_auth]]</p>\n</div>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_login.tpl'),
(17,	1,	0,	'tpl.Tickets.comment.latest',	'',	0,	4,	0,	'<div class=\"tickets-latest-row[[+guest]]\">\n    <span class=\"user\"><i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]</span> <span\n            class=\"date\">[[+date_ago]]</span>\n    <br/>\n    <span class=\"ticket\">\n        <a href=\"[[~[[+ticket.id]]]]#comment-[[+id]]\">[[+ticket.pagetitle]]</a>\n    </span>\n    <nobr><i class=\"glyphicon glyphicon-comment\"></i> <span class=\"comments\">[[+comments]]</span></nobr>\n</div>\n<!--tickets_guest  ticket-comment-guest-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_latest.tpl'),
(18,	1,	0,	'tpl.Tickets.comment.email.owner',	'',	0,	4,	0,	'[[%ticket_comment_email_owner_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_reply]]</a>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_email_owner.tpl'),
(19,	1,	0,	'tpl.Tickets.comment.email.reply',	'',	0,	4,	0,	'[[%ticket_comment_email_reply_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_reply]]</a>\n<br/><br/>\n\n[[%ticket_comment_email_reply_text]]\n<pre>[[+parent_text]]</pre>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_email_reply.tpl'),
(20,	1,	0,	'tpl.Tickets.comment.email.subscription',	'',	0,	4,	0,	'[[%ticket_comment_email_subscription_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_view]]</a>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_email_subscription.tpl'),
(21,	1,	0,	'tpl.Tickets.comment.email.bcc',	'',	0,	4,	0,	'[[%ticket_comment_email_bcc_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_view]]</a>\n',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_email_bcc.tpl'),
(22,	1,	0,	'tpl.Tickets.comment.email.unpublished',	'',	0,	4,	0,	'[[%ticket_comment_email_unpublished_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[+manager_url]]\">[[%ticket_email_all_comments]]</a>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_email_unpublished.tpl'),
(23,	1,	0,	'tpl.Tickets.comment.list.row',	'',	0,	4,	0,	'<div class=\"ticket-comment-row ticket-comment\" id=\"comment-[[+id]]\" data-id=\"[[+id]]\">\n    <div class=\"ticket-comment-body[[+guest]]\">\n        <div class=\"ticket-comment-header\">\n            <img src=\"[[+avatar]]\" class=\"ticket-avatar\" alt=\"\"/>\n            <span class=\"ticket-comment-author\">[[+fullname]]</span>\n            <span class=\"ticket-comment-createdon\">[[+date_ago]]</span>[[+comment_was_edited]]\n            <span class=\"ticket-comment-link\"><a href=\"[[+url]]#comment-[[+id]]\">#</a></span>\n            <span class=\"ticket-comment-star[[+can_star]]\">[[+stared]][[+unstared]]</span>\n\n            <span class=\"ticket-comment-rating[[+can_vote]][[+cant_vote]]\">\n                <span class=\"rating[[+rating_positive]][[+rating_negative]]\"\n                      title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>\n                <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\"><i\n                            class=\"glyphicon glyphicon-arrow-up\"></i></span>\n                <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\"><i\n                            class=\"glyphicon glyphicon-arrow-down\"></i></span>\n            </span>\n        </div>\n        <div class=\"ticket-comment-text\">\n            [[+text]]\n        </div>\n    </div>\n\n    <a href=\"[[~[[+section.id]]]]\" class=\"ticket-comment-section\"><i class=\"glyphicon glyphicon-folder-open\"></i>\n        [[+section.pagetitle]]</a> &rarr;\n    <a href=\"[[~[[+ticket.id]]]]\" class=\"ticket-comment-ticket\">[[+ticket.pagetitle]]</a> &nbsp;\n    <span class=\"ticket-comment-comments\"><i class=\"glyphicon glyphicon-comment\"></i> [[+comments]]</span>\n</div>\n<!--tickets_comment_was_edited <span class=\"ticket-comment-edited\">([[%ticket_comment_was_edited]])</span>-->\n<!--tickets_can_vote  active-->\n<!--tickets_cant_vote  inactive-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_guest  ticket-comment-guest-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.comment_list_row.tpl'),
(24,	1,	0,	'tpl.Tickets.list.row',	'',	0,	4,	0,	'<div class=\"tickets-row\">\n    <h3 class=\"title\"><a href=\"[[~[[+id]]]]\">[[+pagetitle]]</a></h3>\n    <div class=\"content\">\n        [[+introtext]]<br/>\n        <a href=\"[[~[[+id]]]]#cut\" class=\"btn btn-default ticket-read-more\">[[%ticket_read_more]]</a>\n    </div>\n    <div class=\"ticket-meta row\" data-id=\"[[+id]]\">\n        <span class=\"col-md-5\">\n            <i class=\"glyphicon glyphicon-calendar\"></i> [[+date_ago]]\n            &nbsp;&nbsp;\n            <i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]\n        </span>\n        <span class=\"col-md-2\"><a href=\"[[~[[+section.id]]]]\"><i class=\"glyphicon glyphicon-folder-open\"></i> [[+section.pagetitle]]</a></span>\n        <span class=\"col-md-3\">\n            <span class=\"ticket-star[[+can_star]]\">[[+stared]][[+unstared]] <span\n                        class=\"ticket-star-count\">[[+stars]]</span></span>\n            &nbsp;&nbsp;\n            <i class=\"glyphicon glyphicon-eye-open\"></i> [[+views]]\n            &nbsp;&nbsp;\n            <i class=\"glyphicon glyphicon-comment\"></i> [[+comments]]  [[+new_comments]]\n        </span>\n        <span class=\"col-md-2 pull-right ticket-rating[[+active]][[+inactive]]\">\n            <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\"><i class=\"glyphicon glyphicon-arrow-up\"></i></span>\n            [[+can_vote]][[+cant_vote]]\n            <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\"><i\n                        class=\"glyphicon glyphicon-arrow-down\"></i></span>\n        </span>\n    </div>\n</div>\n<!--tickets_can_vote <span class=\"vote rating\" title=\"[[%ticket_refrain]]\"><i class=\"glyphicon glyphicon-minus\"></i></span>-->\n<!--tickets_cant_vote <span class=\"rating[[+rating_positive]][[+rating_negative]]\" title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>-->\n<!--tickets_new_comments <span class=\"ticket-new-comments\">+[[+new_comments]]</span>-->\n<!--tickets_active  active-->\n<!--tickets_inactive  inactive-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_list_row.tpl'),
(25,	1,	0,	'tpl.Tickets.sections.row',	'',	0,	4,	0,	'<div class=\"section-row\">\n    <h3 class=\"title\"><a href=\"[[~[[+id]]]]\">[[+pagetitle]]</a></h3>\n    <div class=\"content\">\n        [[+introtext]]\n    </div>\n    <div class=\"section-meta row\">\n        <div class=\"col-md-1\"><i class=\"glyphicon glyphicon-th-list\"></i> [[+tickets]]</div>\n        <div class=\"col-md-1\"><i class=\"glyphicon glyphicon-eye-open\"></i> [[+views]]</div>\n        <div class=\"col-md-1\"><i class=\"glyphicon glyphicon-comment\"></i> [[+comments]]</div>\n    </div>\n</div>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_sections_row.tpl'),
(26,	1,	0,	'tpl.Tickets.sections.wrapper',	'',	0,	4,	0,	'[[+modx.user.id:isloggedin:is=`1`:then=`\n<span class=\"tickets-subscribe pull-right\">\n    <label for=\"tickets-subscribe\" class=\"checkbox\">\n        <input type=\"checkbox\" name=\"\" id=\"tickets-subscribe\" value=\"1\" data-id=\"[[*id]]\"\n               [[+subscribed:notempty=`checked`]]/> [[%tickets_section_notify]]\n    </label>\n</span>\n`:else=``]]\n\n<div class=\"tickets-list\">\n    [[+output]]\n</div>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_sections_wrapper.tpl'),
(27,	1,	0,	'tpl.Tickets.meta',	'',	0,	4,	0,	'<div class=\"ticket-meta row\" data-id=\"[[+id]]\">\n    <span class=\"col-md-5\">\n        <i class=\"glyphicon glyphicon-calendar\"></i> [[+date_ago]]\n        &nbsp;&nbsp;\n        <i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]\n    </span>\n    <span class=\"col-md-2\"><a href=\"[[~[[+section.id]]]]\">\n            <i class=\"glyphicon glyphicon-folder-open\"></i> [[+section.pagetitle]]</a>\n    </span>\n    <span class=\"col-md-2\">\n        <span class=\"ticket-star[[+can_star]]\">[[+stared]][[+unstared]] <span\n                    class=\"ticket-star-count\">[[+stars]]</span></span>\n        &nbsp;&nbsp;\n        <i class=\"glyphicon glyphicon-eye-open\"></i> [[+views]]\n    </span>\n    <span class=\"pull-right ticket-rating[[+active]][[+inactive]]\">\n        <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\">\n            <i class=\"glyphicon glyphicon-arrow-up\"></i>\n        </span>\n        [[+can_vote]][[+cant_vote]]\n        <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\">\n            <i class=\"glyphicon glyphicon-arrow-down\"></i>\n        </span>\n    </span>\n</div>\n[[+has_files]]\n\n<!--tickets_can_vote <span class=\"vote rating\" title=\"[[%ticket_refrain]]\"><i class=\"glyphicon glyphicon-minus\"></i></span>-->\n<!--tickets_cant_vote <span class=\"rating[[+rating_positive]][[+rating_negative]]\" title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>-->\n<!--tickets_active  active-->\n<!--tickets_inactive  inactive-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_has_files\n<ul class=\"ticket-files\">\n    <strong>[[%ticket_uploaded_files]]:</strong>\n    [[+files]]\n</ul>-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_meta.tpl'),
(28,	1,	0,	'tpl.Tickets.meta.file',	'',	0,	4,	0,	'<li>\n    <a href=\"[[+url]]\" target=\"_blank\">[[+name]]</a> [[+size]] kb\n</li>',	0,	NULL,	0,	'core/components/tickets/elements/chunks/chunk.ticket_meta_file.tpl'),
(29,	0,	0,	'fiDefaultEmailTpl',	'The default chunk used for the email. Please do not edit this chunk, as this will be overwritten when updating FormIt.',	0,	6,	0,	'<p>[[+fields]]</p>',	0,	'a:0:{}',	0,	''),
(30,	0,	0,	'fiDefaultFiarTpl',	'The default chunk used for the autoresponder email. Please do not edit this chunk, as this will be overwritten when updating FormIt.',	0,	6,	0,	'<p>Hello [[+name]],</p>\n\n<p>Your message has been received. We will respond as soon as possible. Thank you for contacting us.</p>\n\n<p>NOTE: This is an automatic response; please do not respond to this message directly.</p>\n\n<p>Here is your message:<br />\n[[+message:nl2br]]</p>',	0,	'a:0:{}',	0,	''),
(31,	0,	0,	'fiDefaultOptGroupTpl',	'The default chunk used by the FormItCountryOptions snippet for the select optgroup. Please do not edit this chunk, as this will be overwritten when updating FormIt.',	0,	6,	0,	'<optgroup label=\"[[+text]]\">\n    [[+options]]\n</optgroup>',	0,	'a:0:{}',	0,	''),
(32,	0,	0,	'fiDefaultOptionTpl',	'The default chunk used by the FormItCountryOptions snippet for the select option. Please do not edit this chunk, as this will be overwritten when updating FormIt.',	0,	6,	0,	'<option value=\"[[+value]]\"[[+selected]]>[[+text]]</option>',	0,	'a:0:{}',	0,	''),
(33,	1,	0,	'tpl.AjaxForm.example',	'',	0,	7,	0,	'<form action=\"\" method=\"post\" class=\"ajax_form af_example\">\n\n    <div class=\"form-group\">\n        <label class=\"control-label\" for=\"af_name\">[[%af_label_name]]</label>\n        <div class=\"controls\">\n            <input type=\"text\" id=\"af_name\" name=\"name\" value=\"[[+fi.name]]\" placeholder=\"\" class=\"form-control\"/>\n            <span class=\"error_name\">[[+fi.error.name]]</span>\n        </div>\n    </div>\n\n    <div class=\"form-group\">\n        <label class=\"control-label\" for=\"af_email\">[[%af_label_email]]</label>\n        <div class=\"controls\">\n            <input type=\"email\" id=\"af_email\" name=\"email\" value=\"[[+fi.email]]\" placeholder=\"\" class=\"form-control\"/>\n            <span class=\"error_email\">[[+fi.error.email]]</span>\n        </div>\n    </div>\n\n    <div class=\"form-group\">\n        <label class=\"control-label\" for=\"af_message\">[[%af_label_message]]</label>\n        <div class=\"controls\">\n            <textarea id=\"af_message\" name=\"message\" class=\"form-control\" rows=\"5\">[[+fi.message]]</textarea>\n            <span class=\"error_message\">[[+fi.error.message]]</span>\n        </div>\n    </div>\n\n    <div class=\"form-group\">\n        <div class=\"controls\">\n            <button type=\"reset\" class=\"btn btn-default\">[[%af_reset]]</button>\n            <button type=\"submit\" class=\"btn btn-primary\">[[%af_submit]]</button>\n        </div>\n    </div>\n\n    [[+fi.success:is=`1`:then=`\n    <div class=\"alert alert-success\">[[+fi.successMessage]]</div>\n    `]]\n    [[+fi.validation_error:is=`1`:then=`\n    <div class=\"alert alert-danger\">[[+fi.validation_error_message]]</div>\n    `]]\n</form>',	0,	NULL,	0,	'core/components/ajaxform/elements/chunks/chunk.example.tpl'),
(34,	1,	0,	'tpl.AdminPanel.outer',	'',	0,	13,	0,	'<nav class=\"adminpanel ap-navbar ap-navbar-fixed-bottom [[+class_theme]] [[+class_status]]\" role=\"navigation\"\n     style=\"opacity:[[+inactive_opacity]];\">\n    <ul class=\"ap-nav ap-navbar-nav\">\n        <li class=\"ap-link-first\"><a href=\"[[+resource_update]]&id=[[*id]]\" class=\"ap-navbar-link\">[[%ap_edit_this]]</a>\n        </li>\n        [[+groups]]\n    </ul>\n\n    <ul class=\"ap-nav ap-navbar-nav ap-pull-right\">\n        <li>\n            <a href=\"https://modstore.pro/adminpanel\" class=\"ap-navbar-brand ap-pull-right\" target=\"_blank\">[[%adminpanel]]</a>\n        </li>\n        <li>\n            <a href=\"#\" class=\"ap-scroll-up\" style=\"display:none;\">\n                &uarr;\n            </a>\n        </li>\n    </ul>\n\n    [[+msearch2_index:notempty=`\n    <form class=\"ap-navbar-form ap-pull-right ap-msearch2\" role=\"search\" method=\"get\" action=\"[[+msearch2_index]]\"\n          target=\"_blank\">\n        <input type=\"hidden\" name=\"a\" value=\"[[+msearch2_index_id]]\">\n        <input type=\"text\" name=\"query\" class=\"ap-msearch-query\" placeholder=\"[[%ap_mse2_search]]\" autocomplete=\"off\">\n    </form>\n    `]]\n</nav>\n<div class=\"ap-close [[+class_theme]]\"><b class=\"ap-caret [[+class_status]]\"></b></div>',	0,	NULL,	0,	'core/components/adminpanel/elements/chunks/chunk.outer.tpl'),
(35,	1,	0,	'tpl.AdminPanel.group',	'',	0,	13,	0,	'<li class=\"ap-dropdown\">\n    <a href=\"#\" class=\"ap-dropdown-toggle\" data-toggle=\"ap_dropdown\">[[%ap_[[+title]]]] <b class=\"ap-caret\"></b></a>\n    <ul class=\"dropdown-menu ap-dropdown-menu [[+title]]\">\n        [[+links]]\n    </ul>\n</li>',	0,	NULL,	0,	'core/components/adminpanel/elements/chunks/chunk.group.tpl'),
(36,	1,	0,	'tpl.AdminPanel.link',	'',	0,	13,	0,	'<li class=\"[[+class]]\">\n    <a href=\"[[+link]]\" target=\"[[+target]]\">[[%ap_[[+title]]]]</a>\n</li>',	0,	NULL,	0,	'core/components/adminpanel/elements/chunks/chunk.link.tpl');

DROP TABLE IF EXISTS `q777_site_plugins`;
CREATE TABLE `q777_site_plugins` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `source` int(10) unsigned NOT NULL DEFAULT '0',
  `property_preprocess` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `name` varchar(50) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `editor_type` int(11) NOT NULL DEFAULT '0',
  `category` int(11) NOT NULL DEFAULT '0',
  `cache_type` tinyint(1) NOT NULL DEFAULT '0',
  `plugincode` mediumtext NOT NULL,
  `locked` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `properties` text,
  `disabled` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `moduleguid` varchar(32) NOT NULL DEFAULT '',
  `static` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `static_file` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `category` (`category`),
  KEY `locked` (`locked`),
  KEY `disabled` (`disabled`),
  KEY `static` (`static`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_site_plugins` (`id`, `source`, `property_preprocess`, `name`, `description`, `editor_type`, `category`, `cache_type`, `plugincode`, `locked`, `properties`, `disabled`, `moduleguid`, `static`, `static_file`) VALUES
(1,	1,	0,	'pdoTools',	'',	0,	3,	0,	'/** @var modX $modx */\nswitch ($modx->event->name) {\n\n    case \'OnMODXInit\':\n        $fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdotools\', true);\n        $path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\n        $modx->loadClass($fqn, $path, false, true);\n\n        $fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n        $path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\n        $modx->loadClass($fqn, $path, false, true);\n        break;\n\n    case \'OnBeforeSaveWebPageCache\':\n        if (!empty($modx->config[\'fenom_jscripts\'])) {\n            foreach ($modx->config[\'fenom_jscripts\'] as $key => $value) {\n                unset($modx->resource->_jscripts[$key]);\n            }\n            $modx->resource->_jscripts = array_values($modx->resource->_jscripts);\n        }\n        if (!empty($modx->config[\'fenom_sjscripts\'])) {\n            foreach ($modx->config[\'fenom_sjscripts\'] as $key => $value) {\n                unset($modx->resource->_sjscripts[$key]);\n            }\n            $modx->resource->_sjscripts = array_values($modx->resource->_sjscripts);\n        }\n        if (!empty($modx->config[\'fenom_loadedscripts\'])) {\n            foreach ($modx->config[\'fenom_loadedscripts\'] as $key => $value) {\n                unset($modx->resource->_loadedjscripts[$key]);\n            }\n        }\n        break;\n\n    case \'OnSiteRefresh\':\n        /** @var pdoTools $pdoTools */\n        if ($pdoTools = $modx->getService(\'pdoTools\')) {\n            if ($pdoTools->clearFileCache()) {\n                $modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon(\'refresh_default\') . \': pdoTools\');\n            }\n        }\n        break;\n}',	0,	NULL,	0,	'',	0,	'core/components/pdotools/elements/plugins/plugin.pdotools.php'),
(2,	1,	0,	'Tickets',	'',	0,	4,	0,	'/** @var modX $modx */\nswitch ($modx->event->name) {\n\n    case \'OnSiteRefresh\':\n        if ($modx->cacheManager->refresh(array(\'default/tickets\' => array()))) {\n            $modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon(\'refresh_default\') . \': Tickets\');\n        }\n        break;\n\n    case \'OnDocFormSave\':\n        /** @var Ticket $resource */\n        if ($mode == \'new\' && $resource->class_key == \"Ticket\") {\n            $modx->cacheManager->delete(\'tickets/latest.tickets\');\n        }\n        break;\n\n    case \'OnWebPagePrerender\':\n        $output = &$modx->resource->_output;\n        $output = str_replace(\n            array(\'*(*(*(*(*(*\', \'*)*)*)*)*)*\', \'~(~(~(~(~(~\', \'~)~)~)~)~)~\'),\n            array(\'[\', \']\', \'{\', \'}\'),\n            $output\n        );\n        break;\n\n    case \'OnPageNotFound\':\n        // It is working only with friendly urls enabled\n        $q = trim(@$_REQUEST[$modx->context->getOption(\'request_param_alias\', \'q\')]);\n        $matches = explode(\'/\', rtrim($q, \'/\'));\n        if (count($matches) < 2) {\n            return;\n        }\n\n        $ticket_uri = array_pop($matches);\n        $section_uri = implode(\'/\', $matches) . \'/\';\n\n        if ($section_id = $modx->findResource($section_uri)) {\n            /** @var TicketsSection $section */\n            if ($section = $modx->getObject(\'TicketsSection\', $section_id)) {\n                if (is_numeric($ticket_uri)) {\n                    $ticket_id = $ticket_uri;\n                } elseif (preg_match(\'#^\\d+#\', $ticket_uri, $tmp)) {\n                    $ticket_id = $tmp[0];\n                } else {\n                    $properties = $section->getProperties(\'tickets\');\n                    if (!empty($properties[\'uri\']) && strpos($properties[\'uri\'], \'%id\') !== false) {\n                        $pcre = str_replace(\'%id\', \'([0-9]+)\', $properties[\'uri\']);\n                        $pcre = preg_replace(\'#(\\%[a-z]+)#\', \'(?:.*?)\', $pcre);\n                        if (@preg_match(\'#\' . trim($pcre, \'/\') . \'#\', $ticket_uri, $matches)) {\n                            $ticket_id = $matches[1];\n                        }\n                    }\n                }\n                if (!empty($ticket_id)) {\n                    if ($ticket = $modx->getObject(\'Ticket\', array(\'id\' => $ticket_id, \'deleted\' => 0))) {\n                        if ($ticket->published) {\n                            $modx->sendRedirect($modx->makeUrl($ticket_id),\n                                array(\'responseCode\' => \'HTTP/1.1 301 Moved Permanently\'));\n                        } elseif ($unp_id = $modx->getOption(\'tickets.unpublished_ticket_page\')) {\n                            $modx->sendForward($unp_id);\n                        }\n                    }\n                }\n            }\n        }\n        break;\n\n    case \'OnLoadWebDocument\':\n        $authenticated = $modx->user->isAuthenticated($modx->context->get(\'key\'));\n        $key = \'Tickets_User\';\n\n        if (!$authenticated && !$modx->getOption(\'tickets.count_guests\')) {\n            return;\n        }\n\n        if (empty($_COOKIE[$key])) {\n            if (!empty($_SESSION[$key])) {\n                $guest_key = $_SESSION[$key];\n            } else {\n                $guest_key = $_SESSION[$key] = md5(rand() . time() . rand());\n            }\n            setcookie($key, $guest_key, time() + (86400 * 365), \'/\');\n        } else {\n            $guest_key = $_COOKIE[$key];\n        }\n\n        if (empty($_SESSION[$key])) {\n            $_SESSION[$key] = $guest_key;\n        }\n\n        if ($authenticated) {\n            /** @var TicketAuthor $profile */\n            if (!$profile = $modx->user->getOne(\'AuthorProfile\')) {\n                $profile = $modx->newObject(\'TicketAuthor\');\n                $modx->user->addOne($profile);\n            }\n            $profile->set(\'visitedon\', time());\n            $profile->save();\n        }\n        break;\n\n    case \'OnWebPageComplete\':\n        /** @var Tickets $Tickets */\n        $Tickets = $modx->getService(\'tickets\');\n        $Tickets->logView($modx->resource->get(\'id\'));\n        break;\n\n    case \'OnUserSave\':\n        /** @var modUser $user */\n        if ($mode == \'new\' && $user && !$user->getOne(\'AuthorProfile\')) {\n            $profile = $modx->newObject(\'TicketAuthor\');\n            $user->addOne($profile);\n            $profile->save();\n        }\n        break;\n\n}',	0,	NULL,	0,	'',	0,	'core/components/tickets/elements/plugins/plugin.tickets.php'),
(3,	0,	0,	'FormIt',	'',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2017 by Sterc <modx@sterc.nl>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * FormIt plugin\n *\n * @package formit\n */\n\n$formit = $modx->getService(\n    \'formit\',\n    \'FormIt\',\n    $modx->getOption(\'formit.core_path\', null, $modx->getOption(\'core_path\').\'components/formit/\') .\'model/formit/\',\n    array()\n);\n\nif (!($formit instanceof FormIt)) {\n    return;\n}\n\nswitch ($modx->event->name) {\n    case \'OnManagerPageBeforeRender\':\n        // If migration status is false, show migrate alert message bar in manager\n        if (method_exists(\'FormIt\',\'encryptionMigrationStatus\')) {\n            if (!$formit->encryptionMigrationStatus()) {\n                $modx->lexicon->load(\'formit:mgr\');\n                $properties = array(\'message\' => $modx->lexicon(\'formit.migrate_alert\'));\n                $chunk = $formit->_getTplChunk(\'migrate/alert\');\n                if ($chunk) {\n                    $modx->regClientStartupHTMLBlock($chunk->process($properties));\n                    $modx->regClientCSS($formit->config[\'cssUrl\'] . \'migrate.css\');\n                }\n            }\n        }\n}',	0,	'a:0:{}',	0,	'',	0,	''),
(4,	0,	0,	'Ace',	'Ace code editor plugin for MODx Revolution',	0,	0,	0,	'/**\n * Ace Source Editor Plugin\n *\n * Events: OnManagerPageBeforeRender, OnRichTextEditorRegister, OnSnipFormPrerender,\n * OnTempFormPrerender, OnChunkFormPrerender, OnPluginFormPrerender,\n * OnFileCreateFormPrerender, OnFileEditFormPrerender, OnDocFormPrerender\n *\n * @author Danil Kostin <danya.postfactum(at)gmail.com>\n *\n * @package ace\n *\n * @var array $scriptProperties\n * @var Ace $ace\n */\nif ($modx->event->name == \'OnRichTextEditorRegister\') {\n    $modx->event->output(\'Ace\');\n    return;\n}\n\nif ($modx->getOption(\'which_element_editor\', null, \'Ace\') !== \'Ace\') {\n    return;\n}\n\n$ace = $modx->getService(\'ace\', \'Ace\', $modx->getOption(\'ace.core_path\', null, $modx->getOption(\'core_path\').\'components/ace/\').\'model/ace/\');\n$ace->initialize();\n\n$extensionMap = array(\n    \'tpl\'   => \'text/x-smarty\',\n    \'htm\'   => \'text/html\',\n    \'html\'  => \'text/html\',\n    \'css\'   => \'text/css\',\n    \'scss\'  => \'text/x-scss\',\n    \'less\'  => \'text/x-less\',\n    \'svg\'   => \'image/svg+xml\',\n    \'xml\'   => \'application/xml\',\n    \'xsl\'   => \'application/xml\',\n    \'js\'    => \'application/javascript\',\n    \'json\'  => \'application/json\',\n    \'php\'   => \'application/x-php\',\n    \'sql\'   => \'text/x-sql\',\n    \'md\'    => \'text/x-markdown\',\n    \'txt\'   => \'text/plain\',\n    \'twig\'  => \'text/x-twig\'\n);\n\n// Defines wether we should highlight modx tags\n$modxTags = false;\nswitch ($modx->event->name) {\n    case \'OnSnipFormPrerender\':\n        $field = \'modx-snippet-snippet\';\n        $mimeType = \'application/x-php\';\n        break;\n    case \'OnTempFormPrerender\':\n        $field = \'modx-template-content\';\n        $modxTags = true;\n\n        switch (true) {\n            case $modx->getOption(\'twiggy_class\'):\n                $mimeType = \'text/x-twig\';\n                break;\n            case $modx->getOption(\'pdotools_fenom_parser\'):\n                $mimeType = \'text/x-smarty\';\n                break;\n            default:\n                $mimeType = \'text/html\';\n                break;\n        }\n\n        break;\n    case \'OnChunkFormPrerender\':\n        $field = \'modx-chunk-snippet\';\n        if ($modx->controller->chunk && $modx->controller->chunk->isStatic()) {\n            $extension = pathinfo($modx->controller->chunk->getSourceFile(), PATHINFO_EXTENSION);\n            $mimeType = isset($extensionMap[$extension]) ? $extensionMap[$extension] : \'text/plain\';\n        } else {\n            $mimeType = \'text/html\';\n        }\n        $modxTags = true;\n\n        switch (true) {\n            case $modx->getOption(\'twiggy_class\'):\n                $mimeType = \'text/x-twig\';\n                break;\n            case $modx->getOption(\'pdotools_fenom_default\'):\n                $mimeType = \'text/x-smarty\';\n                break;\n            default:\n                $mimeType = \'text/html\';\n                break;\n        }\n\n        break;\n    case \'OnPluginFormPrerender\':\n        $field = \'modx-plugin-plugincode\';\n        $mimeType = \'application/x-php\';\n        break;\n    case \'OnFileCreateFormPrerender\':\n        $field = \'modx-file-content\';\n        $mimeType = \'text/plain\';\n        break;\n    case \'OnFileEditFormPrerender\':\n        $field = \'modx-file-content\';\n        $extension = pathinfo($scriptProperties[\'file\'], PATHINFO_EXTENSION);\n        $mimeType = isset($extensionMap[$extension])\n            ? $extensionMap[$extension]\n            : \'text/plain\';\n        $modxTags = $extension == \'tpl\';\n        break;\n    case \'OnDocFormPrerender\':\n        if (!$modx->controller->resourceArray) {\n            return;\n        }\n        $field = \'ta\';\n        $mimeType = $modx->getObject(\'modContentType\', $modx->controller->resourceArray[\'content_type\'])->get(\'mime_type\');\n\n        switch (true) {\n            case $mimeType == \'text/html\' && $modx->getOption(\'twiggy_class\'):\n                $mimeType = \'text/x-twig\';\n                break;\n            case $mimeType == \'text/html\' && $modx->getOption(\'pdotools_fenom_parser\'):\n                $mimeType = \'text/x-smarty\';\n                break;\n        }\n\n        if ($modx->getOption(\'use_editor\')){\n            $richText = $modx->controller->resourceArray[\'richtext\'];\n            $classKey = $modx->controller->resourceArray[\'class_key\'];\n            if ($richText || in_array($classKey, array(\'modStaticResource\',\'modSymLink\',\'modWebLink\',\'modXMLRPCResource\'))) {\n                $field = false;\n            }\n        }\n        $modxTags = true;\n        break;\n    default:\n        return;\n}\n\n$modxTags = (int) $modxTags;\n$script = \'\';\nif ($field) {\n    $script .= \"MODx.ux.Ace.replaceComponent(\'$field\', \'$mimeType\', $modxTags);\";\n}\n\nif ($modx->event->name == \'OnDocFormPrerender\' && !$modx->getOption(\'use_editor\')) {\n    $script .= \"MODx.ux.Ace.replaceTextAreas(Ext.query(\'.modx-richtext\'));\";\n}\n\nif ($script) {\n    $modx->controller->addHtml(\'<script>Ext.onReady(function() {\' . $script . \'});</script>\');\n}',	0,	NULL,	0,	'',	0,	'ace/elements/plugins/ace.plugin.php'),
(5,	0,	0,	'TinyMCERTE',	'',	0,	8,	0,	'/**\n * TinyMCE Rich Tech Editor\n *\n */\n$corePath = $modx->getOption(\'tinymcerte.core_path\', null, $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/tinymcerte/\');\n/** @var TinyMCERTE $tinymcerte */\n$tinymcerte = $modx->getService(\n    \'tinymcerte\',\n    \'TinyMCERTE\',\n    $corePath . \'model/tinymcerte/\',\n    array(\n        \'core_path\' => $corePath\n    )\n);\n\n$className = \'TinyMCERTE\' . $modx->event->name;\n$modx->loadClass(\'TinyMCERTEPlugin\', $tinymcerte->getOption(\'modelPath\') . \'tinymcerte/events/\', true, true);\n$modx->loadClass($className, $tinymcerte->getOption(\'modelPath\') . \'tinymcerte/events/\', true, true);\nif (class_exists($className)) {\n    /** @var TinyMCERTEPlugin $handler */\n    $handler = new $className($modx, $scriptProperties);\n    $handler->run();\n}\nreturn;',	0,	'a:0:{}',	0,	'',	0,	''),
(6,	0,	0,	'MIGX',	'',	0,	9,	0,	'$corePath = $modx->getOption(\'migx.core_path\',null,$modx->getOption(\'core_path\').\'components/migx/\');\n$assetsUrl = $modx->getOption(\'migx.assets_url\', null, $modx->getOption(\'assets_url\') . \'components/migx/\');\nswitch ($modx->event->name) {\n    case \'OnTVInputRenderList\':\n        $modx->event->output($corePath.\'elements/tv/input/\');\n        break;\n    case \'OnTVInputPropertiesList\':\n        $modx->event->output($corePath.\'elements/tv/inputoptions/\');\n        break;\n\n        case \'OnDocFormPrerender\':\n        $modx->controller->addCss($assetsUrl.\'css/mgr.css\');\n        break; \n \n    /*          \n    case \'OnTVOutputRenderList\':\n        $modx->event->output($corePath.\'elements/tv/output/\');\n        break;\n    case \'OnTVOutputRenderPropertiesList\':\n        $modx->event->output($corePath.\'elements/tv/properties/\');\n        break;\n    \n    case \'OnDocFormPrerender\':\n        $assetsUrl = $modx->getOption(\'colorpicker.assets_url\',null,$modx->getOption(\'assets_url\').\'components/colorpicker/\'); \n        $modx->regClientStartupHTMLBlock(\'<script type=\"text/javascript\">\n        Ext.onReady(function() {\n            \n        });\n        </script>\');\n        $modx->regClientStartupScript($assetsUrl.\'sources/ColorPicker.js\');\n        $modx->regClientStartupScript($assetsUrl.\'sources/ColorMenu.js\');\n        $modx->regClientStartupScript($assetsUrl.\'sources/ColorPickerField.js\');		\n        $modx->regClientCSS($assetsUrl.\'resources/css/colorpicker.css\');\n        break;\n     */\n}\nreturn;',	0,	'a:0:{}',	0,	'',	0,	''),
(7,	0,	0,	'MIGXquip',	'',	0,	9,	0,	'$quipCorePath = $modx->getOption(\'quip.core_path\', null, $modx->getOption(\'core_path\') . \'components/quip/\');\n//$assetsUrl = $modx->getOption(\'migx.assets_url\', null, $modx->getOption(\'assets_url\') . \'components/migx/\');\nswitch ($modx->event->name)\n{\n\n    case \'OnDocFormPrerender\':\n\n        \n        require_once $quipCorePath . \'model/quip/quip.class.php\';\n        $modx->quip = new Quip($modx);\n\n        $modx->lexicon->load(\'quip:default\');\n        $quipconfig = $modx->toJson($modx->quip->config);\n        \n        $js = \"\n        Quip.config = Ext.util.JSON.decode(\'{$quipconfig}\');\n        console.log(Quip);\";\n\n        //$modx->controller->addCss($assetsUrl . \'css/mgr.css\');\n        $modx->controller->addJavascript($modx->quip->config[\'jsUrl\'].\'quip.js\');\n        $modx->controller->addHtml(\'<script type=\"text/javascript\">\' . $js . \'</script>\');\n        break;\n\n}\nreturn;',	0,	'a:0:{}',	1,	'',	0,	''),
(8,	0,	0,	'migxResizeOnUpload',	'',	0,	9,	0,	'/**\n * migxResizeOnUpload Plugin\n *\n * Events: OnFileManagerUpload\n * Author: Bruno Perner <b.perner@gmx.de>\n * Modified to read multiple configs from mediasource-property\n * \n * First Author: Vasiliy Naumkin <bezumkin@yandex.ru>\n * Required: PhpThumbOf snippet for resizing images\n * \n * Example: mediasource - property \'resizeConfig\':\n * [{\"alias\":\"origin\",\"w\":\"500\",\"h\":\"500\",\"far\":1},{\"alias\":\"thumb\",\"w\":\"150\",\"h\":\"150\",\"far\":1}]\n */\n\nif ($modx->event->name != \'OnFileManagerUpload\') {\n    return;\n}\n\n\n$file = $modx->event->params[\'files\'][\'file\'];\n$directory = $modx->event->params[\'directory\'];\n\nif ($file[\'error\'] != 0) {\n    return;\n}\n\n$name = $file[\'name\'];\n//$extensions = explode(\',\', $modx->getOption(\'upload_images\'));\n\n$source = $modx->event->params[\'source\'];\n\nif ($source instanceof modMediaSource) {\n    //$dirTree = $modx->getOption(\'dirtree\', $_REQUEST, \'\');\n    //$modx->setPlaceholder(\'docid\', $resource_id);\n    $source->initialize();\n    $basePath = str_replace(\'/./\', \'/\', $source->getBasePath());\n    //$cachepath = $cachepath . $dirTree;\n    $baseUrl = $modx->getOption(\'site_url\') . $source->getBaseUrl();\n    //$baseUrl = $baseUrl . $dirTree;\n    $sourceProperties = $source->getPropertyList();\n\n    //echo \'<pre>\' . print_r($sourceProperties, 1) . \'</pre>\';\n    //$allowedExtensions = $modx->getOption(\'allowedFileTypes\', $sourceProperties, \'\');\n    //$allowedExtensions = empty($allowedExtensions) ? \'jpg,jpeg,png,gif\' : $allowedExtensions;\n    //$maxFilesizeMb = $modx->getOption(\'maxFilesizeMb\', $sourceProperties, \'8\');\n    //$maxFiles = $modx->getOption(\'maxFiles\', $sourceProperties, \'0\');\n    //$thumbX = $modx->getOption(\'thumbX\', $sourceProperties, \'100\');\n    //$thumbY = $modx->getOption(\'thumbY\', $sourceProperties, \'100\');\n    $resizeConfigs = $modx->getOption(\'resizeConfigs\', $sourceProperties, \'\');\n    $resizeConfigs = $modx->fromJson($resizeConfigs);\n    $thumbscontainer = $modx->getOption(\'thumbscontainer\', $sourceProperties, \'thumbs/\');\n    $imageExtensions = $modx->getOption(\'imageExtensions\', $sourceProperties, \'jpg,jpeg,png,gif,JPG\');\n    $imageExtensions = explode(\',\', $imageExtensions);\n    //$uniqueFilenames = $modx->getOption(\'uniqueFilenames\', $sourceProperties, false);\n    //$onImageUpload = $modx->getOption(\'onImageUpload\', $sourceProperties, \'\');\n    //$onImageRemove = $modx->getOption(\'onImageRemove\', $sourceProperties, \'\');\n    $cleanalias = $modx->getOption(\'cleanFilename\', $sourceProperties, false);\n\n}\n\nif (is_array($resizeConfigs) && count($resizeConfigs) > 0) {\n    foreach ($resizeConfigs as $rc) {\n        if (isset($rc[\'alias\'])) {\n            $filePath = $basePath . $directory;\n            $filePath = str_replace(\'//\',\'/\',$filePath);\n            if ($rc[\'alias\'] == \'origin\') {\n                $thumbPath = $filePath;\n            } else {\n                $thumbPath = $filePath . $rc[\'alias\'] . \'/\';\n                $permissions = octdec(\'0\' . (int)($modx->getOption(\'new_folder_permissions\', null, \'755\', true)));\n                if (!@mkdir($thumbPath, $permissions, true)) {\n                    $modx->log(MODX_LOG_LEVEL_ERROR, sprintf(\'[migxResourceMediaPath]: could not create directory %s).\', $thumbPath));\n                } else {\n                    chmod($thumbPath, $permissions);\n                }\n\n            }\n\n\n            $filename = $filePath . $name;\n            $thumbname = $thumbPath . $name;\n            $ext = substr(strrchr($name, \'.\'), 1);\n            if (in_array($ext, $imageExtensions)) {\n                $sizes = getimagesize($filename);\n                echo $sizes[0]; \n                //$format = substr($sizes[\'mime\'], 6);\n                if ($sizes[0] > $rc[\'w\'] || $sizes[1] > $rc[\'h\']) {\n                    if ($sizes[0] < $rc[\'w\']) {\n                        $rc[\'w\'] = $sizes[0];\n                    }\n                    if ($sizes[1] < $rc[\'h\']) {\n                        $rc[\'h\'] = $sizes[1];\n                    }\n                    $type = $sizes[0] > $sizes[1] ? \'landscape\' : \'portrait\';\n                    if (isset($rc[\'far\']) && $rc[\'far\'] == \'1\' && isset($rc[\'w\']) && isset($rc[\'h\'])) {\n                        if ($type = \'landscape\') {\n                            unset($rc[\'h\']);\n                        }else {\n                            unset($rc[\'w\']);\n                        }\n                    }\n\n                    $options = \'\';\n                    foreach ($rc as $k => $v) {\n                        if ($k != \'alias\') {\n                            $options .= \'&\' . $k . \'=\' . $v;\n                        }\n                    }\n                    $resized = $modx->runSnippet(\'phpthumbof\', array(\'input\' => $filePath . $name, \'options\' => $options));\n                    rename(MODX_BASE_PATH . substr($resized, 1), $thumbname);\n                }\n            }\n\n\n        }\n    }\n}',	0,	'a:0:{}',	0,	'',	0,	''),
(9,	0,	0,	'FastUploadTV',	'FastUploadTV 1.0.0-pl plugin for MODx Revolution',	0,	0,	0,	'$corePath = $modx->getOption(\'core_path\',null,MODX_CORE_PATH).\'components/fastuploadtv/\';\r\n$assetsUrl = $modx->getOption(\'assets_url\',null,MODX_ASSETS_URL).\'components/fastuploadtv/\';\r\n\r\n$modx->lexicon->load(\'fastuploadtv:default\');\r\n\r\nswitch ($modx->event->name) {\r\n    case \'OnTVInputRenderList\':\r\n        $modx->event->output($corePath.\'elements/tv/input/\');\r\n        break;\r\n    case \'OnTVInputPropertiesList\':\r\n        $modx->event->output($corePath.\'elements/tv/input/options/\');\r\n        break;\r\n    case \'OnDocFormPrerender\':\r\n        $js  = $modx->getOption(\'assets_url\').\'components/fastuploadtv/mgr/js/\';\r\n        $modx->regClientStartupScript($js.\'widgets/modx.form.filefield.js\');\r\n        $modx->regClientStartupScript($js.\'FastUploadTV.js\');\r\n        $modx->regClientStartupScript($js.\'FastUploadTV.form.FastUploadTVField.js\');\r\n        break;\r\n    case \'OnMODXInit\':\r\n        $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\',null,\'image,file\').\',fastuploadtv\';\r\n        $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);\r\n        break;\r\n    case \'OnFileManagerUpload\':\r\n        if ((bool)$modx->getOption(\'fastuploadtv.translit\', null, false))\r\n        {\r\n            $fat = $modx->getOption(\'friendly_alias_translit\');\r\n            $friendly_alias_translit = (empty($fat) || $fat == \'none\') ? false : true;\r\n            \r\n            foreach($files as $file)\r\n            {\r\n                if($file[\'error\'] == 0)\r\n                {\r\n                    $pathInfo = pathinfo($file[\'name\']);\r\n                    $oldPath = $directory.$file[\'name\'];\r\n                    \r\n                    $filename = modResource::filterPathSegment($modx, $pathInfo[\'filename\']); // cleanAlias (translate)\r\n                    if ($friendly_alias_translit)\r\n                    {\r\n                        $filename = preg_replace(\'/[^A-Za-z0-9_-]/\', \'\', $filename); // restrict segment to alphanumeric characters only\r\n                    }\r\n                    $filename = preg_replace(\'/-{2,}/\',\'-\',$filename); // remove double symbol \"-\"\r\n                    $filename = trim($filename, \'-\'); // remove first symbol \"-\"\r\n                    \r\n                    $newPath = $filename . \'.\' . strtolower($pathInfo[\'extension\']);\r\n                    \r\n                    $source->renameObject($oldPath, $newPath);\r\n                }\r\n            }\r\n        }\r\n        break;\r\n}',	0,	NULL,	0,	'',	0,	''),
(10,	0,	0,	'phpThumbOfCacheManager',	'Handles cache cleaning when clearing the Site Cache.',	0,	10,	0,	'/*\n * Handles cache cleanup\n * pThumb\n * Copyright 2013 Jason Grant\n *\n * Please see the GitHub page for documentation or to report bugs:\n * https://github.com/oo12/phpThumbOf\n *\n * pThumb is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple\n * Place, Suite 330, Boston, MA 02111-1307 USA\n */\n\nif ($modx->event->name === \'OnSiteRefresh\') {\n	if (!$modx->loadClass(\'pThumbCacheCleaner\', MODX_CORE_PATH . \'components/phpthumbof/model/\', true, true)) {\n		$modx->log(modX::LOG_LEVEL_ERROR, \'[pThumb] Could not load pThumbCacheCleaner class.\');\n		return;\n	}\n	static $pt_settings = array();\n	$pThumb = new pThumbCacheCleaner($modx, $pt_settings, array(), true);\n	$pThumb->cleanCache();\n}',	0,	NULL,	0,	'',	0,	''),
(11,	1,	0,	'simpleUpdater',	'',	0,	12,	0,	'switch ($modx->event->name) {\n    case \'OnManagerPageBeforeRender\':\n        $modx->controller->addLexiconTopic(\'simpleupdater:default\');\n        $modx->controller->addCss($modx->getOption(\'assets_url\').\'components/simpleupdater/css/mgr/main.css\');\n        $modx->controller->addJavascript($modx->getOption(\'assets_url\').\'components/simpleupdater/js/mgr/widgets/update.button.js\');\n        $response = $modx->runProcessor(\'mgr/version/check\', array(), array(\'processors_path\' => $modx->getOption(\'core_path\') . \'components/simpleupdater/processors/\'));\n        $resObj = $response->getObject();\n        $_html = \"<script>	var simpleUpdateConfig = \" . $modx->toJSON($resObj) . \";</script>\";\n        $modx->controller->addHtml($_html);\n        break;\n}',	0,	NULL,	0,	'',	0,	'core/components/simpleupdater/elements/plugins/plugin.simpleupdater.php'),
(12,	1,	0,	'AdminPanel',	'',	0,	13,	0,	'/** @var array $scriptProperties */\nswitch ($modx->event->name) {\n\n    case \'OnWebPagePrerender\':\n        $users = trim($modx->getOption(\'ap_show_users\'));\n        $users_arr = array_map(\'trim\', explode(\',\', $users));\n        $templates = trim($modx->getOption(\'ap_hide_templates\', null, \'0\'));\n        $templates_arr = array_map(\'trim\', explode(\',\', $templates));\n        $register = ($users == \'\' && $modx->user->hasSessionContext(\'mgr\')) ||\n            ($modx->user->id > 0 && in_array($modx->user->id, $users_arr));\n\n        if ($register) {\n            if ($templates == \'\' || !in_array($modx->resource->template, $templates_arr)) {\n                $path = $modx->getOption(\'ap_core_path\', null, MODX_CORE_PATH . \'components/adminpanel/\');\n                $AdminPanel = $modx->getService(\'adminpanel\', \'AdminPanel\', $path . \'model/adminpanel/\',\n                    $scriptProperties);\n\n                if ($AdminPanel instanceof AdminPanel) {\n                    $html = $AdminPanel->run();\n\n                    if (strpos($modx->resource->_output, \'</body>\') !== false) {\n                        $modx->resource->_output =\n                            preg_replace(\"#(</body>)#i\", $html . \"\\n\\\\1\", $modx->resource->_output, true);\n                    } else {\n                        $modx->resource->_output .= $html;\n                    }\n                }\n            }\n        }\n        break;\n\n    /*\n    case \'OnSiteSettingsRender\':\n        $modx->controller->addLexiconTopic(\'adminpanel:setting\');\n        $modx->controller->addHtml(\"<script>\n            Ext.onReady(function() {\n                MODx.combo.apTheme = function(config) {\n                    config = config || {};\n                    Ext.applyIf(config,{\n                        store: new Ext.data.SimpleStore({\n                            fields: [\'d\',\'v\']\n                            ,data: [[_(\'ap_theme_dark\'),\'dark\'],[_(\'ap_theme_light\'),\'light\']]\n                        })\n                        ,displayField: \'d\'\n                        ,valueField: \'v\'\n                        ,name: \'value\'\n                        ,hiddenName: \'value\'\n                        ,mode: \'local\'\n                    });\n                MODx.combo.apTheme.superclass.constructor.call(this,config);\n            };\n            Ext.extend(MODx.combo.apTheme,MODx.combo.ComboBox);\n            Ext.reg(\'combo-ap-theme\',MODx.combo.apTheme);\n        });\n        </script>\");\n        break;\n    */\n}',	0,	NULL,	0,	'',	0,	'core/components/adminpanel/elements/plugins/plugin.adminpanel.php'),
(13,	1,	0,	'debugParser',	'',	0,	14,	0,	'if (empty($_REQUEST[\'debug\']) || !$modx->user->hasSessionContext(\'mgr\') || $modx->context->key == \'mgr\') {\n	return;\n}\n\nswitch ($modx->event->name) {\n\n	case \'OnHandleRequest\':\n		if ($modx->parser instanceof pdoParser && $modx->loadClass(\'debugPdoParser\', MODX_CORE_PATH . \'components/debugparser/model/\', false, true)) {\n			$modx->parser = new debugPdoParser($modx);\n		}\n		elseif ($modx->loadClass(\'debugParser\', MODX_CORE_PATH . \'components/debugparser/model/\', false, true)) {\n			$modx->parser = new debugParser($modx);\n		}\n		break;\n\n	case \'OnWebPageInit\':\n		if (method_exists($modx->parser, \'clearCache\') && empty($_REQUEST[\'cache\'])) {\n			$modx->parser->clearCache();\n		}\n		break;\n\n	case \'OnLoadWebPageCache\':\n		if (property_exists($modx->parser, \'from_cache\')) {\n			$modx->parser->from_cache = true;\n		}\n		break;\n\n	case \'OnWebPagePrerender\':\n		if (method_exists($modx->parser, \'generateReport\')) {\n			$modx->parser->generateReport();\n		}\n		break;\n}',	0,	NULL,	0,	'',	0,	'core/components/debugparser/elements/plugins/plugin.debugparser.php');

DROP TABLE IF EXISTS `q777_site_plugin_events`;
CREATE TABLE `q777_site_plugin_events` (
  `pluginid` int(10) NOT NULL DEFAULT '0',
  `event` varchar(255) NOT NULL DEFAULT '',
  `priority` int(10) NOT NULL DEFAULT '0',
  `propertyset` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`pluginid`,`event`),
  KEY `priority` (`priority`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_site_plugin_events` (`pluginid`, `event`, `priority`, `propertyset`) VALUES
(1,	'OnMODXInit',	-100,	0),
(1,	'OnBeforeSaveWebPageCache',	0,	0),
(1,	'OnSiteRefresh',	0,	0),
(2,	'OnDocFormSave',	0,	0),
(2,	'OnSiteRefresh',	0,	0),
(2,	'OnWebPagePrerender',	0,	0),
(2,	'OnPageNotFound',	0,	0),
(2,	'OnLoadWebDocument',	0,	0),
(2,	'OnWebPageComplete',	0,	0),
(2,	'OnEmptyTrash',	0,	0),
(2,	'OnUserSave',	0,	0),
(3,	'OnManagerPageBeforeRender',	0,	0),
(4,	'OnChunkFormPrerender',	0,	0),
(4,	'OnPluginFormPrerender',	0,	0),
(4,	'OnSnipFormPrerender',	0,	0),
(4,	'OnTempFormPrerender',	0,	0),
(4,	'OnFileEditFormPrerender',	0,	0),
(4,	'OnFileCreateFormPrerender',	0,	0),
(4,	'OnDocFormPrerender',	0,	0),
(4,	'OnRichTextEditorRegister',	0,	0),
(4,	'OnManagerPageBeforeRender',	0,	0),
(5,	'OnRichTextBrowserInit',	0,	0),
(5,	'OnRichTextEditorRegister',	0,	0),
(5,	'OnRichTextEditorInit',	0,	0),
(6,	'OnDocFormPrerender',	0,	0),
(6,	'OnTVInputPropertiesList',	0,	0),
(6,	'OnTVInputRenderList',	1,	0),
(7,	'OnDocFormPrerender',	0,	0),
(8,	'OnFileManagerUpload',	0,	0),
(9,	'OnTVInputRenderList',	0,	0),
(9,	'OnTVInputPropertiesList',	0,	0),
(9,	'OnDocFormPrerender',	0,	0),
(9,	'OnFileManagerUpload',	0,	0),
(9,	'OnMODXInit',	0,	0),
(10,	'OnSiteRefresh',	0,	0),
(11,	'OnManagerPageBeforeRender',	0,	0),
(12,	'OnWebPagePrerender',	10,	0),
(13,	'OnHandleRequest',	0,	0),
(13,	'OnWebPagePrerender',	0,	0),
(13,	'OnWebPageInit',	0,	0),
(13,	'OnLoadWebPageCache',	0,	0);

DROP TABLE IF EXISTS `q777_site_snippets`;
CREATE TABLE `q777_site_snippets` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `source` int(10) unsigned NOT NULL DEFAULT '0',
  `property_preprocess` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `name` varchar(50) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `editor_type` int(11) NOT NULL DEFAULT '0',
  `category` int(11) NOT NULL DEFAULT '0',
  `cache_type` tinyint(1) NOT NULL DEFAULT '0',
  `snippet` mediumtext,
  `locked` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `properties` text,
  `moduleguid` varchar(32) NOT NULL DEFAULT '',
  `static` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `static_file` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `category` (`category`),
  KEY `locked` (`locked`),
  KEY `moduleguid` (`moduleguid`),
  KEY `static` (`static`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_site_snippets` (`id`, `source`, `property_preprocess`, `name`, `description`, `editor_type`, `category`, `cache_type`, `snippet`, `locked`, `properties`, `moduleguid`, `static`, `static_file`) VALUES
(1,	1,	0,	'pdoResources',	'',	0,	3,	0,	'/** @var array $scriptProperties */\nif (isset($parents) && $parents === \'\') {\n    $scriptProperties[\'parents\'] = $modx->resource->id;\n}\nif (!empty($returnIds)) {\n    $scriptProperties[\'return\'] = \'ids\';\n}\n\n// Adding extra parameters into special place so we can put them in a results\n/** @var modSnippet $snippet */\n$additionalPlaceholders = $properties = array();\nif (isset($this) && $this instanceof modSnippet) {\n    $properties = $this->get(\'properties\');\n}\nelseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {\n    $properties = $snippet->get(\'properties\');\n}\nif (!empty($properties)) {\n    foreach ($scriptProperties as $k => $v) {\n        if (!isset($properties[$k])) {\n            $additionalPlaceholders[$k] = $v;\n        }\n    }\n}\n$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;\n\n/** @var pdoFetch $pdoFetch */\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoFetch->addTime(\'pdoTools loaded\');\n$output = $pdoFetch->run();\n\n$log = \'\';\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $log .= \'<pre class=\"pdoResourcesLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\n// Return output\nif (!empty($returnIds)) {\n    $modx->setPlaceholder(\'pdoResources.log\', $log);\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n} elseif (!empty($toSeparatePlaceholders)) {\n    $output[\'log\'] = $log;\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\n} else {\n    $output .= $log;\n\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\n        $output = $pdoFetch->getChunk($tplWrapper, array_merge($additionalPlaceholders, array(\'output\' => $output)),\n            $pdoFetch->config[\'fastMode\']);\n    }\n\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n}',	0,	'a:47:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:17:\"pdotools_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"returnIds\";a:7:{s:4:\"name\";s:9:\"returnIds\";s:4:\"desc\";s:23:\"pdotools_prop_returnIds\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:21:\"pdotools_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:22:\"pdotools_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:20:\"pdotools_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:11:\"publishedon\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"sortbyTV\";a:7:{s:4:\"name\";s:8:\"sortbyTV\";s:4:\"desc\";s:22:\"pdotools_prop_sortbyTV\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"sortbyTVType\";a:7:{s:4:\"name\";s:12:\"sortbyTVType\";s:4:\"desc\";s:26:\"pdotools_prop_sortbyTVType\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:21:\"pdotools_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:4:\"DESC\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"sortdirTV\";a:7:{s:4:\"name\";s:9:\"sortdirTV\";s:4:\"desc\";s:23:\"pdotools_prop_sortdirTV\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:3:\"ASC\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:19:\"pdotools_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:20:\"pdotools_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:19:\"pdotools_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:29:\"pdotools_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:21:\"pdotools_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"includeContent\";a:7:{s:4:\"name\";s:14:\"includeContent\";s:4:\"desc\";s:28:\"pdotools_prop_includeContent\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:24:\"pdotools_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"prepareTVs\";a:7:{s:4:\"name\";s:10:\"prepareTVs\";s:4:\"desc\";s:24:\"pdotools_prop_prepareTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"1\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"processTVs\";a:7:{s:4:\"name\";s:10:\"processTVs\";s:4:\"desc\";s:24:\"pdotools_prop_processTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tvPrefix\";a:7:{s:4:\"name\";s:8:\"tvPrefix\";s:4:\"desc\";s:22:\"pdotools_prop_tvPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\"tv.\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"tvFilters\";a:7:{s:4:\"name\";s:9:\"tvFilters\";s:4:\"desc\";s:23:\"pdotools_prop_tvFilters\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:21:\"tvFiltersAndDelimiter\";a:7:{s:4:\"name\";s:21:\"tvFiltersAndDelimiter\";s:4:\"desc\";s:35:\"pdotools_prop_tvFiltersAndDelimiter\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\",\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:20:\"tvFiltersOrDelimiter\";a:7:{s:4:\"name\";s:20:\"tvFiltersOrDelimiter\";s:4:\"desc\";s:34:\"pdotools_prop_tvFiltersOrDelimiter\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:2:\"||\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:19:\"pdotools_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:29:\"pdotools_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:25:\"pdotools_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:24:\"pdotools_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"hideContainers\";a:7:{s:4:\"name\";s:14:\"hideContainers\";s:4:\"desc\";s:28:\"pdotools_prop_hideContainers\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"context\";a:7:{s:4:\"name\";s:7:\"context\";s:4:\"desc\";s:21:\"pdotools_prop_context\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:3:\"idx\";a:7:{s:4:\"name\";s:3:\"idx\";s:4:\"desc\";s:17:\"pdotools_prop_idx\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"first\";a:7:{s:4:\"name\";s:5:\"first\";s:4:\"desc\";s:19:\"pdotools_prop_first\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:4:\"last\";a:7:{s:4:\"name\";s:4:\"last\";s:4:\"desc\";s:18:\"pdotools_prop_last\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplFirst\";a:7:{s:4:\"name\";s:8:\"tplFirst\";s:4:\"desc\";s:22:\"pdotools_prop_tplFirst\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplLast\";a:7:{s:4:\"name\";s:7:\"tplLast\";s:4:\"desc\";s:21:\"pdotools_prop_tplLast\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"tplOdd\";a:7:{s:4:\"name\";s:6:\"tplOdd\";s:4:\"desc\";s:20:\"pdotools_prop_tplOdd\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplWrapper\";a:7:{s:4:\"name\";s:10:\"tplWrapper\";s:4:\"desc\";s:24:\"pdotools_prop_tplWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"wrapIfEmpty\";a:7:{s:4:\"name\";s:11:\"wrapIfEmpty\";s:4:\"desc\";s:25:\"pdotools_prop_wrapIfEmpty\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"totalVar\";a:7:{s:4:\"name\";s:8:\"totalVar\";s:4:\"desc\";s:22:\"pdotools_prop_totalVar\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:5:\"total\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:23:\"pdotools_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"tplCondition\";a:7:{s:4:\"name\";s:12:\"tplCondition\";s:4:\"desc\";s:26:\"pdotools_prop_tplCondition\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplOperator\";a:7:{s:4:\"name\";s:11:\"tplOperator\";s:4:\"desc\";s:25:\"pdotools_prop_tplOperator\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:10:{i:0;a:2:{s:4:\"text\";s:11:\"is equal to\";s:5:\"value\";s:2:\"==\";}i:1;a:2:{s:4:\"text\";s:15:\"is not equal to\";s:5:\"value\";s:2:\"!=\";}i:2;a:2:{s:4:\"text\";s:9:\"less than\";s:5:\"value\";s:1:\"<\";}i:3;a:2:{s:4:\"text\";s:21:\"less than or equal to\";s:5:\"value\";s:2:\"<=\";}i:4;a:2:{s:4:\"text\";s:24:\"greater than or equal to\";s:5:\"value\";s:2:\">=\";}i:5;a:2:{s:4:\"text\";s:8:\"is empty\";s:5:\"value\";s:5:\"empty\";}i:6;a:2:{s:4:\"text\";s:12:\"is not empty\";s:5:\"value\";s:6:\"!empty\";}i:7;a:2:{s:4:\"text\";s:7:\"is null\";s:5:\"value\";s:4:\"null\";}i:8;a:2:{s:4:\"text\";s:11:\"is in array\";s:5:\"value\";s:7:\"inarray\";}i:9;a:2:{s:4:\"text\";s:10:\"is between\";s:5:\"value\";s:7:\"between\";}}s:5:\"value\";s:2:\"==\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"conditionalTpls\";a:7:{s:4:\"name\";s:15:\"conditionalTpls\";s:4:\"desc\";s:29:\"pdotools_prop_conditionalTpls\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"select\";a:7:{s:4:\"name\";s:6:\"select\";s:4:\"desc\";s:20:\"pdotools_prop_select\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:22:\"toSeparatePlaceholders\";a:7:{s:4:\"name\";s:22:\"toSeparatePlaceholders\";s:4:\"desc\";s:36:\"pdotools_prop_toSeparatePlaceholders\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"loadModels\";a:7:{s:4:\"name\";s:10:\"loadModels\";s:4:\"desc\";s:24:\"pdotools_prop_loadModels\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"scheme\";a:7:{s:4:\"name\";s:6:\"scheme\";s:4:\"desc\";s:20:\"pdotools_prop_scheme\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:6:{i:0;a:2:{s:5:\"value\";s:0:\"\";s:4:\"text\";s:14:\"System default\";}i:1;a:2:{s:5:\"value\";i:-1;s:4:\"text\";s:25:\"-1 (relative to site_url)\";}i:2;a:2:{s:5:\"value\";s:4:\"full\";s:4:\"text\";s:40:\"full (absolute, prepended with site_url)\";}i:3;a:2:{s:5:\"value\";s:3:\"abs\";s:4:\"text\";s:39:\"abs (absolute, prepended with base_url)\";}i:4;a:2:{s:5:\"value\";s:4:\"http\";s:4:\"text\";s:38:\"http (absolute, forced to http scheme)\";}i:5;a:2:{s:5:\"value\";s:5:\"https\";s:4:\"text\";s:40:\"https (absolute, forced to https scheme)\";}}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"useWeblinkUrl\";a:7:{s:4:\"name\";s:13:\"useWeblinkUrl\";s:4:\"desc\";s:27:\"pdotools_prop_useWeblinkUrl\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdoresources.php'),
(2,	1,	0,	'pdoUsers',	'',	0,	3,	0,	'/** @var array $scriptProperties */\n/** @var pdoFetch $pdoFetch */\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoFetch->addTime(\'pdoTools loaded\');\n\n$class = \'modUser\';\n$profile = \'modUserProfile\';\n$member = \'modUserGroupMember\';\n\n// Start building \"Where\" expression\n$where = array();\nif (empty($showInactive)) {\n    $where[$class . \'.active\'] = 1;\n}\nif (empty($showBlocked)) {\n    $where[$profile . \'.blocked\'] = 0;\n}\n\n// Add users profiles and groups\n$innerJoin = array(\n    $profile => array(\'alias\' => $profile, \'on\' => \"$class.id = $profile.internalKey\"),\n);\n\n// Filter by users, groups and roles\n$tmp = array(\n    \'users\' => array(\n        \'class\' => $class,\n        \'name\' => \'username\',\n        \'join\' => $class . \'.id\',\n    ),\n    \'groups\' => array(\n        \'class\' => \'modUserGroup\',\n        \'name\' => \'name\',\n        \'join\' => $member . \'.user_group\',\n    ),\n    \'roles\' => array(\n        \'class\' => \'modUserGroupRole\',\n        \'name\' => \'name\',\n        \'join\' => $member . \'.role\',\n    ),\n);\nforeach ($tmp as $k => $p) {\n    if (!empty($$k)) {\n        $$k = array_map(\'trim\', explode(\',\', $$k));\n        ${$k . \'_in\'} = ${$k . \'_out\'} = $fetch_in = $fetch_out = array();\n        foreach ($$k as $v) {\n            if (is_numeric($v)) {\n                if ($v[0] == \'-\') {\n                    ${$k . \'_out\'}[] = abs($v);\n                } else {\n                    ${$k . \'_in\'}[] = abs($v);\n                }\n            } else {\n                if ($v[0] == \'-\') {\n                    $fetch_out[] = $v;\n                } else {\n                    $fetch_in[] = $v;\n                }\n            }\n        }\n\n        if (!empty($fetch_in) || !empty($fetch_out)) {\n            $q = $modx->newQuery($p[\'class\'], array($p[\'name\'] . \':IN\' => array_merge($fetch_in, $fetch_out)));\n            $q->select(\'id,\' . $p[\'name\']);\n            $tstart = microtime(true);\n            if ($q->prepare() && $q->stmt->execute()) {\n                $modx->queryTime += microtime(true) - $tstart;\n                $modx->executedQueries++;\n                while ($row = $q->stmt->fetch(PDO::FETCH_ASSOC)) {\n                    if (in_array($row[$p[\'name\']], $fetch_in)) {\n                        ${$k . \'_in\'}[] = $row[\'id\'];\n                    } else {\n                        ${$k . \'_out\'}[] = $row[\'id\'];\n                    }\n                }\n            }\n        }\n\n        if (!empty(${$k . \'_in\'})) {\n            $where[$p[\'join\'] . \':IN\'] = ${$k . \'_in\'};\n        }\n        if (!empty(${$k . \'_out\'})) {\n            $where[$p[\'join\'] . \':NOT IN\'] = ${$k . \'_out\'};\n        }\n    }\n}\n\nif (!empty($groups_in) || !empty($groups_out) || !empty($roles_in) || !empty($roles_out)) {\n    $innerJoin[$member] = array(\'alias\' => $member, \'on\' => \"$class.id = $member.member\");\n}\n\n// Fields to select\n$select = array(\n    $profile => implode(\',\', array_keys($modx->getFieldMeta($profile))),\n    $class => implode(\',\', array_keys($modx->getFieldMeta($class))),\n);\n\n// Add custom parameters\nforeach (array(\'where\', \'innerJoin\', \'select\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n$default = array(\n    \'class\' => $class,\n    \'innerJoin\' => json_encode($innerJoin),\n    \'where\' => json_encode($where),\n    \'select\' => json_encode($select),\n    \'groupby\' => $class . \'.id\',\n    \'sortby\' => $class . \'.id\',\n    \'sortdir\' => \'ASC\',\n    \'fastMode\' => false,\n    \'return\' => !empty($returnIds) ? \'ids\' : \'chunks\',\n    \'disableConditions\' => true,\n);\n\nif (!empty($users_in) && (empty($scriptProperties[\'sortby\']) || $scriptProperties[\'sortby\'] == $class . \'.id\')) {\n    $scriptProperties[\'sortby\'] = \"find_in_set(`$class`.`id`,\'\" . implode(\',\', $users_in) . \"\')\";\n    $scriptProperties[\'sortdir\'] = \'\';\n}\n\n// Merge all properties and run!\n$pdoFetch->addTime(\'Query parameters ready\');\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\n$output = $pdoFetch->run();\n\n$log = \'\';\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $log .= \'<pre class=\"pdoUsersLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\n// Return output\nif (!empty($returnIds)) {\n    $modx->setPlaceholder(\'pdoUsers.log\', $log);\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n} elseif (!empty($toSeparatePlaceholders)) {\n    $output[\'log\'] = $log;\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\n} else {\n    $output .= $log;\n\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output), $pdoFetch->config[\'fastMode\']);\n    }\n\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n}',	0,	'a:30:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:17:\"pdotools_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"returnIds\";a:7:{s:4:\"name\";s:9:\"returnIds\";s:4:\"desc\";s:23:\"pdotools_prop_returnIds\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:21:\"pdotools_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:22:\"pdotools_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:20:\"pdotools_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:10:\"modUser.id\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:21:\"pdotools_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:3:\"ASC\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:19:\"pdotools_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:20:\"pdotools_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:29:\"pdotools_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"groups\";a:7:{s:4:\"name\";s:6:\"groups\";s:4:\"desc\";s:20:\"pdotools_prop_groups\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"roles\";a:7:{s:4:\"name\";s:5:\"roles\";s:4:\"desc\";s:19:\"pdotools_prop_roles\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"users\";a:7:{s:4:\"name\";s:5:\"users\";s:4:\"desc\";s:19:\"pdotools_prop_users\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:19:\"pdotools_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"showInactive\";a:7:{s:4:\"name\";s:12:\"showInactive\";s:4:\"desc\";s:26:\"pdotools_prop_showInactive\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showBlocked\";a:7:{s:4:\"name\";s:11:\"showBlocked\";s:4:\"desc\";s:25:\"pdotools_prop_showBlocked\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:3:\"idx\";a:7:{s:4:\"name\";s:3:\"idx\";s:4:\"desc\";s:17:\"pdotools_prop_idx\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"first\";a:7:{s:4:\"name\";s:5:\"first\";s:4:\"desc\";s:19:\"pdotools_prop_first\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:4:\"last\";a:7:{s:4:\"name\";s:4:\"last\";s:4:\"desc\";s:18:\"pdotools_prop_last\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplFirst\";a:7:{s:4:\"name\";s:8:\"tplFirst\";s:4:\"desc\";s:22:\"pdotools_prop_tplFirst\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplLast\";a:7:{s:4:\"name\";s:7:\"tplLast\";s:4:\"desc\";s:21:\"pdotools_prop_tplLast\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"tplOdd\";a:7:{s:4:\"name\";s:6:\"tplOdd\";s:4:\"desc\";s:20:\"pdotools_prop_tplOdd\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplWrapper\";a:7:{s:4:\"name\";s:10:\"tplWrapper\";s:4:\"desc\";s:24:\"pdotools_prop_tplWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"wrapIfEmpty\";a:7:{s:4:\"name\";s:11:\"wrapIfEmpty\";s:4:\"desc\";s:25:\"pdotools_prop_wrapIfEmpty\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"totalVar\";a:7:{s:4:\"name\";s:8:\"totalVar\";s:4:\"desc\";s:22:\"pdotools_prop_totalVar\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:5:\"total\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"tplCondition\";a:7:{s:4:\"name\";s:12:\"tplCondition\";s:4:\"desc\";s:26:\"pdotools_prop_tplCondition\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplOperator\";a:7:{s:4:\"name\";s:11:\"tplOperator\";s:4:\"desc\";s:25:\"pdotools_prop_tplOperator\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:10:{i:0;a:2:{s:4:\"text\";s:11:\"is equal to\";s:5:\"value\";s:2:\"==\";}i:1;a:2:{s:4:\"text\";s:15:\"is not equal to\";s:5:\"value\";s:2:\"!=\";}i:2;a:2:{s:4:\"text\";s:9:\"less than\";s:5:\"value\";s:1:\"<\";}i:3;a:2:{s:4:\"text\";s:21:\"less than or equal to\";s:5:\"value\";s:2:\"<=\";}i:4;a:2:{s:4:\"text\";s:24:\"greater than or equal to\";s:5:\"value\";s:2:\">=\";}i:5;a:2:{s:4:\"text\";s:8:\"is empty\";s:5:\"value\";s:5:\"empty\";}i:6;a:2:{s:4:\"text\";s:12:\"is not empty\";s:5:\"value\";s:6:\"!empty\";}i:7;a:2:{s:4:\"text\";s:7:\"is null\";s:5:\"value\";s:4:\"null\";}i:8;a:2:{s:4:\"text\";s:11:\"is in array\";s:5:\"value\";s:7:\"inarray\";}i:9;a:2:{s:4:\"text\";s:10:\"is between\";s:5:\"value\";s:7:\"between\";}}s:5:\"value\";s:2:\"==\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"conditionalTpls\";a:7:{s:4:\"name\";s:15:\"conditionalTpls\";s:4:\"desc\";s:29:\"pdotools_prop_conditionalTpls\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"select\";a:7:{s:4:\"name\";s:6:\"select\";s:4:\"desc\";s:20:\"pdotools_prop_select\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:22:\"toSeparatePlaceholders\";a:7:{s:4:\"name\";s:22:\"toSeparatePlaceholders\";s:4:\"desc\";s:36:\"pdotools_prop_toSeparatePlaceholders\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdousers.php'),
(3,	1,	0,	'pdoCrumbs',	'',	0,	3,	0,	'/** @var array $scriptProperties */\n/** @var pdoFetch $pdoFetch */\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoFetch->addTime(\'pdoTools loaded\');\n\nif (!isset($from) || $from == \'\') {\n    $from = 0;\n}\nif (empty($to)) {\n    $to = $modx->resource->id;\n}\nif (empty($direction)) {\n    $direction = \'ltr\';\n}\nif ($outputSeparator == \'&nbsp;&rarr;&nbsp;\' && $direction == \'rtl\') {\n    $outputSeparator = \'&nbsp;&larr;&nbsp;\';\n}\nif ($limit == \'\') {\n    $limit = 10;\n}\n// For compatibility with BreadCrumb\nif (!empty($maxCrumbs)) {\n    $limit = $maxCrumbs;\n}\nif (!empty($containerTpl)) {\n    $tplWrapper = $containerTpl;\n}\nif (!empty($currentCrumbTpl)) {\n    $tplCurrent = $currentCrumbTpl;\n}\nif (!empty($linkCrumbTpl)) {\n    $scriptProperties[\'tpl\'] = $linkCrumbTpl;\n}\nif (!empty($maxCrumbTpl)) {\n    $tplMax = $maxCrumbTpl;\n}\nif (isset($showBreadCrumbsAtHome)) {\n    $showAtHome = $showBreadCrumbsAtHome;\n}\nif (isset($showHomeCrumb)) {\n    $showHome = $showHomeCrumb;\n}\nif (isset($showCurrentCrumb)) {\n    $showCurrent = $showCurrentCrumb;\n}\n// --\n$fastMode = !empty($fastMode);\n$siteStart = $modx->getOption(\'siteStart\', $scriptProperties, $modx->getOption(\'site_start\'));\n\nif (empty($showAtHome) && $modx->resource->id == $siteStart) {\n    return \'\';\n}\n\n$class = $modx->getOption(\'class\', $scriptProperties, \'modResource\');\n// Start building \"Where\" expression\n$where = array();\nif (empty($showUnpublished) && empty($showUnPub)) {\n    $where[\'published\'] = 1;\n}\nif (empty($showHidden)) {\n    $where[\'hidemenu\'] = 0;\n}\nif (empty($showDeleted)) {\n    $where[\'deleted\'] = 0;\n}\nif (!empty($hideContainers) && empty($showContainer)) {\n    $where[\'isfolder\'] = 0;\n}\n\n$resource = ($to == $modx->resource->id)\n    ? $modx->resource\n    : $modx->getObject($class, $to);\n\nif (!$resource) {\n    $message = \'Could not build breadcrumbs to resource \"\' . $to . \'\"\';\n\n    return \'\';\n}\n\n$parents = $modx->getParentIds($resource->id, $limit, array(\'context\' => $resource->get(\'context_key\')));\nif (!empty($showHome)) {\n    $parents[] = $siteStart;\n}\n\n$ids = array($resource->id);\nforeach ($parents as $parent) {\n    if (!empty($parent)) {\n        $ids[] = $parent;\n    }\n    if (!empty($from) && $parent == $from) {\n        break;\n    }\n}\n$where[\'id:IN\'] = $ids;\n\nif (!empty($exclude)) {\n    $where[\'id:NOT IN\'] = array_map(\'trim\', explode(\',\', $exclude));\n}\n\n// Fields to select\n$resourceColumns = array_keys($modx->getFieldMeta($class));\n$select = array($class => implode(\',\', $resourceColumns));\n\n// Add custom parameters\nforeach (array(\'where\', \'select\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n// Default parameters\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'select\' => json_encode($select),\n    \'groupby\' => $class . \'.id\',\n    \'sortby\' => \"find_in_set(`$class`.`id`,\'\" . implode(\',\', $ids) . \"\')\",\n    \'sortdir\' => \'\',\n    \'return\' => \'data\',\n    \'totalVar\' => \'pdocrumbs.total\',\n    \'disableConditions\' => true,\n);\n\n// Merge all properties and run!\n$pdoFetch->addTime(\'Query parameters ready\');\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\n$rows = $pdoFetch->run();\n\n$output = array();\nif (!empty($rows) && is_array($rows)) {\n    if (strtolower($direction) == \'ltr\') {\n        $rows = array_reverse($rows);\n    }\n\n    foreach ($rows as $row) {\n        if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\n            $row[\'link\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\n                ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\n                : $row[\'content\'];\n        } else {\n            $row[\'link\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\n        }\n\n        $row = array_merge(\n            $scriptProperties,\n            $row,\n            array(\'idx\' => $pdoFetch->idx++)\n        );\n        if (empty($row[\'menutitle\'])) {\n            $row[\'menutitle\'] = $row[\'pagetitle\'];\n        }\n\n        if ($row[\'id\'] == $resource->id && empty($showCurrent)) {\n            continue;\n        } elseif ($row[\'id\'] == $resource->id && !empty($tplCurrent)) {\n            $tpl = $tplCurrent;\n        } elseif ($row[\'id\'] == $siteStart && !empty($tplHome)) {\n            $tpl = $tplHome;\n        } else {\n            $tpl = $pdoFetch->defineChunk($row);\n        }\n        $output[] = empty($tpl)\n            ? \'<pre>\' . $pdoFetch->getChunk(\'\', $row) . \'</pre>\'\n            : $pdoFetch->getChunk($tpl, $row, $fastMode);\n    }\n}\n$pdoFetch->addTime(\'Chunks processed\');\n\nif (count($output) == 1 && !empty($hideSingle)) {\n    $pdoFetch->addTime(\'The only result was hidden, because the parameter \"hideSingle\" activated\');\n    $output = array();\n}\n\n$log = \'\';\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $log .= \'<pre class=\"pdoCrumbsLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\nif (!empty($toSeparatePlaceholders)) {\n    $output[\'log\'] = $log;\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\n} else {\n    $output = implode($outputSeparator, $output);\n    if ($pdoFetch->idx >= $limit && !empty($tplMax) && !empty($output)) {\n        $output = ($direction == \'ltr\')\n            ? $pdoFetch->getChunk($tplMax, array(), $fastMode) . $output\n            : $output . $pdoFetch->getChunk($tplMax, array(), $fastMode);\n    }\n    $output .= $log;\n\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output, \'crumbs\' => $output), $fastMode);\n    }\n\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n}',	0,	'a:30:{s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:21:\"pdotools_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:22:\"pdotools_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:4:\"from\";a:7:{s:4:\"name\";s:4:\"from\";s:4:\"desc\";s:18:\"pdotools_prop_from\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:2:\"to\";a:7:{s:4:\"name\";s:2:\"to\";s:4:\"desc\";s:16:\"pdotools_prop_to\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:19:\"pdotools_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"exclude\";a:7:{s:4:\"name\";s:7:\"exclude\";s:4:\"desc\";s:21:\"pdotools_prop_exclude\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:29:\"pdotools_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:24:\"pdotools_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"prepareTVs\";a:7:{s:4:\"name\";s:10:\"prepareTVs\";s:4:\"desc\";s:24:\"pdotools_prop_prepareTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"1\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"processTVs\";a:7:{s:4:\"name\";s:10:\"processTVs\";s:4:\"desc\";s:24:\"pdotools_prop_processTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tvPrefix\";a:7:{s:4:\"name\";s:8:\"tvPrefix\";s:4:\"desc\";s:22:\"pdotools_prop_tvPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\"tv.\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:19:\"pdotools_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:29:\"pdotools_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:25:\"pdotools_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:24:\"pdotools_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"hideContainers\";a:7:{s:4:\"name\";s:14:\"hideContainers\";s:4:\"desc\";s:28:\"pdotools_prop_hideContainers\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:17:\"pdotools_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:55:\"@INLINE <li><a href=\"[[+link]]\">[[+menutitle]]</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplCurrent\";a:7:{s:4:\"name\";s:10:\"tplCurrent\";s:4:\"desc\";s:24:\"pdotools_prop_tplCurrent\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:46:\"@INLINE <li class=\"active\">[[+menutitle]]</li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"tplMax\";a:7:{s:4:\"name\";s:6:\"tplMax\";s:4:\"desc\";s:20:\"pdotools_prop_tplMax\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:49:\"@INLINE <li class=\"disabled\">&nbsp;...&nbsp;</li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplHome\";a:7:{s:4:\"name\";s:7:\"tplHome\";s:4:\"desc\";s:21:\"pdotools_prop_tplHome\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplWrapper\";a:7:{s:4:\"name\";s:10:\"tplWrapper\";s:4:\"desc\";s:24:\"pdotools_prop_tplWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:47:\"@INLINE <ul class=\"breadcrumb\">[[+output]]</ul>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"wrapIfEmpty\";a:7:{s:4:\"name\";s:11:\"wrapIfEmpty\";s:4:\"desc\";s:25:\"pdotools_prop_wrapIfEmpty\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showCurrent\";a:7:{s:4:\"name\";s:11:\"showCurrent\";s:4:\"desc\";s:25:\"pdotools_prop_showCurrent\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"showHome\";a:7:{s:4:\"name\";s:8:\"showHome\";s:4:\"desc\";s:22:\"pdotools_prop_showHome\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showAtHome\";a:7:{s:4:\"name\";s:10:\"showAtHome\";s:4:\"desc\";s:24:\"pdotools_prop_showAtHome\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"hideSingle\";a:7:{s:4:\"name\";s:10:\"hideSingle\";s:4:\"desc\";s:24:\"pdotools_prop_hideSingle\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"direction\";a:7:{s:4:\"name\";s:9:\"direction\";s:4:\"desc\";s:23:\"pdotools_prop_direction\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:5:\"value\";s:3:\"ltr\";s:4:\"text\";s:19:\"Left To Right (ltr)\";}i:1;a:2:{s:5:\"value\";s:3:\"rtl\";s:4:\"text\";s:19:\"Right To Left (rtl)\";}}s:5:\"value\";s:3:\"ltr\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"scheme\";a:7:{s:4:\"name\";s:6:\"scheme\";s:4:\"desc\";s:20:\"pdotools_prop_scheme\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:6:{i:0;a:2:{s:5:\"value\";s:0:\"\";s:4:\"text\";s:14:\"System default\";}i:1;a:2:{s:5:\"value\";i:-1;s:4:\"text\";s:25:\"-1 (relative to site_url)\";}i:2;a:2:{s:5:\"value\";s:4:\"full\";s:4:\"text\";s:40:\"full (absolute, prepended with site_url)\";}i:3;a:2:{s:5:\"value\";s:3:\"abs\";s:4:\"text\";s:39:\"abs (absolute, prepended with base_url)\";}i:4;a:2:{s:5:\"value\";s:4:\"http\";s:4:\"text\";s:38:\"http (absolute, forced to http scheme)\";}i:5;a:2:{s:5:\"value\";s:5:\"https\";s:4:\"text\";s:40:\"https (absolute, forced to https scheme)\";}}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"useWeblinkUrl\";a:7:{s:4:\"name\";s:13:\"useWeblinkUrl\";s:4:\"desc\";s:27:\"pdotools_prop_useWeblinkUrl\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdocrumbs.php'),
(4,	1,	0,	'pdoField',	'',	0,	3,	0,	'/** @var array $scriptProperties */\nif (!empty($input)) {\n    $id = $input;\n}\nif (!isset($default)) {\n    $default = \'\';\n}\nif (!isset($output)) {\n    $output = \'\';\n}\n$class = $modx->getOption(\'class\', $scriptProperties, \'modResource\', true);\n$isResource = $class == \'modResource\' || in_array($class, $modx->getDescendants(\'modResource\'));\n\nif (empty($field)) {\n    $field = \'pagetitle\';\n}\n$top = isset($top) ? intval($top) : 0;\n$topLevel = isset($topLevel) ? intval($topLevel) : 0;\nif (!empty($options)) {\n    $options = trim($options);\n    if ($options[0] == \'{\') {\n        $tmp = json_decode($options, true);\n        if (is_array($tmp)) {\n            extract($tmp);\n            $scriptProperties = array_merge($scriptProperties, $tmp);\n        }\n    } else {\n        $field = $options;\n    }\n}\nif (empty($id)) {\n    if (!empty($modx->resource)) {\n        $id = $modx->resource->id;\n    } else {\n        return \'You must specify an id of \' . $class;\n    }\n}\nif (!isset($context)) {\n    $context = \'\';\n}\n\n// Gets the parent from root of context, if specified\nif ($isResource && $id && ($top || $topLevel)) {\n    // Select needed context for parents functionality\n    if (empty($context)) {\n        $q = $modx->newQuery($class, $id);\n        $q->select(\'context_key\');\n        $tstart = microtime(true);\n        if ($q->prepare() && $q->stmt->execute()) {\n            $modx->queryTime += microtime(true) - $tstart;\n            $modx->executedQueries++;\n            $context = $q->stmt->fetch(PDO::FETCH_COLUMN);\n        }\n    }\n    // Original pdoField logic\n    if (empty($ultimate)) {\n        if ($topLevel) {\n            $pids = $modx->getChildIds(0, $topLevel, array(\'context\' => $context));\n            $pid = $id;\n            while (true) {\n                $tmp = $modx->getParentIds($pid, 1, array(\'context\' => $context));\n                if (!$pid = current($tmp)) {\n                    break;\n                } elseif (in_array($pid, $pids)) {\n                    $id = $pid;\n                    break;\n                }\n            }\n        } elseif ($top) {\n            $pid = $id;\n            for ($i = 1; $i <= $top; $i++) {\n                $tmp = $modx->getParentIds($pid, 1, array(\'context\' => $context));\n                if (!$pid = current($tmp)) {\n                    break;\n                }\n                $id = $pid;\n            }\n        }\n    }\n    // UltimateParent logic\n    // https://github.com/splittingred/UltimateParent/blob/develop/core/components/ultimateparent/snippet.ultimateparent.php\n    elseif ($id != $top) {\n        $pid = $id;\n        $pids = $modx->getParentIds($id, 10, array(\'context\' => $context));\n        if (!$topLevel || count($pids) >= $topLevel) {\n            while ($parentIds = $modx->getParentIds($id, 1, array(\'context\' => $context))) {\n                $pid = array_pop($parentIds);\n                if ($pid == $top) {\n                    break;\n                }\n                $id = $pid;\n                $parentIds = $modx->getParentIds($id, 10, array(\'context\' => $context));\n                if ($topLevel && count($parentIds) < $topLevel) {\n                    break;\n                }\n            }\n        }\n    }\n}\n\n/** @var pdoFetch $pdoFetch */\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoFetch->addTime(\'pdoTools loaded\');\n\n$where = array($class . \'.id\' => $id);\n// Add custom parameters\nforeach (array(\'where\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n// Fields to select\n$resourceColumns = array_keys($modx->getFieldMeta($class));\n$field = strtolower($field);\nif (in_array($field, $resourceColumns)) {\n    $scriptProperties[\'select\'] = array($class => $field);\n    $scriptProperties[\'includeTVs\'] = \'\';\n} elseif ($isResource) {\n    $scriptProperties[\'select\'] = array($class => \'id\');\n    $scriptProperties[\'includeTVs\'] = $field;\n}\n// Additional default field\nif (!empty($default)) {\n    $default = strtolower($default);\n    if (in_array($default, $resourceColumns)) {\n        $scriptProperties[\'select\'][$class] .= \',\' . $default;\n    } elseif ($isResource) {\n        $scriptProperties[\'includeTVs\'] = empty($scriptProperties[\'includeTVs\'])\n            ? $default\n            : $scriptProperties[\'includeTVs\'] . \',\' . $default;\n    }\n}\n\n$scriptProperties[\'disableConditions\'] = true;\nif ($row = $pdoFetch->getObject($class, $where, $scriptProperties)) {\n    foreach ($row as $k => $v) {\n        if (strtolower($k) == $field && $v != \'\') {\n            $output = $v;\n            break;\n        }\n    }\n\n    if (empty($output) && !empty($default)) {\n        foreach ($row as $k => $v) {\n            if (strtolower($k) == $default && $v != \'\') {\n                $output = $v;\n                break;\n            }\n        }\n    }\n}\n\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $output);\n} else {\n    return $output;\n}',	0,	'a:12:{s:2:\"id\";a:7:{s:4:\"name\";s:2:\"id\";s:4:\"desc\";s:16:\"pdotools_prop_id\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"field\";a:7:{s:4:\"name\";s:5:\"field\";s:4:\"desc\";s:19:\"pdotools_prop_field\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"pagetitle\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"prepareTVs\";a:7:{s:4:\"name\";s:10:\"prepareTVs\";s:4:\"desc\";s:24:\"pdotools_prop_prepareTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"1\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"processTVs\";a:7:{s:4:\"name\";s:10:\"processTVs\";s:4:\"desc\";s:24:\"pdotools_prop_processTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:19:\"pdotools_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"context\";a:7:{s:4:\"name\";s:7:\"context\";s:4:\"desc\";s:27:\"pdotools_prop_field_context\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:3:\"top\";a:7:{s:4:\"name\";s:3:\"top\";s:4:\"desc\";s:17:\"pdotools_prop_top\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"topLevel\";a:7:{s:4:\"name\";s:8:\"topLevel\";s:4:\"desc\";s:22:\"pdotools_prop_topLevel\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"default\";a:7:{s:4:\"name\";s:7:\"default\";s:4:\"desc\";s:27:\"pdotools_prop_field_default\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"output\";a:7:{s:4:\"name\";s:6:\"output\";s:4:\"desc\";s:26:\"pdotools_prop_field_output\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"ultimate\";a:7:{s:4:\"name\";s:8:\"ultimate\";s:4:\"desc\";s:22:\"pdotools_prop_ultimate\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdofield.php'),
(5,	1,	0,	'pdoSitemap',	'',	0,	3,	0,	'/** @var array $scriptProperties */\n/** @var pdoFetch $pdoFetch */\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoFetch->addTime(\'pdoTools loaded\');\n\n// Default variables\nif (empty($tpl)) {\n    $tpl = \"@INLINE \\n<url>\\n\\t<loc>[[+url]]</loc>\\n\\t<lastmod>[[+date]]</lastmod>\\n\\t<changefreq>[[+update]]</changefreq>\\n\\t<priority>[[+priority]]</priority>\\n</url>\";\n}\nif (empty($tplWrapper)) {\n    $tplWrapper = \"@INLINE <?xml version=\\\"1.0\\\" encoding=\\\"[[++modx_charset]]\\\"?>\\n<urlset xmlns=\\\"[[+schema]]\\\">\\n[[+output]]\\n</urlset>\";\n}\nif (empty($sitemapSchema)) {\n    $sitemapSchema = \'http://www.sitemaps.org/schemas/sitemap/0.9\';\n}\nif (empty($outputSeparator)) {\n    $outputSeparator = \"\\n\";\n}\nif (empty($cacheKey)) {\n    $scriptProperties[\'cacheKey\'] = \'sitemap/\' . substr(md5(json_encode($scriptProperties)), 0, 6);\n}\n\n// Convert parameters from GoogleSiteMap if exists\nif (!empty($itemTpl)) {\n    $tpl = $itemTpl;\n}\nif (!empty($containerTpl)) {\n    $tplWrapper = $containerTpl;\n}\nif (!empty($allowedtemplates)) {\n    $scriptProperties[\'templates\'] = $allowedtemplates;\n}\nif (!empty($maxDepth)) {\n    $scriptProperties[\'depth\'] = $maxDepth;\n}\nif (isset($hideDeleted)) {\n    $scriptProperties[\'showDeleted\'] = !$hideDeleted;\n}\nif (isset($published)) {\n    $scriptProperties[\'showUnpublished\'] = !$published;\n}\nif (isset($searchable)) {\n    $scriptProperties[\'showUnsearchable\'] = !$searchable;\n}\nif (!empty($googleSchema)) {\n    $sitemapSchema = $googleSchema;\n}\nif (!empty($excludeResources)) {\n    $tmp = array_map(\'trim\', explode(\',\', $excludeResources));\n    foreach ($tmp as $v) {\n        if (!empty($scriptProperties[\'resources\'])) {\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\n        } else {\n            $scriptProperties[\'resources\'] = \'-\' . $v;\n        }\n    }\n}\nif (!empty($excludeChildrenOf)) {\n    $tmp = array_map(\'trim\', explode(\',\', $excludeChildrenOf));\n    foreach ($tmp as $v) {\n        if (!empty($scriptProperties[\'parents\'])) {\n            $scriptProperties[\'parents\'] .= \',-\' . $v;\n        } else {\n            $scriptProperties[\'parents\'] = \'-\' . $v;\n        }\n    }\n}\nif (!empty($startId)) {\n    if (!empty($scriptProperties[\'parents\'])) {\n        $scriptProperties[\'parents\'] .= \',\' . $startId;\n    } else {\n        $scriptProperties[\'parents\'] = $startId;\n    }\n}\nif (!empty($sortBy)) {\n    $scriptProperties[\'sortby\'] = $sortBy;\n}\nif (!empty($sortDir)) {\n    $scriptProperties[\'sortdir\'] = $sortDir;\n}\nif (!empty($priorityTV)) {\n    if (!empty($scriptProperties[\'includeTVs\'])) {\n        $scriptProperties[\'includeTVs\'] .= \',\' . $priorityTV;\n    } else {\n        $scriptProperties[\'includeTVs\'] = $priorityTV;\n    }\n}\nif (!empty($itemSeparator)) {\n    $outputSeparator = $itemSeparator;\n}\n//---\n\n\n$class = \'modResource\';\n$where = array();\nif (empty($showHidden)) {\n    $where[] = array(\n        $class . \'.hidemenu\' => 0,\n        \'OR:\' . $class . \'.class_key:IN\' => array(\'Ticket\', \'Article\'),\n    );\n}\nif (empty($context)) {\n    $scriptProperties[\'context\'] = $modx->context->key;\n}\n\n$select = array($class => \'id,editedon,createdon,context_key,class_key,uri\');\nif (!empty($useWeblinkUrl)) {\n    $select[$class] .= \',content\';\n}\n// Add custom parameters\nforeach (array(\'where\', \'select\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n// Default parameters\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'select\' => json_encode($select),\n    \'sortby\' => \"{$class}.parent ASC, {$class}.menuindex\",\n    \'sortdir\' => \'ASC\',\n    \'return\' => \'data\',\n    \'scheme\' => \'full\',\n    \'limit\' => 0,\n);\n// Merge all properties and run!\n$pdoFetch->addTime(\'Query parameters ready\');\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\n\nif (!empty($cache)) {\n    $data = $pdoFetch->getCache($scriptProperties);\n}\nif (empty($data)) {\n    $now = time();\n    $data = $urls = array();\n    $rows = $pdoFetch->run();\n    foreach ($rows as $row) {\n        if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\n            $row[\'url\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\n                ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\n                : $row[\'content\'];\n        } else {\n            $row[\'url\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\n        }\n\n        $time = !empty($row[\'editedon\'])\n            ? $row[\'editedon\']\n            : $row[\'createdon\'];\n        $row[\'date\'] = date(\'c\', $time);\n\n        $datediff = floor(($now - $time) / 86400);\n        if ($datediff <= 1) {\n            $row[\'priority\'] = \'1.0\';\n            $row[\'update\'] = \'daily\';\n        } elseif (($datediff > 1) && ($datediff <= 7)) {\n            $row[\'priority\'] = \'0.75\';\n            $row[\'update\'] = \'weekly\';\n        } elseif (($datediff > 7) && ($datediff <= 30)) {\n            $row[\'priority\'] = \'0.50\';\n            $row[\'update\'] = \'weekly\';\n        } else {\n            $row[\'priority\'] = \'0.25\';\n            $row[\'update\'] = \'monthly\';\n        }\n        if (!empty($priorityTV) && !empty($row[$priorityTV])) {\n            $row[\'priority\'] = $row[$priorityTV];\n        }\n\n        // Fix possible duplicates made by modWebLink\n        if (!empty($urls[$row[\'url\']])) {\n            if ($urls[$row[\'url\']] > $row[\'date\']) {\n                continue;\n            }\n        }\n        $urls[$row[\'url\']] = $row[\'date\'];\n\n        // Add item to output\n        $data[$row[\'url\']] = $pdoFetch->parseChunk($tpl, $row);\n        if (strpos($data[$row[\'url\']], \'[[\') !== false) {\n            $modx->parser->processElementTags(\'\', $data[$row[\'url\']], true, true, \'[[\', \']]\', array(), 10);\n        }\n    }\n    $pdoFetch->addTime(\'Rows processed\');\n    if (!empty($cache)) {\n        $pdoFetch->setCache($data, $scriptProperties);\n    }\n}\n\n$output = implode($outputSeparator, $data);\n$output = $pdoFetch->getChunk($tplWrapper, array(\n    \'schema\' => $sitemapSchema,\n    \'output\' => $output,\n    \'items\' => $output,\n));\n$pdoFetch->addTime(\'Rows wrapped\');\n\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $output .= \'<pre class=\"pdoSitemapLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\nif (!empty($forceXML)) {\n    header(\"Content-Type:text/xml\");\n    @session_write_close();\n    exit($output);\n} else {\n    return $output;\n}',	0,	'a:24:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:17:\"pdotools_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:145:\"@INLINE <url>\n	<loc>[[+url]]</loc>\n	<lastmod>[[+date]]</lastmod>\n	<changefreq>[[+update]]</changefreq>\n	<priority>[[+priority]]</priority>\n</url>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplWrapper\";a:7:{s:4:\"name\";s:10:\"tplWrapper\";s:4:\"desc\";s:24:\"pdotools_prop_tplWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:110:\"@INLINE <?xml version=\"1.0\" encoding=\"[[++modx_charset]]\"?>\n<urlset xmlns=\"[[+schema]]\">\n[[+output]]\n</urlset>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"templates\";a:7:{s:4:\"name\";s:9:\"templates\";s:4:\"desc\";s:23:\"pdotools_prop_templates\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"context\";a:7:{s:4:\"name\";s:7:\"context\";s:4:\"desc\";s:21:\"pdotools_prop_context\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:19:\"pdotools_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:25:\"pdotools_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:24:\"pdotools_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"sitemapSchema\";a:7:{s:4:\"name\";s:13:\"sitemapSchema\";s:4:\"desc\";s:27:\"pdotools_prop_sitemapSchema\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:43:\"http://www.sitemaps.org/schemas/sitemap/0.9\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:29:\"pdotools_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:16:\"hideUnsearchable\";a:7:{s:4:\"name\";s:16:\"hideUnsearchable\";s:4:\"desc\";s:30:\"pdotools_prop_hideUnsearchable\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:23:\"pdotools_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:21:\"pdotools_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:20:\"pdotools_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"menuindex\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:21:\"pdotools_prop_sortdir\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\"asc\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:19:\"pdotools_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:24:\"pdotools_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"prepareTVs\";a:7:{s:4:\"name\";s:10:\"prepareTVs\";s:4:\"desc\";s:24:\"pdotools_prop_prepareTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"1\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"processTVs\";a:7:{s:4:\"name\";s:10:\"processTVs\";s:4:\"desc\";s:24:\"pdotools_prop_processTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:29:\"pdotools_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"forceXML\";a:7:{s:4:\"name\";s:8:\"forceXML\";s:4:\"desc\";s:22:\"pdotools_prop_forceXML\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"useWeblinkUrl\";a:7:{s:4:\"name\";s:13:\"useWeblinkUrl\";s:4:\"desc\";s:27:\"pdotools_prop_useWeblinkUrl\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"cache\";a:7:{s:4:\"name\";s:5:\"cache\";s:4:\"desc\";s:19:\"pdotools_prop_cache\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"cacheKey\";a:7:{s:4:\"name\";s:8:\"cacheKey\";s:4:\"desc\";s:22:\"pdotools_prop_cacheKey\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"cacheTime\";a:7:{s:4:\"name\";s:9:\"cacheTime\";s:4:\"desc\";s:23:\"pdotools_prop_cacheTime\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:600;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdositemap.php'),
(6,	1,	0,	'pdoNeighbors',	'',	0,	3,	0,	'/** @var array $scriptProperties */\n/** @var pdoFetch $pdoFetch */\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoFetch->addTime(\'pdoTools loaded\');\n\nif (empty($id)) {\n    $id = $modx->resource->id;\n}\nif (empty($limit)) {\n    $limit = 1;\n}\nif (!isset($outputSeparator)) {\n    $outputSeparator = \"\\n\";\n}\n$fastMode = !empty($fastMode);\n\n$class = \'modResource\';\n$resource = ($id == $modx->resource->id)\n    ? $modx->resource\n    : $modx->getObject($class, $id);\nif (!$resource) {\n    return \'\';\n}\n\n// We need to determine ids of neighbors\n$params = $scriptProperties;\n$params[\'select\'] = \'id\';\n$params[\'limit\'] = 0;\nif (!empty($parents)) {\n    $parents = array_map(\'trim\', explode(\',\', $parents));\n    if (!in_array($resource->parent, $parents)) {\n        $parents[] = $resource->parent;\n    }\n    $key = array_search($resource->parent * -1, $parents);\n    if ($key !== false) {\n        unset($parents[$key]);\n    }\n    $params[\'parents\'] = implode(\',\', $parents);\n    $ids = $pdoFetch->getCollection(\'modResource\', array(), $params);\n    unset($scriptProperties[\'parents\']);\n} else {\n    $ids = $pdoFetch->getCollection(\'modResource\', array(\'parent\' => $resource->parent), $params);\n}\n\n$found = false;\n$prev = $next = array();\nforeach ($ids as $v) {\n    if ($v[\'id\'] == $id) {\n        $found = true;\n        continue;\n    } elseif (!$found) {\n        $prev[] = $v[\'id\'];\n    } else {\n        $next[] = $v[\'id\'];\n        if (count($next) >= $limit) {\n            break;\n        }\n    }\n}\n$prev = array_splice($prev, $limit * -1);\nif (!empty($loop)) {\n    if (!count($prev)) {\n        $v = end($ids);\n        $prev[] = $v[\'id\'];\n    } else {\n        if (!count($next)) {\n            $v = reset($ids);\n            $next[] = $v[\'id\'];\n        }\n    }\n}\n$ids = array_merge($prev, $next, array($resource->parent));\n$pdoFetch->addTime(\'Found ids of neighbors: \' . implode(\',\', $ids));\n\n// Query conditions\n$where = array($class . \'.id:IN\' => $ids);\n\n// Fields to select\n$resourceColumns = array_keys($modx->getFieldMeta($class));\nif (empty($includeContent) && empty($useWeblinkUrl)) {\n    $key = array_search(\'content\', $resourceColumns);\n    unset($resourceColumns[$key]);\n}\n$select = array($class => implode(\',\', $resourceColumns));\n\n// Add custom parameters\nforeach (array(\'where\', \'select\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n// Default parameters\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'select\' => json_encode($select),\n    //\'groupby\' => $class.\'.id\',\n    \'sortby\' => $class . \'.menuindex\',\n    \'sortdir\' => \'ASC\',\n    \'return\' => \'data\',\n    \'limit\' => 0,\n    \'totalVar\' => \'pdoneighbors.total\',\n);\n\n// Merge all properties and run!\nunset($scriptProperties[\'limit\']);\n$pdoFetch->addTime(\'Query parameters ready\');\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\n\n$rows = $pdoFetch->run();\n$prev = array_flip($prev);\n$next = array_flip($next);\n\n$output = array(\'prev\' => array(), \'up\' => array(), \'next\' => array());\nforeach ($rows as $row) {\n    if (empty($row[\'menutitle\'])) {\n        $row[\'menutitle\'] = $row[\'pagetitle\'];\n    }\n    if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\n        $row[\'link\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\n            ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\n            : $row[\'content\'];\n    } else {\n        $row[\'link\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\n    }\n\n    if (isset($prev[$row[\'id\']])) {\n        $output[\'prev\'][] = !empty($tplPrev)\n            ? $pdoFetch->getChunk($tplPrev, $row, $fastMode)\n            : $pdoFetch->getChunk(\'\', $row);\n    } elseif (isset($next[$row[\'id\']])) {\n        $output[\'next\'][] = !empty($tplNext)\n            ? $pdoFetch->getChunk($tplNext, $row, $fastMode)\n            : $pdoFetch->getChunk(\'\', $row);\n    } else {\n        $output[\'up\'][] = !empty($tplUp)\n            ? $pdoFetch->getChunk($tplUp, $row, $fastMode)\n            : $pdoFetch->getChunk(\'\', $row);\n    }\n}\n$pdoFetch->addTime(\'Chunks processed\');\n\n$log = \'\';\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $log .= \'<pre class=\"pdoNeighborsLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\nforeach ($output as &$row) {\n    $row = implode($outputSeparator, $row);\n}\n\nif (!empty($toSeparatePlaceholders)) {\n    $output[\'log\'] = $log;\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\n} else {\n    if (!empty($rows) || !empty($wrapIfEmpty)) {\n        $output = !empty($tplWrapper)\n            ? $pdoFetch->getChunk($tplWrapper, $output, $fastMode)\n            : $pdoFetch->getChunk(\'\', $output);\n    } else {\n        $output = \'\';\n    }\n    $output .= $log;\n\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n}',	0,	'a:27:{s:2:\"id\";a:7:{s:4:\"name\";s:2:\"id\";s:4:\"desc\";s:16:\"pdotools_prop_id\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:29:\"pdotools_prop_neighbors_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:20:\"pdotools_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"menuindex\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:21:\"pdotools_prop_sortdir\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\"asc\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:19:\"pdotools_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplPrev\";a:7:{s:4:\"name\";s:7:\"tplPrev\";s:4:\"desc\";s:21:\"pdotools_prop_tplPrev\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:84:\"@INLINE <span class=\"link-prev\"><a href=\"[[+link]]\">&larr; [[+menutitle]]</a></span>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"tplUp\";a:7:{s:4:\"name\";s:5:\"tplUp\";s:4:\"desc\";s:19:\"pdotools_prop_tplUp\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:82:\"@INLINE <span class=\"link-up\">&uarr; <a href=\"[[+link]]\">[[+menutitle]]</a></span>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplNext\";a:7:{s:4:\"name\";s:7:\"tplNext\";s:4:\"desc\";s:21:\"pdotools_prop_tplNext\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:84:\"@INLINE <span class=\"link-next\"><a href=\"[[+link]]\">[[+menutitle]] &rarr;</a></span>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplWrapper\";a:7:{s:4:\"name\";s:10:\"tplWrapper\";s:4:\"desc\";s:34:\"pdotools_prop_neighbors_tplWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:62:\"@INLINE <div class=\"neighbors\">[[+prev]][[+up]][[+next]]</div>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"wrapIfEmpty\";a:7:{s:4:\"name\";s:11:\"wrapIfEmpty\";s:4:\"desc\";s:25:\"pdotools_prop_wrapIfEmpty\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:29:\"pdotools_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:25:\"pdotools_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:24:\"pdotools_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"hideContainers\";a:7:{s:4:\"name\";s:14:\"hideContainers\";s:4:\"desc\";s:28:\"pdotools_prop_hideContainers\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:22:\"toSeparatePlaceholders\";a:7:{s:4:\"name\";s:22:\"toSeparatePlaceholders\";s:4:\"desc\";s:36:\"pdotools_prop_toSeparatePlaceholders\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:21:\"pdotools_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:29:\"pdotools_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:21:\"pdotools_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:22:\"pdotools_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:24:\"pdotools_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"prepareTVs\";a:7:{s:4:\"name\";s:10:\"prepareTVs\";s:4:\"desc\";s:24:\"pdotools_prop_prepareTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"1\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"processTVs\";a:7:{s:4:\"name\";s:10:\"processTVs\";s:4:\"desc\";s:24:\"pdotools_prop_processTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tvPrefix\";a:7:{s:4:\"name\";s:8:\"tvPrefix\";s:4:\"desc\";s:22:\"pdotools_prop_tvPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\"tv.\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"scheme\";a:7:{s:4:\"name\";s:6:\"scheme\";s:4:\"desc\";s:20:\"pdotools_prop_scheme\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:6:{i:0;a:2:{s:5:\"value\";s:0:\"\";s:4:\"text\";s:14:\"System default\";}i:1;a:2:{s:5:\"value\";i:-1;s:4:\"text\";s:25:\"-1 (relative to site_url)\";}i:2;a:2:{s:5:\"value\";s:4:\"full\";s:4:\"text\";s:40:\"full (absolute, prepended with site_url)\";}i:3;a:2:{s:5:\"value\";s:3:\"abs\";s:4:\"text\";s:39:\"abs (absolute, prepended with base_url)\";}i:4;a:2:{s:5:\"value\";s:4:\"http\";s:4:\"text\";s:38:\"http (absolute, forced to http scheme)\";}i:5;a:2:{s:5:\"value\";s:5:\"https\";s:4:\"text\";s:40:\"https (absolute, forced to https scheme)\";}}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"useWeblinkUrl\";a:7:{s:4:\"name\";s:13:\"useWeblinkUrl\";s:4:\"desc\";s:27:\"pdotools_prop_useWeblinkUrl\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:4:\"loop\";a:7:{s:4:\"name\";s:4:\"loop\";s:4:\"desc\";s:18:\"pdotools_prop_loop\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdoneighbors.php'),
(7,	1,	0,	'pdoPage',	'',	0,	3,	0,	'/** @var array $scriptProperties */\n// Default variables\nif (empty($pageVarKey)) {\n    $pageVarKey = \'page\';\n}\nif (empty($pageNavVar)) {\n    $pageNavVar = \'page.nav\';\n}\nif (empty($pageCountVar)) {\n    $pageCountVar = \'pageCount\';\n}\nif (empty($totalVar)) {\n    $totalVar = \'total\';\n}\nif (empty($page)) {\n    $page = 1;\n}\nif (empty($pageLimit)) {\n    $pageLimit = 5;\n} else {\n    $pageLimit = (integer)$pageLimit;\n}\nif (!isset($plPrefix)) {\n    $plPrefix = \'\';\n}\nif (!empty($scriptProperties[\'ajaxMode\'])) {\n    $scriptProperties[\'ajax\'] = 1;\n}\n\n// Convert parameters from getPage if exists\nif (!empty($namespace)) {\n    $plPrefix = $namespace;\n}\nif (!empty($pageNavTpl)) {\n    $scriptProperties[\'tplPage\'] = $pageNavTpl;\n}\nif (!empty($pageNavOuterTpl)) {\n    $scriptProperties[\'tplPageWrapper\'] = $pageNavOuterTpl;\n}\nif (!empty($pageActiveTpl)) {\n    $scriptProperties[\'tplPageActive\'] = $pageActiveTpl;\n}\nif (!empty($pageFirstTpl)) {\n    $scriptProperties[\'tplPageFirst\'] = $pageFirstTpl;\n}\nif (!empty($pagePrevTpl)) {\n    $scriptProperties[\'tplPagePrev\'] = $pagePrevTpl;\n}\nif (!empty($pageNextTpl)) {\n    $scriptProperties[\'tplPageNext\'] = $pageNextTpl;\n}\nif (!empty($pageLastTpl)) {\n    $scriptProperties[\'tplPageLast\'] = $pageLastTpl;\n}\nif (!empty($pageSkipTpl)) {\n    $scriptProperties[\'tplPageSkip\'] = $pageSkipTpl;\n}\nif (!empty($pageNavScheme)) {\n    $scriptProperties[\'scheme\'] = $pageNavScheme;\n}\nif (!empty($cache_expires)) {\n    $scriptProperties[\'cacheTime\'] = $cache_expires;\n}\n//---\n$strictMode = !empty($strictMode);\n\n$isAjax = !empty($scriptProperties[\'ajax\']) && !empty($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\';\nif ($isAjax && !isset($_REQUEST[$pageVarKey])) {\n    return;\n}\n\n/** @var pdoPage $pdoPage */\n$fqn = $modx->getOption(\'pdoPage.class\', null, \'pdotools.pdopage\', true);\n$path = $modx->getOption(\'pdopage_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoPage = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoPage->pdoTools->addTime(\'pdoTools loaded\');\n\n// Script and styles\nif (!$isAjax && !empty($scriptProperties[\'ajaxMode\'])) {\n    $pdoPage->loadJsCss();\n}\n// Removing of default scripts and styles so they do not overwrote nested snippet parameters\nif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoPage\'))) {\n    $properties = $snippet->get(\'properties\');\n    if ($scriptProperties[\'frontend_js\'] == $properties[\'frontend_js\'][\'value\']) {\n        unset($scriptProperties[\'frontend_js\']);\n    }\n    if ($scriptProperties[\'frontend_css\'] == $properties[\'frontend_css\'][\'value\']) {\n        unset($scriptProperties[\'frontend_css\']);\n    }\n}\n\n// Page\nif (isset($_REQUEST[$pageVarKey]) && $strictMode && (!is_numeric($_REQUEST[$pageVarKey]) || ($_REQUEST[$pageVarKey] <= 1 && !$isAjax))) {\n    return $pdoPage->redirectToFirst($isAjax);\n} elseif (!empty($_REQUEST[$pageVarKey])) {\n    $page = (integer)$_REQUEST[$pageVarKey];\n}\n$scriptProperties[\'page\'] = $page;\n$scriptProperties[\'request\'] = $_REQUEST;\n\n// Limit\nif (isset($_REQUEST[\'limit\'])) {\n    if (is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {\n        $scriptProperties[\'limit\'] = abs($_REQUEST[\'limit\']);\n    } elseif ($strictMode) {\n        unset($_GET[\'limit\']);\n\n        return $pdoPage->redirectToFirst($isAjax);\n    }\n}\nif (!empty($maxLimit) && !empty($scriptProperties[\'limit\']) && $scriptProperties[\'limit\'] > $maxLimit) {\n    $scriptProperties[\'limit\'] = $maxLimit;\n}\n\n// Offset\n$offset = !empty($scriptProperties[\'offset\']) && $scriptProperties[\'offset\'] > 0\n    ? (int)$scriptProperties[\'offset\']\n    : 0;\n$scriptProperties[\'offset\'] = $page > 1\n    ? $scriptProperties[\'limit\'] * ($page - 1) + $offset\n    : $offset;\nif (!empty($scriptProperties[\'offset\']) && empty($scriptProperties[\'limit\'])) {\n    $scriptProperties[\'limit\'] = 10000000;\n}\n\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\n$url = $pdoPage->getBaseUrl();\n$output = $pagination = $total = $pageCount = \'\';\n\n$data = $cache\n    ? $pdoPage->pdoTools->getCache($scriptProperties)\n    : array();\n\nif (empty($data)) {\n    $output = $pdoPage->pdoTools->runSnippet($scriptProperties[\'element\'], $scriptProperties);\n    if ($output === false) {\n        return \'\';\n    } elseif (!empty($toPlaceholder)) {\n        $output = $modx->getPlaceholder($toPlaceholder);\n    }\n\n    /** Pagination */\n    $total = (int)$modx->getPlaceholder($totalVar);\n    $pageCount = !empty($scriptProperties[\'limit\']) && $total > $offset\n        ? ceil(($total - $offset) / $scriptProperties[\'limit\'])\n        : 0;\n\n    // Redirect to start if somebody specified incorrect page\n    if ($page > 1 && $page > $pageCount && $strictMode) {\n        return $pdoPage->redirectToFirst($isAjax);\n    }\n    if (!empty($pageCount) && $pageCount > 1) {\n        $pagination = array(\n            \'first\' => $page > 1 && !empty($tplPageFirst)\n                ? $pdoPage->makePageLink($url, 1, $tplPageFirst)\n                : \'\',\n            \'prev\' => $page > 1 && !empty($tplPagePrev)\n                ? $pdoPage->makePageLink($url, $page - 1, $tplPagePrev)\n                : \'\',\n            \'pages\' => $pageLimit >= 7 && empty($disableModernPagination)\n                ? $pdoPage->buildModernPagination($page, $pageCount, $url)\n                : $pdoPage->buildClassicPagination($page, $pageCount, $url),\n            \'next\' => $page < $pageCount && !empty($tplPageNext)\n                ? $pdoPage->makePageLink($url, $page + 1, $tplPageNext)\n                : \'\',\n            \'last\' => $page < $pageCount && !empty($tplPageLast)\n                ? $pdoPage->makePageLink($url, $pageCount, $tplPageLast)\n                : \'\',\n        );\n\n        if (!empty($pageCount)) {\n            foreach (array(\'first\', \'prev\', \'next\', \'last\') as $v) {\n                $tpl = \'tplPage\' . ucfirst($v) . \'Empty\';\n                if (!empty(${$tpl}) && empty($pagination[$v])) {\n                    $pagination[$v] = $pdoPage->pdoTools->getChunk(${$tpl});\n                }\n            }\n        }\n\n        if (!empty($setMeta) && !$isAjax) {\n            $modx->regClientStartupHTMLBlock(\'<link rel=\"canonical\" href=\"\' . $url . \'\"/>\');\n            if ($page > 1) {\n                $modx->regClientStartupHTMLBlock(\n                    \'<link rel=\"prev\" href=\"\' . $pdoPage->makePageLink($url, $page - 1) . \'\"/>\'\n                );\n            }\n            if ($page < $pageCount) {\n                $modx->regClientStartupHTMLBlock(\n                    \'<link rel=\"next\" href=\"\' . $pdoPage->makePageLink($url, $page + 1) . \'\"/>\'\n                );\n            }\n        }\n    } else {\n        $pagination = array(\n            \'first\' => \'\',\n            \'prev\' => \'\',\n            \'pages\' => \'\',\n            \'next\' => \'\',\n            \'last\' => \'\'\n        );\n    }\n\n    $data = array(\n        \'output\' => $output,\n        $pageVarKey => $page,\n        $pageCountVar => $pageCount,\n        $pageNavVar => !empty($tplPageWrapper)\n            ? $pdoPage->pdoTools->getChunk($tplPageWrapper, $pagination)\n            : $pdoPage->pdoTools->parseChunk(\'\', $pagination),\n        $totalVar => $total,\n    );\n    if ($cache) {\n        $pdoPage->pdoTools->setCache($data, $scriptProperties);\n    }\n}\n\nif ($isAjax) {\n    if ($pageNavVar != \'pagination\') {\n        $data[\'pagination\'] = $data[$pageNavVar];\n        unset($data[$pageNavVar]);\n    }\n    if ($pageCountVar != \'pages\') {\n        $data[\'pages\'] = (int)$data[$pageCountVar];\n        unset($data[$pageCountVar]);\n    }\n    if ($pageVarKey != \'page\') {\n        $data[\'page\'] = (int)$data[$pageVarKey];\n        unset($data[$pageVarKey]);\n    }\n    if ($totalVar != \'total\') {\n        $data[\'total\'] = (int)$data[$totalVar];\n        unset($data[$totalVar]);\n    }\n\n    $maxIterations = (integer)$modx->getOption(\'parser_max_iterations\', null, 10);\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], false, false, \'[[\', \']]\', array(), $maxIterations);\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], true, true, \'[[\', \']]\', array(), $maxIterations);\n\n    @session_write_close();\n    exit(json_encode($data));\n} else {\n    $modx->setPlaceholders($data, $plPrefix);\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $data[\'output\']);\n    } else {\n        return $data[\'output\'];\n    }\n}',	0,	'a:41:{s:8:\"plPrefix\";a:7:{s:4:\"name\";s:8:\"plPrefix\";s:4:\"desc\";s:22:\"pdotools_prop_plPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:19:\"pdotools_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"maxLimit\";a:7:{s:4:\"name\";s:8:\"maxLimit\";s:4:\"desc\";s:22:\"pdotools_prop_maxLimit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:100;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:20:\"pdotools_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:4:\"page\";a:7:{s:4:\"name\";s:4:\"page\";s:4:\"desc\";s:18:\"pdotools_prop_page\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"pageVarKey\";a:7:{s:4:\"name\";s:10:\"pageVarKey\";s:4:\"desc\";s:24:\"pdotools_prop_pageVarKey\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:4:\"page\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"totalVar\";a:7:{s:4:\"name\";s:8:\"totalVar\";s:4:\"desc\";s:22:\"pdotools_prop_totalVar\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:10:\"page.total\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"pageLimit\";a:7:{s:4:\"name\";s:9:\"pageLimit\";s:4:\"desc\";s:23:\"pdotools_prop_pageLimit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:5;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"element\";a:7:{s:4:\"name\";s:7:\"element\";s:4:\"desc\";s:21:\"pdotools_prop_element\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:12:\"pdoResources\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"pageNavVar\";a:7:{s:4:\"name\";s:10:\"pageNavVar\";s:4:\"desc\";s:24:\"pdotools_prop_pageNavVar\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:8:\"page.nav\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"pageCountVar\";a:7:{s:4:\"name\";s:12:\"pageCountVar\";s:4:\"desc\";s:26:\"pdotools_prop_pageCountVar\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"pageCount\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"pageLinkScheme\";a:7:{s:4:\"name\";s:14:\"pageLinkScheme\";s:4:\"desc\";s:28:\"pdotools_prop_pageLinkScheme\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplPage\";a:7:{s:4:\"name\";s:7:\"tplPage\";s:4:\"desc\";s:21:\"pdotools_prop_tplPage\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:52:\"@INLINE <li><a href=\"[[+href]]\">[[+pageNo]]</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"tplPageWrapper\";a:7:{s:4:\"name\";s:14:\"tplPageWrapper\";s:4:\"desc\";s:28:\"pdotools_prop_tplPageWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:113:\"@INLINE <div class=\"pagination\"><ul class=\"pagination\">[[+first]][[+prev]][[+pages]][[+next]][[+last]]</ul></div>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"tplPageActive\";a:7:{s:4:\"name\";s:13:\"tplPageActive\";s:4:\"desc\";s:27:\"pdotools_prop_tplPageActive\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:67:\"@INLINE <li class=\"active\"><a href=\"[[+href]]\">[[+pageNo]]</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"tplPageFirst\";a:7:{s:4:\"name\";s:12:\"tplPageFirst\";s:4:\"desc\";s:26:\"pdotools_prop_tplPageFirst\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:75:\"@INLINE <li class=\"control\"><a href=\"[[+href]]\">[[%pdopage_first]]</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplPageLast\";a:7:{s:4:\"name\";s:11:\"tplPageLast\";s:4:\"desc\";s:25:\"pdotools_prop_tplPageLast\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:74:\"@INLINE <li class=\"control\"><a href=\"[[+href]]\">[[%pdopage_last]]</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplPagePrev\";a:7:{s:4:\"name\";s:11:\"tplPagePrev\";s:4:\"desc\";s:25:\"pdotools_prop_tplPagePrev\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:64:\"@INLINE <li class=\"control\"><a href=\"[[+href]]\">&laquo;</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplPageNext\";a:7:{s:4:\"name\";s:11:\"tplPageNext\";s:4:\"desc\";s:25:\"pdotools_prop_tplPageNext\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:64:\"@INLINE <li class=\"control\"><a href=\"[[+href]]\">&raquo;</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplPageSkip\";a:7:{s:4:\"name\";s:11:\"tplPageSkip\";s:4:\"desc\";s:25:\"pdotools_prop_tplPageSkip\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:50:\"@INLINE <li class=\"disabled\"><span>...</span></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:17:\"tplPageFirstEmpty\";a:7:{s:4:\"name\";s:17:\"tplPageFirstEmpty\";s:4:\"desc\";s:31:\"pdotools_prop_tplPageFirstEmpty\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:65:\"@INLINE <li class=\"disabled\"><span>[[%pdopage_first]]</span></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:16:\"tplPageLastEmpty\";a:7:{s:4:\"name\";s:16:\"tplPageLastEmpty\";s:4:\"desc\";s:30:\"pdotools_prop_tplPageLastEmpty\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:64:\"@INLINE <li class=\"disabled\"><span>[[%pdopage_last]]</span></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:16:\"tplPagePrevEmpty\";a:7:{s:4:\"name\";s:16:\"tplPagePrevEmpty\";s:4:\"desc\";s:30:\"pdotools_prop_tplPagePrevEmpty\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:54:\"@INLINE <li class=\"disabled\"><span>&laquo;</span></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:16:\"tplPageNextEmpty\";a:7:{s:4:\"name\";s:16:\"tplPageNextEmpty\";s:4:\"desc\";s:30:\"pdotools_prop_tplPageNextEmpty\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:54:\"@INLINE <li class=\"disabled\"><span>&raquo;</span></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"cache\";a:7:{s:4:\"name\";s:5:\"cache\";s:4:\"desc\";s:19:\"pdotools_prop_cache\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"cacheTime\";a:7:{s:4:\"name\";s:9:\"cacheTime\";s:4:\"desc\";s:23:\"pdotools_prop_cacheTime\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:3600;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"cacheAnonymous\";a:7:{s:4:\"name\";s:14:\"cacheAnonymous\";s:4:\"desc\";s:28:\"pdotools_prop_cacheAnonymous\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:4:\"ajax\";a:7:{s:4:\"name\";s:4:\"ajax\";s:4:\"desc\";s:18:\"pdotools_prop_ajax\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"ajaxMode\";a:7:{s:4:\"name\";s:8:\"ajaxMode\";s:4:\"desc\";s:22:\"pdotools_prop_ajaxMode\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:4:{i:0;a:2:{s:4:\"text\";s:4:\"None\";s:5:\"value\";s:0:\"\";}i:1;a:2:{s:4:\"text\";s:7:\"Default\";s:5:\"value\";s:7:\"default\";}i:2;a:2:{s:4:\"text\";s:6:\"Scroll\";s:5:\"value\";s:6:\"scroll\";}i:3;a:2:{s:4:\"text\";s:6:\"Button\";s:5:\"value\";s:6:\"button\";}}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"ajaxElemWrapper\";a:7:{s:4:\"name\";s:15:\"ajaxElemWrapper\";s:4:\"desc\";s:29:\"pdotools_prop_ajaxElemWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:8:\"#pdopage\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"ajaxElemRows\";a:7:{s:4:\"name\";s:12:\"ajaxElemRows\";s:4:\"desc\";s:26:\"pdotools_prop_ajaxElemRows\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:14:\"#pdopage .rows\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:18:\"ajaxElemPagination\";a:7:{s:4:\"name\";s:18:\"ajaxElemPagination\";s:4:\"desc\";s:32:\"pdotools_prop_ajaxElemPagination\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:20:\"#pdopage .pagination\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"ajaxElemLink\";a:7:{s:4:\"name\";s:12:\"ajaxElemLink\";s:4:\"desc\";s:26:\"pdotools_prop_ajaxElemLink\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:22:\"#pdopage .pagination a\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"ajaxElemMore\";a:7:{s:4:\"name\";s:12:\"ajaxElemMore\";s:4:\"desc\";s:26:\"pdotools_prop_ajaxElemMore\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:18:\"#pdopage .btn-more\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"ajaxTplMore\";a:7:{s:4:\"name\";s:11:\"ajaxTplMore\";s:4:\"desc\";s:25:\"pdotools_prop_ajaxTplMore\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:75:\"@INLINE <button class=\"btn btn-default btn-more\">[[%pdopage_more]]</button>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"ajaxHistory\";a:7:{s:4:\"name\";s:11:\"ajaxHistory\";s:4:\"desc\";s:25:\"pdotools_prop_ajaxHistory\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:3:{i:0;a:2:{s:4:\"text\";s:4:\"Auto\";s:5:\"value\";s:0:\"\";}i:1;a:2:{s:4:\"text\";s:7:\"Enabled\";s:5:\"value\";i:1;}i:2;a:2:{s:4:\"text\";s:8:\"Disabled\";s:5:\"value\";i:0;}}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"frontend_js\";a:7:{s:4:\"name\";s:11:\"frontend_js\";s:4:\"desc\";s:25:\"pdotools_prop_frontend_js\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:31:\"[[+assetsUrl]]js/pdopage.min.js\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"frontend_css\";a:7:{s:4:\"name\";s:12:\"frontend_css\";s:4:\"desc\";s:26:\"pdotools_prop_frontend_css\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:33:\"[[+assetsUrl]]css/pdopage.min.css\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"setMeta\";a:7:{s:4:\"name\";s:7:\"setMeta\";s:4:\"desc\";s:21:\"pdotools_prop_setMeta\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"strictMode\";a:7:{s:4:\"name\";s:10:\"strictMode\";s:4:\"desc\";s:24:\"pdotools_prop_strictMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdopage.php'),
(8,	1,	0,	'pdoMenu',	'',	0,	3,	0,	'/** @var array $scriptProperties */\n\n// Convert parameters from Wayfinder if exists\nif (isset($startId)) {\n    $scriptProperties[\'parents\'] = $startId;\n}\nif (!empty($includeDocs)) {\n    $tmp = array_map(\'trim\', explode(\',\', $includeDocs));\n    foreach ($tmp as $v) {\n        if (!empty($scriptProperties[\'resources\'])) {\n            $scriptProperties[\'resources\'] .= \',\' . $v;\n        } else {\n            $scriptProperties[\'resources\'] = $v;\n        }\n    }\n}\nif (!empty($excludeDocs)) {\n    $tmp = array_map(\'trim\', explode(\',\', $excludeDocs));\n    foreach ($tmp as $v) {\n        if (!empty($scriptProperties[\'resources\'])) {\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\n        } else {\n            $scriptProperties[\'resources\'] = \'-\' . $v;\n        }\n    }\n}\n\nif (!empty($previewUnpublished) && $modx->hasPermission(\'view_unpublished\')) {\n    $scriptProperties[\'showUnpublished\'] = 1;\n}\n\n$scriptProperties[\'depth\'] = empty($level) ? 100 : abs($level) - 1;\nif (!empty($contexts)) {\n    $scriptProperties[\'context\'] = $contexts;\n}\nif (empty($scriptProperties[\'context\'])) {\n    $scriptProperties[\'context\'] = $modx->resource->context_key;\n}\n\n// Save original parents specified by user\n$specified_parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\n\nif ($scriptProperties[\'parents\'] === \'\') {\n    $scriptProperties[\'parents\'] = $modx->resource->id;\n} elseif ($scriptProperties[\'parents\'] === 0 || $scriptProperties[\'parents\'] === \'0\') {\n    if ($scriptProperties[\'depth\'] !== \'\' && $scriptProperties[\'depth\'] !== 100) {\n        $contexts = array_map(\'trim\', explode(\',\', $scriptProperties[\'context\']));\n        $parents = array();\n        if (!empty($scriptProperties[\'showDeleted\'])) {\n            $pdoFetch = $modx->getService(\'pdoFetch\');\n            foreach ($contexts as $ctx) {\n                $parents = array_merge($parents,\n                    $pdoFetch->getChildIds(\'modResource\', 0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\n            }\n        } else {\n            foreach ($contexts as $ctx) {\n                $parents = array_merge($parents,\n                    $modx->getChildIds(0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\n            }\n        }\n        $scriptProperties[\'parents\'] = !empty($parents) ? implode(\',\', $parents) : \'+0\';\n        $scriptProperties[\'depth\'] = 0;\n    }\n    $scriptProperties[\'includeParents\'] = 1;\n    $scriptProperties[\'displayStart\'] = 0;\n} else {\n    $parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\n    $parents_in = $parents_out = array();\n    foreach ($parents as $v) {\n        if (!is_numeric($v)) {\n            continue;\n        }\n        if ($v[0] == \'-\') {\n            $parents_out[] = abs($v);\n        } else {\n            $parents_in[] = abs($v);\n        }\n    }\n\n    if (empty($parents_in)) {\n        $scriptProperties[\'includeParents\'] = 1;\n        $scriptProperties[\'displayStart\'] = 0;\n    }\n}\n\nif (!empty($displayStart)) {\n    $scriptProperties[\'includeParents\'] = 1;\n}\nif (!empty($ph)) {\n    $toPlaceholder = $ph;\n}\nif (!empty($sortOrder)) {\n    $scriptProperties[\'sortdir\'] = $sortOrder;\n}\nif (!empty($sortBy)) {\n    $scriptProperties[\'sortby\'] = $sortBy;\n}\nif (!empty($permissions)) {\n    $scriptProperties[\'checkPermissions\'] = $permissions;\n}\nif (!empty($cacheResults)) {\n    $scriptProperties[\'cache\'] = $cacheResults;\n}\nif (!empty($ignoreHidden)) {\n    $scriptProperties[\'showHidden\'] = $ignoreHidden;\n}\n\n$wfTemplates = array(\n    \'outerTpl\' => \'tplOuter\',\n    \'rowTpl\' => \'tpl\',\n    \'parentRowTpl\' => \'tplParentRow\',\n    \'parentRowHereTpl\' => \'tplParentRowHere\',\n    \'hereTpl\' => \'tplHere\',\n    \'innerTpl\' => \'tplInner\',\n    \'innerRowTpl\' => \'tplInnerRow\',\n    \'innerHereTpl\' => \'tplInnerHere\',\n    \'activeParentRowTpl\' => \'tplParentRowActive\',\n    \'categoryFoldersTpl\' => \'tplCategoryFolder\',\n    \'startItemTpl\' => \'tplStart\',\n);\nforeach ($wfTemplates as $k => $v) {\n    if (isset(${$k})) {\n        $scriptProperties[$v] = ${$k};\n    }\n}\n//---\n\n/** @var pdoMenu $pdoMenu */\n$fqn = $modx->getOption(\'pdoMenu.class\', null, \'pdotools.pdomenu\', true);\n$path = $modx->getOption(\'pdomenu_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoMenu = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoMenu->pdoTools->addTime(\'pdoTools loaded\');\n\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\nif (empty($scriptProperties[\'cache_key\'])) {\n    $scriptProperties[\'cache_key\'] = \'pdomenu/\' . sha1(serialize($scriptProperties));\n}\n\n$output = \'\';\n$tree = array();\nif ($cache) {\n    $tree = $pdoMenu->pdoTools->getCache($scriptProperties);\n}\nif (empty($tree)) {\n    $data = $pdoMenu->pdoTools->run();\n    $data = $pdoMenu->pdoTools->buildTree($data, \'id\', \'parent\', $specified_parents);\n    $tree = array();\n    foreach ($data as $k => $v) {\n        if (empty($v[\'id\'])) {\n            if (!in_array($k, $specified_parents) && !$pdoMenu->checkResource($k)) {\n                continue;\n            } else {\n                $tree = array_merge($tree, $v[\'children\']);\n            }\n        } else {\n            $tree[$k] = $v;\n        }\n    }\n    if ($cache) {\n        $pdoMenu->pdoTools->setCache($tree, $scriptProperties);\n    }\n}\nif (!empty($tree)) {\n    $output = $pdoMenu->templateTree($tree);\n}\n\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $output .= \'<pre class=\"pdoMenuLog\">\' . print_r($pdoMenu->pdoTools->getTime(), 1) . \'</pre>\';\n}\n\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $output);\n} else {\n    return $output;\n}',	0,	'a:51:{s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:21:\"pdotools_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:22:\"pdotools_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"level\";a:7:{s:4:\"name\";s:5:\"level\";s:4:\"desc\";s:19:\"pdotools_prop_level\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:21:\"pdotools_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"displayStart\";a:7:{s:4:\"name\";s:12:\"displayStart\";s:4:\"desc\";s:26:\"pdotools_prop_displayStart\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:23:\"pdotools_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"templates\";a:7:{s:4:\"name\";s:9:\"templates\";s:4:\"desc\";s:23:\"pdotools_prop_templates\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"context\";a:7:{s:4:\"name\";s:7:\"context\";s:4:\"desc\";s:21:\"pdotools_prop_context\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"cache\";a:7:{s:4:\"name\";s:5:\"cache\";s:4:\"desc\";s:19:\"pdotools_prop_cache\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"cacheTime\";a:7:{s:4:\"name\";s:9:\"cacheTime\";s:4:\"desc\";s:23:\"pdotools_prop_cacheTime\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:3600;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"cacheAnonymous\";a:7:{s:4:\"name\";s:14:\"cacheAnonymous\";s:4:\"desc\";s:28:\"pdotools_prop_cacheAnonymous\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"plPrefix\";a:7:{s:4:\"name\";s:8:\"plPrefix\";s:4:\"desc\";s:22:\"pdotools_prop_plPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\"wf.\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:24:\"pdotools_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:29:\"pdotools_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:25:\"pdotools_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:18:\"previewUnpublished\";a:7:{s:4:\"name\";s:18:\"previewUnpublished\";s:4:\"desc\";s:32:\"pdotools_prop_previewUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"hideSubMenus\";a:7:{s:4:\"name\";s:12:\"hideSubMenus\";s:4:\"desc\";s:26:\"pdotools_prop_hideSubMenus\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"useWeblinkUrl\";a:7:{s:4:\"name\";s:13:\"useWeblinkUrl\";s:4:\"desc\";s:27:\"pdotools_prop_useWeblinkUrl\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:21:\"pdotools_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:3:\"ASC\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:20:\"pdotools_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"menuindex\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:19:\"pdotools_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:20:\"pdotools_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"rowIdPrefix\";a:7:{s:4:\"name\";s:11:\"rowIdPrefix\";s:4:\"desc\";s:25:\"pdotools_prop_rowIdPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"firstClass\";a:7:{s:4:\"name\";s:10:\"firstClass\";s:4:\"desc\";s:24:\"pdotools_prop_firstClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:5:\"first\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"lastClass\";a:7:{s:4:\"name\";s:9:\"lastClass\";s:4:\"desc\";s:23:\"pdotools_prop_lastClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:4:\"last\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"hereClass\";a:7:{s:4:\"name\";s:9:\"hereClass\";s:4:\"desc\";s:23:\"pdotools_prop_hereClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:6:\"active\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"parentClass\";a:7:{s:4:\"name\";s:11:\"parentClass\";s:4:\"desc\";s:25:\"pdotools_prop_parentClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"rowClass\";a:7:{s:4:\"name\";s:8:\"rowClass\";s:4:\"desc\";s:22:\"pdotools_prop_rowClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"outerClass\";a:7:{s:4:\"name\";s:10:\"outerClass\";s:4:\"desc\";s:24:\"pdotools_prop_outerClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"innerClass\";a:7:{s:4:\"name\";s:10:\"innerClass\";s:4:\"desc\";s:24:\"pdotools_prop_innerClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"levelClass\";a:7:{s:4:\"name\";s:10:\"levelClass\";s:4:\"desc\";s:24:\"pdotools_prop_levelClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"selfClass\";a:7:{s:4:\"name\";s:9:\"selfClass\";s:4:\"desc\";s:23:\"pdotools_prop_selfClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"webLinkClass\";a:7:{s:4:\"name\";s:12:\"webLinkClass\";s:4:\"desc\";s:26:\"pdotools_prop_webLinkClass\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplOuter\";a:7:{s:4:\"name\";s:8:\"tplOuter\";s:4:\"desc\";s:22:\"pdotools_prop_tplOuter\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:41:\"@INLINE <ul[[+classes]]>[[+wrapper]]</ul>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:17:\"pdotools_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:95:\"@INLINE <li[[+classes]]><a href=\"[[+link]]\" [[+attributes]]>[[+menutitle]]</a>[[+wrapper]]</li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"tplParentRow\";a:7:{s:4:\"name\";s:12:\"tplParentRow\";s:4:\"desc\";s:26:\"pdotools_prop_tplParentRow\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:16:\"tplParentRowHere\";a:7:{s:4:\"name\";s:16:\"tplParentRowHere\";s:4:\"desc\";s:30:\"pdotools_prop_tplParentRowHere\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplHere\";a:7:{s:4:\"name\";s:7:\"tplHere\";s:4:\"desc\";s:21:\"pdotools_prop_tplHere\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplInner\";a:7:{s:4:\"name\";s:8:\"tplInner\";s:4:\"desc\";s:22:\"pdotools_prop_tplInner\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplInnerRow\";a:7:{s:4:\"name\";s:11:\"tplInnerRow\";s:4:\"desc\";s:25:\"pdotools_prop_tplInnerRow\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"tplInnerHere\";a:7:{s:4:\"name\";s:12:\"tplInnerHere\";s:4:\"desc\";s:26:\"pdotools_prop_tplInnerHere\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:18:\"tplParentRowActive\";a:7:{s:4:\"name\";s:18:\"tplParentRowActive\";s:4:\"desc\";s:32:\"pdotools_prop_tplParentRowActive\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:17:\"tplCategoryFolder\";a:7:{s:4:\"name\";s:17:\"tplCategoryFolder\";s:4:\"desc\";s:31:\"pdotools_prop_tplCategoryFolder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplStart\";a:7:{s:4:\"name\";s:8:\"tplStart\";s:4:\"desc\";s:22:\"pdotools_prop_tplStart\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:55:\"@INLINE <h2[[+classes]]>[[+menutitle]]</h2>[[+wrapper]]\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:16:\"checkPermissions\";a:7:{s:4:\"name\";s:16:\"checkPermissions\";s:4:\"desc\";s:30:\"pdotools_prop_checkPermissions\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"hereId\";a:7:{s:4:\"name\";s:6:\"hereId\";s:4:\"desc\";s:20:\"pdotools_prop_hereId\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:19:\"pdotools_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"select\";a:7:{s:4:\"name\";s:6:\"select\";s:4:\"desc\";s:20:\"pdotools_prop_select\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"scheme\";a:7:{s:4:\"name\";s:6:\"scheme\";s:4:\"desc\";s:20:\"pdotools_prop_scheme\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:6:{i:0;a:2:{s:5:\"value\";s:0:\"\";s:4:\"text\";s:14:\"System default\";}i:1;a:2:{s:5:\"value\";i:-1;s:4:\"text\";s:25:\"-1 (relative to site_url)\";}i:2;a:2:{s:5:\"value\";s:4:\"full\";s:4:\"text\";s:40:\"full (absolute, prepended with site_url)\";}i:3;a:2:{s:5:\"value\";s:3:\"abs\";s:4:\"text\";s:39:\"abs (absolute, prepended with base_url)\";}i:4;a:2:{s:5:\"value\";s:4:\"http\";s:4:\"text\";s:38:\"http (absolute, forced to http scheme)\";}i:5;a:2:{s:5:\"value\";s:5:\"https\";s:4:\"text\";s:40:\"https (absolute, forced to https scheme)\";}}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"countChildren\";a:7:{s:4:\"name\";s:13:\"countChildren\";s:4:\"desc\";s:27:\"pdotools_prop_countChildren\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdomenu.php'),
(9,	1,	0,	'pdoTitle',	'',	0,	3,	0,	'/** @var array $scriptProperties */\nif (empty($outputSeparator)) {\n    $outputSeparator = \' / \';\n}\nif (empty($titleField)) {\n    $titleField = \'longtitle\';\n}\nif (!isset($pageVarKey)) {\n    $pageVarKey = \'page\';\n}\nif (!isset($queryVarKey)) {\n    $queryVarKey = \'query\';\n}\nif (empty($tplPages)) {\n    $tplPages = \'@INLINE [[%pdopage_page]] [[+page]] [[%pdopage_from]] [[+pageCount]]\';\n}\nif (empty($tplSearch)) {\n    $tplSearch = \'@INLINE «[[+mse2_query]]»\';\n}\nif (empty($minQuery)) {\n    $minQuery = 3;\n}\nif (empty($id)) {\n    $id = $modx->resource->id;\n}\nif (empty($cacheKey)) {\n    $cacheKey = \'title_crumbs\';\n}\nif (!isset($cacheTime)) {\n    $cacheTime = 0;\n}\n/** @var pdoTools $pdoTools */\n$fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdotools\', true);\n$path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoTools = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$modx->lexicon->load(\'pdotools:pdopage\');\n\n/** @var modResource $resource */\n$resource = ($id == $modx->resource->id)\n    ? $modx->resource\n    : $modx->getObject(\'modResource\', $id);\nif (!$resource) {\n    return \'\';\n}\n\n$title = array();\n$pagetitle = trim($resource->get($titleField));\nif (empty($pagetitle)) {\n    $pagetitle = $resource->get(\'pagetitle\');\n}\n\n// Add search request if exists\nif (!empty($_GET[$queryVarKey]) && strlen($_GET[$queryVarKey]) >= $minQuery && !empty($tplSearch)) {\n    $pagetitle .= \' \' . $pdoTools->getChunk($tplSearch, array(\n            $queryVarKey => $modx->stripTags($_GET[$queryVarKey]),\n        ));\n}\n$title[] = $pagetitle;\n\n// Add pagination if exists\nif (!empty($_GET[$pageVarKey]) && !empty($tplPages)) {\n    $title[] = $pdoTools->getChunk($tplPages, array(\n        \'page\' => intval($_GET[$pageVarKey]),\n    ));\n}\n\n// Add parents\n$cacheKey = $resource->getCacheKey() . \'/\' . $cacheKey;\n$cacheOptions = array(\'cache_key\' => $modx->getOption(\'cache_resource_key\', null, \'resource\'));\n$crumbs = \'\';\nif (empty($cache) || !$crumbs = $modx->cacheManager->get($cacheKey, $cacheOptions)) {\n    $crumbs = $pdoTools->runSnippet(\'pdoCrumbs\', array_merge(\n        array(\n            \'to\' => $resource->id,\n            \'outputSeparator\' => $outputSeparator,\n            \'showHome\' => 0,\n            \'showAtHome\' => 0,\n            \'showCurrent\' => 0,\n            \'direction\' => \'rtl\',\n            \'tpl\' => \'@INLINE [[+menutitle]]\',\n            \'tplCurrent\' => \'@INLINE [[+menutitle]]\',\n            \'tplWrapper\' => \'@INLINE [[+output]]\',\n            \'tplMax\' => \'\',\n            \'tplHome\' => \'\',\n        ), $scriptProperties\n    ));\n}\nif (!empty($crumbs)) {\n    if (!empty($cache)) {\n        $modx->cacheManager->set($cacheKey, $crumbs, $cacheTime, $cacheOptions);\n    }\n    $title[] = $crumbs;\n}\n\nif (!empty($registerJs)) {\n    $config = array(\n        \'separator\' => $outputSeparator,\n        \'tpl\' => str_replace(array(\'[[+\', \']]\'), array(\'{\', \'}\'), $pdoTools->getChunk($tplPages)),\n    );\n    $modx->regClientStartupScript(\'<script type=\"text/javascript\">pdoTitle = \' . json_encode($config) . \';</script>\',\n        true);\n}\n\nreturn implode($outputSeparator, $title);',	0,	'a:13:{s:2:\"id\";a:7:{s:4:\"name\";s:2:\"id\";s:4:\"desc\";s:16:\"pdotools_prop_id\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"exclude\";a:7:{s:4:\"name\";s:7:\"exclude\";s:4:\"desc\";s:21:\"pdotools_prop_exclude\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:25:\"pdotools_prop_title_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:3;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"titleField\";a:7:{s:4:\"name\";s:10:\"titleField\";s:4:\"desc\";s:24:\"pdotools_prop_titleField\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"longtitle\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"cache\";a:7:{s:4:\"name\";s:5:\"cache\";s:4:\"desc\";s:25:\"pdotools_prop_title_cache\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"cacheTime\";a:7:{s:4:\"name\";s:9:\"cacheTime\";s:4:\"desc\";s:23:\"pdotools_prop_cacheTime\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplPages\";a:7:{s:4:\"name\";s:8:\"tplPages\";s:4:\"desc\";s:22:\"pdotools_prop_tplPages\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:68:\"@INLINE [[%pdopage_page]] [[+page]] [[%pdopage_from]] [[+pageCount]]\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"pageVarKey\";a:7:{s:4:\"name\";s:10:\"pageVarKey\";s:4:\"desc\";s:24:\"pdotools_prop_pageVarKey\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:4:\"page\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"tplSearch\";a:7:{s:4:\"name\";s:9:\"tplSearch\";s:4:\"desc\";s:23:\"pdotools_prop_tplSearch\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:27:\"@INLINE «[[+mse2_query]]»\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"queryVarKey\";a:7:{s:4:\"name\";s:11:\"queryVarKey\";s:4:\"desc\";s:25:\"pdotools_prop_queryVarKey\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:5:\"query\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"minQuery\";a:7:{s:4:\"name\";s:8:\"minQuery\";s:4:\"desc\";s:22:\"pdotools_prop_minQuery\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:3;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:35:\"pdotools_prop_title_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\" / \";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"registerJs\";a:7:{s:4:\"name\";s:10:\"registerJs\";s:4:\"desc\";s:24:\"pdotools_prop_registerJs\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdotitle.php'),
(10,	1,	0,	'pdoArchive',	'',	0,	3,	0,	'$modx->lexicon->load(\'pdotools:pdoarchive\');\n\n/** @var array $scriptProperties */\n$tplWrapper = $modx->getOption(\'tplWrapper\', $scriptProperties);\n$tplYear = $modx->getOption(\'tplYear\', $scriptProperties);\n$tplMonth = $modx->getOption(\'tplMonth\', $scriptProperties);\n$tplDay = $modx->getOption(\'tplDay\', $scriptProperties);\n$tpl = $modx->getOption(\'tpl\', $scriptProperties);\n$dateField = $modx->getOption(\'dateField\', $scriptProperties, \'createdon\', true);\n$dateFormat = $modx->getOption(\'dateFormat\', $scriptProperties, \'H:i\', true);\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \"\\n\");\n\n// Adding extra parameters into special place so we can put them in a results\n/** @var modSnippet $snippet */\n$additionalPlaceholders = $properties = array();\nif (isset($this) && $this instanceof modSnippet) {\n    $properties = $this->get(\'properties\');\n} elseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {\n    $properties = $snippet->get(\'properties\');\n}\nif (!empty($properties)) {\n    foreach ($scriptProperties as $k => $v) {\n        if (!isset($properties[$k])) {\n            $additionalPlaceholders[$k] = $v;\n        }\n    }\n}\n$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;\nif (isset($parents) && $parents === \'\') {\n    $scriptProperties[\'parents\'] = $modx->resource->id;\n}\n$scriptProperties[\'return\'] = \'data\';\n/** @var pdoFetch $pdoFetch */\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\n} else {\n    return false;\n}\n$pdoFetch->addTime(\'pdoTools loaded\');\n$rows = $pdoFetch->run();\n\n// Process rows\n$tree = array();\nforeach ($rows as $row) {\n    $tmp = $row[$dateField];\n    if (!is_numeric($tmp)) {\n        $tmp = strtotime($tmp);\n    }\n    $year = date(\'Y\', $tmp);\n    $month = date(\'m\', $tmp);\n    $day = date(\'d\', $tmp);\n    $tree[$year][$month][$day][] = $row;\n}\n\n$output = \'\';\nforeach ($tree as $year => $months) {\n    $rows_year = \'\';\n    $count_year = 0;\n\n    foreach ($months as $month => $days) {\n        $rows_month = \'\';\n        $count_month = 0;\n\n        foreach ($days as $day => $resources) {\n            $rows_day = array();\n            $count_day = 0;\n            $idx = 1;\n\n            foreach ($resources as $resource) {\n                $resource[\'day\'] = $day;\n                $resource[\'month\'] = $month;\n                $resource[\'year\'] = $year;\n                $resource[\'date\'] = strftime($dateFormat, $resource[$dateField]);\n                $resource[\'idx\'] = $idx++;\n                $resource[\'menutitle\'] = !empty($resource[\'menutitle\'])\n                    ? $resource[\'menutitle\']\n                    : $resource[\'pagetitle\'];\n                // Add placeholder [[+link]] if specified\n                if (!empty($scriptProperties[\'useWeblinkUrl\'])) {\n                    if (!isset($resource[\'context_key\'])) {\n                        $resource[\'context_key\'] = \'\';\n                    }\n                    if (isset($resource[\'class_key\']) && ($resource[\'class_key\'] == \'modWebLink\')) {\n                        $resource[\'link\'] = isset($resource[\'content\']) && is_numeric(trim($resource[\'content\'], \'[]~ \'))\n                            ? $pdoFetch->makeUrl(intval(trim($resource[\'content\'], \'[]~ \')), $resource)\n                            : (isset($resource[\'content\']) ? $resource[\'content\'] : \'\');\n                    } else {\n                        $resource[\'link\'] = $pdoFetch->makeUrl($resource[\'id\'], $resource);\n                    }\n                } else {\n                    $resource[\'link\'] = \'\';\n                }\n                $tpl = $pdoFetch->defineChunk($resource);\n                $rows_day[] = $pdoFetch->getChunk($tpl, $resource);\n                $count_year++;\n                $count_month++;\n                $count_day++;\n            }\n\n            $rows_month .= !empty($tplDay)\n                ? $pdoFetch->getChunk($tplDay, array(\n                    \'day\' => $day,\n                    \'month\' => $month,\n                    \'year\' => $year,\n                    \'count\' => $count_day,\n                    \'wrapper\' => implode($outputSeparator, $rows_day),\n                ), $pdoFetch->config[\'fastMode\'])\n                : implode($outputSeparator, $rows_day);\n        }\n\n        $rows_year .= !empty($tplMonth)\n            ? $pdoFetch->getChunk($tplMonth, array(\n                \'month\' => $month,\n                \'month_name\' => $modx->lexicon(\'pdoarchive_month_\' . $month),\n                \'year\' => $year,\n                \'count\' => $count_month,\n                \'wrapper\' => $rows_month,\n            ), $pdoFetch->config[\'fastMode\'])\n            : $rows_month;\n    }\n\n    $output .= !empty($tplYear)\n        ? $pdoFetch->getChunk($tplYear, array(\n            \'year\' => $year,\n            \'count\' => $count_year,\n            \'wrapper\' => $rows_year,\n        ), $pdoFetch->config[\'fastMode\'])\n        : $rows_year;\n}\n$pdoFetch->addTime(\'Rows processed\');\n\n// Return output\nif (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\n    $output = $pdoFetch->getChunk(\n        $tplWrapper,\n        array_merge($additionalPlaceholders, array(\'output\' => $output)),\n        $pdoFetch->config[\'fastMode\']\n    );\n    $pdoFetch->addTime(\'Rows wrapped\');\n}\n\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $output .= \'<pre class=\"pdoArchiveLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $output);\n} else {\n    return $output;\n}',	0,	'a:36:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:17:\"pdotools_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:65:\"@INLINE <li>[[+date]] <a href=\"[[+link]]\">[[+menutitle]]</a></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplYear\";a:7:{s:4:\"name\";s:7:\"tplYear\";s:4:\"desc\";s:21:\"pdotools_prop_tplYear\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:71:\"@INLINE <h3>[[+year]] <sup>([[+count]])</sup></h3><ul>[[+wrapper]]</ul>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplMonth\";a:7:{s:4:\"name\";s:8:\"tplMonth\";s:4:\"desc\";s:22:\"pdotools_prop_tplMonth\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:86:\"@INLINE <li><h4>[[+month_name]] <sup>([[+count]])</sup></h4><ul>[[+wrapper]]</ul></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"tplDay\";a:7:{s:4:\"name\";s:6:\"tplDay\";s:4:\"desc\";s:20:\"pdotools_prop_tplDay\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:79:\"@INLINE <li><h5>[[+day]] <sup>([[+count]])</sup></h5><ul>[[+wrapper]]</ul></li>\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplWrapper\";a:7:{s:4:\"name\";s:10:\"tplWrapper\";s:4:\"desc\";s:24:\"pdotools_prop_tplWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"wrapIfEmpty\";a:7:{s:4:\"name\";s:11:\"wrapIfEmpty\";s:4:\"desc\";s:25:\"pdotools_prop_wrapIfEmpty\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"dateField\";a:7:{s:4:\"name\";s:9:\"dateField\";s:4:\"desc\";s:23:\"pdotools_prop_dateField\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"createdon\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"dateFormat\";a:7:{s:4:\"name\";s:10:\"dateFormat\";s:4:\"desc\";s:24:\"pdotools_prop_dateFormat\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:5:\"%H:%M\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:21:\"pdotools_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:20:\"pdotools_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"createdon\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"sortbyTV\";a:7:{s:4:\"name\";s:8:\"sortbyTV\";s:4:\"desc\";s:22:\"pdotools_prop_sortbyTV\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:12:\"sortbyTVType\";a:7:{s:4:\"name\";s:12:\"sortbyTVType\";s:4:\"desc\";s:26:\"pdotools_prop_sortbyTVType\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:21:\"pdotools_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:4:\"DESC\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"sortdirTV\";a:7:{s:4:\"name\";s:9:\"sortdirTV\";s:4:\"desc\";s:23:\"pdotools_prop_sortdirTV\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:3:\"ASC\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:19:\"pdotools_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:20:\"pdotools_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:19:\"pdotools_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:29:\"pdotools_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:27:\"pdotools_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:21:\"pdotools_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"includeContent\";a:7:{s:4:\"name\";s:14:\"includeContent\";s:4:\"desc\";s:28:\"pdotools_prop_includeContent\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:24:\"pdotools_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"prepareTVs\";a:7:{s:4:\"name\";s:10:\"prepareTVs\";s:4:\"desc\";s:24:\"pdotools_prop_prepareTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"1\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"processTVs\";a:7:{s:4:\"name\";s:10:\"processTVs\";s:4:\"desc\";s:24:\"pdotools_prop_processTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tvPrefix\";a:7:{s:4:\"name\";s:8:\"tvPrefix\";s:4:\"desc\";s:22:\"pdotools_prop_tvPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:3:\"tv.\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:19:\"pdotools_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:29:\"pdotools_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:25:\"pdotools_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:24:\"pdotools_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:14:\"hideContainers\";a:7:{s:4:\"name\";s:14:\"hideContainers\";s:4:\"desc\";s:28:\"pdotools_prop_hideContainers\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:7:\"context\";a:7:{s:4:\"name\";s:7:\"context\";s:4:\"desc\";s:21:\"pdotools_prop_context\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:8:\"totalVar\";a:7:{s:4:\"name\";s:8:\"totalVar\";s:4:\"desc\";s:22:\"pdotools_prop_totalVar\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:5:\"total\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:23:\"pdotools_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"select\";a:7:{s:4:\"name\";s:6:\"select\";s:4:\"desc\";s:20:\"pdotools_prop_select\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:6:\"scheme\";a:7:{s:4:\"name\";s:6:\"scheme\";s:4:\"desc\";s:20:\"pdotools_prop_scheme\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:6:{i:0;a:2:{s:5:\"value\";s:0:\"\";s:4:\"text\";s:14:\"System default\";}i:1;a:2:{s:5:\"value\";i:-1;s:4:\"text\";s:25:\"-1 (relative to site_url)\";}i:2;a:2:{s:5:\"value\";s:4:\"full\";s:4:\"text\";s:40:\"full (absolute, prepended with site_url)\";}i:3;a:2:{s:5:\"value\";s:3:\"abs\";s:4:\"text\";s:39:\"abs (absolute, prepended with base_url)\";}i:4;a:2:{s:5:\"value\";s:4:\"http\";s:4:\"text\";s:38:\"http (absolute, forced to http scheme)\";}i:5;a:2:{s:5:\"value\";s:5:\"https\";s:4:\"text\";s:40:\"https (absolute, forced to https scheme)\";}}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}s:13:\"useWeblinkUrl\";a:7:{s:4:\"name\";s:13:\"useWeblinkUrl\";s:4:\"desc\";s:27:\"pdotools_prop_useWeblinkUrl\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:19:\"pdotools:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/pdotools/elements/snippets/snippet.pdoarchive.php'),
(11,	1,	0,	'TicketForm',	'',	0,	4,	0,	'/** @var array $scriptProperties */\n/** @var Tickets $Tickets */\n$Tickets = $modx->getService(\'tickets\', \'Tickets\', $modx->getOption(\'tickets.core_path\', null,\n        $modx->getOption(\'core_path\') . \'components/tickets/\') . \'model/tickets/\', $scriptProperties);\n$Tickets->initialize($modx->context->key, $scriptProperties);\n\nif (!$Tickets->authenticated) {\n    return $modx->lexicon(\'ticket_err_no_auth\');\n}\n\n$tplSectionRow = $modx->getOption(\'tplSectionRow\', $scriptProperties, \'tpl.Tickets.sections.row\');\n$tplFormCreate = $modx->getOption(\'tplFormCreate\', $scriptProperties, \'tpl.Tickets.form.create\');\n$tplFormUpdate = $modx->getOption(\'tplFormUpdate\', $scriptProperties, \'tpl.Tickets.form.update\');\n$tplFiles = $modx->getOption(\'tplFiles\', $scriptProperties, \'tpl.Tickets.form.files\');\n$tplFile = $Tickets->config[\'tplFile\'] = $modx->getOption(\'tplFile\', $scriptProperties, \'tpl.Tickets.form.file\', true);\n$tplImage = $Tickets->config[\'tplImage\'] = $modx->getOption(\'tplImage\', $scriptProperties, \'tpl.Tickets.form.image\',\n    true);\nif (empty($source)) {\n    $source = $Tickets->config[\'source\'] = $modx->getOption(\'tickets.source_default\', null,\n        $modx->getOption(\'default_media_source\'));\n}\n$tid = !empty($_REQUEST[\'tid\'])\n    ? (int)$_REQUEST[\'tid\']\n    : 0;\n$parent = !empty($_REQUEST[\'parent\'])\n    ? $_REQUEST[\'parent\']\n    : \'\';\n$data = array();\n\n// Update of ticket\nif (!empty($tid)) {\n    $tplWrapper = $tplFormUpdate;\n    /** @var Ticket $ticket */\n    if ($ticket = $modx->getObject(\'Ticket\', array(\'class_key\' => \'Ticket\', \'id\' => $tid))) {\n        if ($ticket->get(\'createdby\') != $modx->user->id && !$modx->hasPermission(\'edit_document\')) {\n            return $modx->lexicon(\'ticket_err_wrong_user\');\n        }\n        $charset = $modx->getOption(\'modx_charset\');\n        $allowedFields = array_map(\'trim\', explode(\',\', $scriptProperties[\'allowedFields\']));\n        $allowedFields = array_unique(array_merge($allowedFields, array(\'parent\', \'pagetitle\', \'content\')));\n\n        $fields = array_keys($modx->getFieldMeta(\'Ticket\'));\n        foreach ($allowedFields as $field) {\n            $value = in_array($field, $fields)\n                ? $ticket->get($field)\n                : $ticket->getTVValue($field);\n            if (is_string($value)) {\n                $value = html_entity_decode($value, ENT_QUOTES, $charset);\n                $value = str_replace(\n                    array(\'[^\', \'^]\', \'[\', \']\', \'{\', \'}\'),\n                    array(\'&#91;^\', \'^&#93;\', \'*(*(*(*(*(*\', \'*)*)*)*)*)*\', \'~(~(~(~(~(~\', \'~)~)~)~)~)~\'),\n                    $value\n                );\n                $value = htmlentities($value, ENT_QUOTES, $charset);\n            }\n            $data[$field] = $value;\n        }\n        $data[\'id\'] = $ticket->id;\n        $data[\'published\'] = $ticket->published;\n        if (empty($parent)) {\n            $parent = $ticket->get(\'parent\');\n        }\n    } else {\n        return $modx->lexicon(\'ticket_err_id\', array(\'id\' => $tid));\n    }\n} else {\n    $tplWrapper = $tplFormCreate;\n}\n\n// Get available sections for ticket create\n$data[\'sections\'] = \'\';\n/** @var modProcessorResponse $response */\n$response = $Tickets->runProcessor(\'web/section/getlist\', array(\n    \'parents\' => $scriptProperties[\'parents\'],\n    \'resources\' => $scriptProperties[\'resources\'],\n    \'sortby\' => !empty($scriptProperties[\'sortby\'])\n        ? $scriptProperties[\'sortby\']\n        : \'pagetitle\',\n    \'sortdir\' => !empty($scriptProperties[\'sortdir\'])\n        ? $scriptProperties[\'sortdir\']\n        : \'asc\',\n    \'depth\' => isset($scriptProperties[\'depth\'])\n        ? $scriptProperties[\'depth\']\n        : 0,\n    \'context\' => !empty($scriptProperties[\'context\'])\n        ? $scriptProperties[\'context\']\n        : $modx->context->key,\n    \'limit\' => 0,\n));\n$response = json_decode($response->getResponse(), true);\n\nif (!empty($response[\'results\'])) {\n    $Tickets->config[\'sections\'] = array();\n    foreach ($response[\'results\'] as $v) {\n        $v[\'selected\'] = $parent == $v[\'id\'] || $parent == $v[\'alias\']\n            ? \'selected\'\n            : \'\';\n        $data[\'sections\'] .= $Tickets->getChunk($tplSectionRow, $v);\n        $Tickets->config[\'sections\'][] = $v[\'id\'];\n    }\n}\n\nif (!empty($allowFiles)) {\n    $q = $modx->newQuery(\'TicketFile\');\n    $q->where(array(\'class\' => \'Ticket\'));\n    $q->andCondition(array(\'parent\' => 0, \'createdby\' => $modx->user->id), null, 1);\n    if (!empty($tid)) {\n        $q->orCondition(array(\'parent\' => $tid), null, 1);\n    }\n    $q->sortby(\'createdon\', \'ASC\');\n    $collection = $modx->getIterator(\'TicketFile\', $q);\n    $files = \'\';\n    /** @var TicketFile $item */\n    foreach ($collection as $item) {\n        if ($item->get(\'deleted\') && !$item->get(\'parent\')) {\n            $item->remove();\n        } else {\n            $item = $item->toArray();\n            $item[\'size\'] = round($item[\'size\'] / 1024, 2);\n            $item[\'new\'] = empty($item[\'parent\']);\n            $tpl = $item[\'type\'] == \'image\'\n                ? $tplImage\n                : $tplFile;\n            $files .= $Tickets->getChunk($tpl, $item);\n        }\n    }\n    $data[\'files\'] = $Tickets->getChunk($tplFiles, array(\n        \'files\' => $files,\n    ));\n    /** @var modMediaSource $source */\n    if ($source = $modx->getObject(\'sources.modMediaSource\', $source)) {\n        $properties = $source->getPropertyList();\n        $config = array(\n            \'size\' => !empty($properties[\'maxUploadSize\'])\n                ? $properties[\'maxUploadSize\']\n                : 3145728,\n            \'height\' => !empty($properties[\'maxUploadHeight\'])\n                ? $properties[\'maxUploadHeight\']\n                : 1080,\n            \'width\' => !empty($properties[\'maxUploadWidth\'])\n                ? $properties[\'maxUploadWidth\']\n                : 1920,\n            \'extensions\' => !empty($properties[\'allowedFileTypes\'])\n                ? $properties[\'allowedFileTypes\']\n                : \'jpg,jpeg,png,gif\',\n        );\n        $modx->regClientStartupScript(\'<script type=\"text/javascript\">TicketsConfig.source=\' . json_encode($config) . \';</script>\',\n            true);\n    }\n    $modx->regClientScript($Tickets->config[\'jsUrl\'] . \'web/lib/plupload/plupload.full.min.js\');\n    $modx->regClientScript($Tickets->config[\'jsUrl\'] . \'web/files.js\');\n\n    $lang = $modx->getOption(\'cultureKey\');\n    if ($lang != \'en\' && file_exists($Tickets->config[\'jsPath\'] . \'web/lib/plupload/i18n/\' . $lang . \'.js\')) {\n        $modx->regClientScript($Tickets->config[\'jsUrl\'] . \'web/lib/plupload/i18n/\' . $lang . \'.js\');\n    }\n}\n\n$output = $Tickets->getChunk($tplWrapper, $data);\n$key = md5(json_encode($Tickets->config));\n$_SESSION[\'TicketForm\'][$key] = $Tickets->config;\n$output = str_ireplace(\'</form>\',\n    \"\\n<input type=\\\"hidden\\\" name=\\\"form_key\\\" value=\\\"{$key}\\\" class=\\\"disable-sisyphus\\\" />\\n</form>\", $output);\n\nreturn $output;',	0,	'a:20:{s:13:\"tplFormCreate\";a:7:{s:4:\"name\";s:13:\"tplFormCreate\";s:4:\"desc\";s:26:\"tickets_prop_tplFormCreate\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:23:\"tpl.Tickets.form.create\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"tplFormUpdate\";a:7:{s:4:\"name\";s:13:\"tplFormUpdate\";s:4:\"desc\";s:26:\"tickets_prop_tplFormUpdate\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:23:\"tpl.Tickets.form.update\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplPreview\";a:7:{s:4:\"name\";s:10:\"tplPreview\";s:4:\"desc\";s:23:\"tickets_prop_tplPreview\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:24:\"tpl.Tickets.form.preview\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"tplSectionRow\";a:7:{s:4:\"name\";s:13:\"tplSectionRow\";s:4:\"desc\";s:26:\"tickets_prop_tplSectionRow\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:69:\"@INLINE <option value=\"[[+id]]\" [[+selected]]>[[+pagetitle]]</option>\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:17:\"tplTicketEmailBcc\";a:7:{s:4:\"name\";s:17:\"tplTicketEmailBcc\";s:4:\"desc\";s:30:\"tickets_prop_tplTicketEmailBcc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:28:\"tpl.Tickets.ticket.email.bcc\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:26:\"tplTicketEmailSubscription\";a:7:{s:4:\"name\";s:26:\"tplTicketEmailSubscription\";s:4:\"desc\";s:39:\"tickets_prop_tplTicketEmailSubscription\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:37:\"tpl.Tickets.ticket.email.subscription\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"allowedFields\";a:7:{s:4:\"name\";s:13:\"allowedFields\";s:4:\"desc\";s:26:\"tickets_prop_allowedFields\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:24:\"parent,pagetitle,content\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"requiredFields\";a:7:{s:4:\"name\";s:14:\"requiredFields\";s:4:\"desc\";s:27:\"tickets_prop_requiredFields\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:24:\"parent,pagetitle,content\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:12:\"bypassFields\";a:7:{s:4:\"name\";s:12:\"bypassFields\";s:4:\"desc\";s:25:\"tickets_prop_bypassFields\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:19:\"redirectUnpublished\";a:7:{s:4:\"name\";s:19:\"redirectUnpublished\";s:4:\"desc\";s:32:\"tickets_prop_redirectUnpublished\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:29:\"tickets_prop_sections_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:31:\"tickets_prop_sections_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:28:\"tickets_prop_sections_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"pagetitle\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:29:\"tickets_prop_sections_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:3:\"ASC\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"context\";a:7:{s:4:\"name\";s:7:\"context\";s:4:\"desc\";s:29:\"tickets_prop_sections_context\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"allowFiles\";a:7:{s:4:\"name\";s:10:\"allowFiles\";s:4:\"desc\";s:23:\"tickets_prop_allowFiles\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"source\";a:7:{s:4:\"name\";s:6:\"source\";s:4:\"desc\";s:19:\"tickets_prop_source\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplFiles\";a:7:{s:4:\"name\";s:8:\"tplFiles\";s:4:\"desc\";s:21:\"tickets_prop_tplFiles\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:22:\"tpl.Tickets.form.files\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplFile\";a:7:{s:4:\"name\";s:7:\"tplFile\";s:4:\"desc\";s:20:\"tickets_prop_tplFile\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:21:\"tpl.Tickets.form.file\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tplImage\";a:7:{s:4:\"name\";s:8:\"tplImage\";s:4:\"desc\";s:21:\"tickets_prop_tplImage\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:22:\"tpl.Tickets.form.image\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.ticket_form.php'),
(12,	1,	0,	'TicketComments',	'',	0,	4,	0,	'/** @var array $scriptProperties */\nif (empty($thread)) {\n    $scriptProperties[\'thread\'] = $modx->getOption(\'thread\', $scriptProperties, \'resource-\' . $modx->resource->id,\n        true);\n}\n$scriptProperties[\'resource\'] = $modx->resource->get(\'id\');\n$scriptProperties[\'snippetPrepareComment\'] = $modx->getOption(\'tickets.snippet_prepare_comment\');\n$scriptProperties[\'commentEditTime\'] = $modx->getOption(\'tickets.comment_edit_time\', null, 180);\n\n$depth = $modx->getOption(\'depth\', $scriptProperties, 0);\n$tplComments = $modx->getOption(\'tplComments\', $scriptProperties, \'tpl.Tickets.comment.wrapper\');\n$tplCommentForm = $modx->getOption(\'tplCommentForm\', $scriptProperties, \'tpl.Tickets.comment.form\');\n$tplCommentFormGuest = $modx->getOption(\'tplCommentFormGuest\', $scriptProperties, \'tpl.Tickets.comment.form.guest\');\n$tplCommentAuth = $modx->getOption(\'tplCommentAuth\', $scriptProperties, \'tpl.Tickets.comment.one.auth\');\n$tplCommentGuest = $modx->getOption(\'tplCommentGuest\', $scriptProperties, \'tpl.Tickets.comment.one.guest\');\n$tplLoginToComment = $modx->getOption(\'tplLoginToComment\', $scriptProperties, \'tpl.Tickets.comment.login\');\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \"\\n\");\n\n/** @var Tickets $Tickets */\n$Tickets = $modx->getService(\'tickets\', \'Tickets\', $modx->getOption(\'tickets.core_path\', null,\n        $modx->getOption(\'core_path\') . \'components/tickets/\') . \'model/tickets/\', $scriptProperties);\n$Tickets->initialize($modx->context->key, $scriptProperties);\n\n/** @var pdoFetch $pdoFetch */\n$pdoFetch = $modx->getService(\'pdoFetch\');\n$pdoFetch->setConfig($scriptProperties);\n$pdoFetch->addTime(\'pdoTools loaded\');\n\n// Prepare Ticket Thread\n/** @var TicketThread $thread */\nif (!$thread = $modx->getObject(\'TicketThread\', array(\'name\' => $scriptProperties[\'thread\']))) {\n    $thread = $modx->newObject(\'TicketThread\');\n    $thread->fromArray(array(\n        \'name\' => $scriptProperties[\'thread\'],\n        \'resource\' => $modx->resource->get(\'id\'),\n        \'createdby\' => $modx->user->id,\n        \'createdon\' => date(\'Y-m-d H:i:s\'),\n        \'subscribers\' => array($modx->resource->get(\'createdby\')),\n    ));\n} elseif ($thread->get(\'deleted\')) {\n    return $modx->lexicon(\'ticket_thread_err_deleted\');\n}\n// Prepare session for guests\nif (!empty($allowGuest) && !isset($_SESSION[\'TicketComments\'])) {\n    $_SESSION[\'TicketComments\'] = array(\'name\' => \'\', \'email\' => \'\', \'ids\' => array());\n}\n\n// Migrate authors to subscription system\nif (!is_array($thread->get(\'subscribers\'))) {\n    $thread->set(\'subscribers\', array($modx->resource->get(\'createdby\')));\n}\n$thread->set(\'resource\', $modx->resource->get(\'id\'));\n$thread->set(\'properties\', $scriptProperties);\n$thread->save();\n\n$ratings = array();\n/** @var Ticket $ticket */\nif ($ticket = $thread->getOne(\'Ticket\')) {\n    /** @var TicketsSection $section */\n    if ($section = $ticket->getOne(\'Section\')) {\n        $ratings = $section->getProperties(\'ratings\');\n    }\n}\n\n// Prepare query to db\n$class = \'TicketComment\';\n$where = array();\nif (empty($showUnpublished)) {\n    $where[\'published\'] = 1;\n}\n\n// Joining tables\n$innerJoin = array(\n    \'Thread\' => array(\n        \'class\' => \'TicketThread\',\n        \'on\' => \'`Thread`.`id` = `TicketComment`.`thread` AND `Thread`.`name` = \"\' . $thread->get(\'name\') . \'\"\',\n    ),\n);\n$leftJoin = array(\n    \'User\' => array(\'class\' => \'modUser\', \'on\' => \'`User`.`id` = `TicketComment`.`createdby`\'),\n    \'Profile\' => array(\'class\' => \'modUserProfile\', \'on\' => \'`Profile`.`internalKey` = `TicketComment`.`createdby`\'),\n);\nif ($Tickets->authenticated) {\n    $leftJoin[\'Vote\'] = array(\n        \'class\' => \'TicketVote\',\n        \'on\' => \'`Vote`.`id` = `TicketComment`.`id` AND `Vote`.`class` = \"TicketComment\" AND `Vote`.`createdby` = \' . $modx->user->id,\n    );\n    $leftJoin[\'Star\'] = array(\n        \'class\' => \'TicketStar\',\n        \'on\' => \'`Star`.`id` = `TicketComment`.`id` AND `Star`.`class` = \"TicketComment\" AND `Star`.`createdby` = \' . $modx->user->id,\n    );\n}\n// Fields to select\n$select = array(\n    \'TicketComment\' => $modx->getSelectColumns(\'TicketComment\', \'TicketComment\', \'\', array(\'raw\'), true) .\n        \', `parent` as `new_parent`\',\n    \'Thread\' => \'`Thread`.`resource`\',\n    \'User\' => \'`User`.`username`\',\n    \'Profile\' => $modx->getSelectColumns(\'modUserProfile\', \'Profile\', \'\', array(\'id\', \'email\'),\n            true) . \',`Profile`.`email` as `user_email`\',\n);\nif ($Tickets->authenticated) {\n    $select[\'Vote\'] = \'`Vote`.`value` as `vote`\';\n    $select[\'Star\'] = \'COUNT(`Star`.`id`) as `star`\';\n}\n\n// Add custom parameters\nforeach (array(\'where\', \'select\', \'leftJoin\', \'innerJoin\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'innerJoin\' => json_encode($innerJoin),\n    \'leftJoin\' => json_encode($leftJoin),\n    \'select\' => json_encode($select),\n    \'sortby\' => $class . \'.id\',\n    \'sortdir\' => \'ASC\',\n    \'groupby\' => $class . \'.id\',\n    \'limit\' => 0,\n    \'fastMode\' => true,\n    \'return\' => \'data\',\n    \'nestedChunkPrefix\' => \'tickets_\',\n);\n\n// Merge all properties and run!\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\n$pdoFetch->addTime(\'Query parameters prepared.\');\n$rows = $pdoFetch->run();\n\n// Processing rows\n$output = $commentsThread = null;\nif (!empty($rows) && is_array($rows)) {\n    $tmp = array();\n    $i = 1;\n    foreach ($rows as $row) {\n        $row[\'ratings\'] = $ratings;\n        $row[\'idx\'] = $i++;\n        $tmp[$row[\'id\']] = $row;\n    }\n    $rows = $thread->buildTree($tmp, $depth);\n    unset($tmp, $i);\n\n    if (!empty($formBefore)) {\n        $rows = array_reverse($rows);\n    }\n\n    $tpl = !$thread->get(\'closed\') && ($Tickets->authenticated || !empty($allowGuest))\n        ? $tplCommentAuth\n        : $tplCommentGuest;\n    foreach ($rows as $row) {\n        $output[] = $Tickets->templateNode($row, $tpl);\n    }\n\n    $pdoFetch->addTime(\'Returning processed chunks\');\n    $output = implode($outputSeparator, $output);\n}\n\n$commentsThread = $pdoFetch->getChunk($tplComments, array(\n    \'total\' => $modx->getPlaceholder($pdoFetch->config[\'totalVar\']),\n    \'comments\' => $output,\n    \'subscribed\' => $thread->isSubscribed(),\n));\n\n$pls = array(\'thread\' => $scriptProperties[\'thread\']);\nif (!$Tickets->authenticated && empty($allowGuest)) {\n    $form = $pdoFetch->getChunk($tplLoginToComment);\n} elseif (!$Tickets->authenticated) {\n    $pls[\'name\'] = $_SESSION[\'TicketComments\'][\'name\'];\n    $pls[\'email\'] = $_SESSION[\'TicketComments\'][\'email\'];\n    if (!empty($enableCaptcha)) {\n        $tmp = $Tickets->getCaptcha();\n        $pls[\'captcha\'] = $modx->lexicon(\'ticket_comment_captcha\', $tmp);\n    }\n    $form = $pdoFetch->getChunk($tplCommentFormGuest, $pls);\n} else {\n    $form = $pdoFetch->getChunk($tplCommentForm, $pls);\n}\n\n$commentForm = $thread->get(\'closed\')\n    ? $modx->lexicon(\'ticket_thread_err_closed\')\n    : $form;\n$output = !empty($formBefore)\n    ? $commentForm . $commentsThread\n    : $commentsThread . $commentForm;\n\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $output .= \'<pre class=\"CommentsLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\n$modx->regClientStartupScript(\'<script type=\"text/javascript\">TicketsConfig.formBefore = \' . (int)!empty($formBefore) . \';TicketsConfig.thread_depth = \' . (int)$depth . \';</script>\',\n    true);\n\n// Return output\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $output);\n} else {\n    return $output;\n}',	0,	'a:29:{s:6:\"thread\";a:7:{s:4:\"name\";s:6:\"thread\";s:4:\"desc\";s:19:\"tickets_prop_thread\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:21:\"tickets_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:12:\"gravatarIcon\";a:7:{s:4:\"name\";s:12:\"gravatarIcon\";s:4:\"desc\";s:25:\"tickets_prop_gravatarIcon\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:2:\"mm\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:12:\"gravatarSize\";a:7:{s:4:\"name\";s:12:\"gravatarSize\";s:4:\"desc\";s:25:\"tickets_prop_gravatarSize\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:2:\"24\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"gravatarUrl\";a:7:{s:4:\"name\";s:11:\"gravatarUrl\";s:4:\"desc\";s:24:\"tickets_prop_gravatarUrl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:32:\"https://www.gravatar.com/avatar/\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"tplCommentForm\";a:7:{s:4:\"name\";s:14:\"tplCommentForm\";s:4:\"desc\";s:27:\"tickets_prop_tplCommentForm\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:24:\"tpl.Tickets.comment.form\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:19:\"tplCommentFormGuest\";a:7:{s:4:\"name\";s:19:\"tplCommentFormGuest\";s:4:\"desc\";s:32:\"tickets_prop_tplCommentFormGuest\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:30:\"tpl.Tickets.comment.form.guest\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"tplCommentAuth\";a:7:{s:4:\"name\";s:14:\"tplCommentAuth\";s:4:\"desc\";s:27:\"tickets_prop_tplCommentAuth\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:28:\"tpl.Tickets.comment.one.auth\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"tplCommentGuest\";a:7:{s:4:\"name\";s:15:\"tplCommentGuest\";s:4:\"desc\";s:28:\"tickets_prop_tplCommentGuest\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:29:\"tpl.Tickets.comment.one.guest\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:17:\"tplCommentDeleted\";a:7:{s:4:\"name\";s:17:\"tplCommentDeleted\";s:4:\"desc\";s:30:\"tickets_prop_tplCommentDeleted\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:31:\"tpl.Tickets.comment.one.deleted\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"tplComments\";a:7:{s:4:\"name\";s:11:\"tplComments\";s:4:\"desc\";s:24:\"tickets_prop_tplComments\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:27:\"tpl.Tickets.comment.wrapper\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:17:\"tplLoginToComment\";a:7:{s:4:\"name\";s:17:\"tplLoginToComment\";s:4:\"desc\";s:30:\"tickets_prop_tplLoginToComment\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:25:\"tpl.Tickets.comment.login\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:20:\"tplCommentEmailOwner\";a:7:{s:4:\"name\";s:20:\"tplCommentEmailOwner\";s:4:\"desc\";s:33:\"tickets_prop_tplCommentEmailOwner\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:31:\"tpl.Tickets.comment.email.owner\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:20:\"tplCommentEmailReply\";a:7:{s:4:\"name\";s:20:\"tplCommentEmailReply\";s:4:\"desc\";s:33:\"tickets_prop_tplCommentEmailReply\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:31:\"tpl.Tickets.comment.email.reply\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:27:\"tplCommentEmailSubscription\";a:7:{s:4:\"name\";s:27:\"tplCommentEmailSubscription\";s:4:\"desc\";s:40:\"tickets_prop_tplCommentEmailSubscription\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:38:\"tpl.Tickets.comment.email.subscription\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:18:\"tplCommentEmailBcc\";a:7:{s:4:\"name\";s:18:\"tplCommentEmailBcc\";s:4:\"desc\";s:31:\"tickets_prop_tplCommentEmailBcc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:29:\"tpl.Tickets.comment.email.bcc\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:26:\"tplCommentEmailUnpublished\";a:7:{s:4:\"name\";s:26:\"tplCommentEmailUnpublished\";s:4:\"desc\";s:39:\"tickets_prop_tplCommentEmailUnpublished\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:37:\"tpl.Tickets.comment.email.unpublished\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"autoPublish\";a:7:{s:4:\"name\";s:11:\"autoPublish\";s:4:\"desc\";s:24:\"tickets_prop_autoPublish\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:16:\"autoPublishGuest\";a:7:{s:4:\"name\";s:16:\"autoPublishGuest\";s:4:\"desc\";s:29:\"tickets_prop_autoPublishGuest\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"formBefore\";a:7:{s:4:\"name\";s:10:\"formBefore\";s:4:\"desc\";s:23:\"tickets_prop_formBefore\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:26:\"tickets_prop_commentsDepth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"allowGuest\";a:7:{s:4:\"name\";s:10:\"allowGuest\";s:4:\"desc\";s:23:\"tickets_prop_allowGuest\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"allowGuestEdit\";a:7:{s:4:\"name\";s:14:\"allowGuestEdit\";s:4:\"desc\";s:27:\"tickets_prop_allowGuestEdit\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:16:\"allowGuestEmails\";a:7:{s:4:\"name\";s:16:\"allowGuestEmails\";s:4:\"desc\";s:29:\"tickets_prop_allowGuestEmails\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"enableCaptcha\";a:7:{s:4:\"name\";s:13:\"enableCaptcha\";s:4:\"desc\";s:26:\"tickets_prop_enableCaptcha\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"minCaptcha\";a:7:{s:4:\"name\";s:10:\"minCaptcha\";s:4:\"desc\";s:23:\"tickets_prop_minCaptcha\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"maxCaptcha\";a:7:{s:4:\"name\";s:10:\"maxCaptcha\";s:4:\"desc\";s:23:\"tickets_prop_maxCaptcha\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"requiredFields\";a:7:{s:4:\"name\";s:14:\"requiredFields\";s:4:\"desc\";s:27:\"tickets_prop_requiredFields\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:10:\"name,email\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:9:\"threadUrl\";a:7:{s:4:\"name\";s:9:\"threadUrl\";s:4:\"desc\";s:22:\"tickets_prop_threadUrl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.comments.php'),
(13,	1,	0,	'TicketLatest',	'',	0,	4,	0,	'/** @var array $scriptProperties */\nif (!empty($cacheKey) && $output = $modx->cacheManager->get(\'tickets/latest.\' . $cacheKey)) {\n    return $output;\n}\n\n/** @var Tickets $Tickets */\n$Tickets = $modx->getService(\'tickets\', \'Tickets\', $modx->getOption(\'tickets.core_path\', null,\n        $modx->getOption(\'core_path\') . \'components/tickets/\') . \'model/tickets/\', $scriptProperties);\n$Tickets->initialize($modx->context->key, $scriptProperties);\n\n/** @var pdoFetch $pdoFetch */\n$pdoFetch = $modx->getService(\'pdoFetch\');\n$pdoFetch->setConfig($scriptProperties);\n$pdoFetch->addTime(\'pdoTools loaded\');\n\nif (empty($action)) {\n    $action = \'comments\';\n}\nif ($action == \'tickets\' && $scriptProperties[\'tpl\'] == \'tpl.Tickets.comment.latest\') {\n    $scriptProperties[\'tpl\'] = \'tpl.Tickets.ticket.latest\';\n}\n$action = strtolower($action);\n$where = $action == \'tickets\'\n    ? array(\'class_key\' => \'Ticket\')\n    : array();\n\nif (empty($showUnpublished)) {\n    $where[\'Ticket.published\'] = 1;\n}\nif (empty($showHidden)) {\n    $where[\'Ticket.hidemenu\'] = 0;\n}\nif (empty($showDeleted)) {\n    $where[\'Ticket.deleted\'] = 0;\n}\nif (!isset($cacheTime)) {\n    $cacheTime = 1800;\n}\nif (!empty($user)) {\n    $user = array_map(\'trim\', explode(\',\', $user));\n    $user_id = $user_username = array();\n    foreach ($user as $v) {\n        if (is_numeric($v)) {\n            $user_id[] = $v;\n        } else {\n            $user_username[] = $v;\n        }\n    }\n    if (!empty($user_id) && !empty($user_username)) {\n        $where[] = \'(`User`.`id` IN (\' . implode(\',\', $user_id) . \') OR `User`.`username` IN (\\\'\' . implode(\'\\\',\\\'\',\n                $user_username) . \'\\\'))\';\n    } else {\n        if (!empty($user_id)) {\n            $where[\'User.id:IN\'] = $user_id;\n        } else {\n            if (!empty($user_username)) {\n                $where[\'User.username:IN\'] = $user_username;\n            }\n        }\n    }\n}\n\n// Filter by ids\nif (!empty($resources)) {\n    $resources = array_map(\'trim\', explode(\',\', $resources));\n    $in = $out = array();\n    foreach ($resources as $v) {\n        if (!is_numeric($v)) {\n            continue;\n        }\n        if ($v < 0) {\n            $out[] = abs($v);\n        } else {\n            $in[] = $v;\n        }\n    }\n    if (!empty($in)) {\n        $where[\'id:IN\'] = $in;\n    }\n    if (!empty($out)) {\n        $where[\'id:NOT IN\'] = $out;\n    }\n} // Filter by parents\nelse {\n    if (!empty($parents) && $parents > 0) {\n        $pids = array_map(\'trim\', explode(\',\', $parents));\n        $parents = $pids;\n        if (!empty($depth) && $depth > 0) {\n            foreach ($pids as $v) {\n                if (!is_numeric($v)) {\n                    continue;\n                }\n                $parents = array_merge($parents, $modx->getChildIds($v, $depth));\n            }\n        }\n        if (!empty($parents)) {\n            $where[\'Ticket.parent:IN\'] = $parents;\n        }\n    }\n}\n\n// Joining tables\nif ($action == \'comments\') {\n    $class = \'TicketComment\';\n\n    $innerJoin = array();\n    $innerJoin[\'Thread\'] = empty($user)\n        ? array(\n            \'class\' => \'TicketThread\',\n            \'on\' => \'`TicketComment`.`id` = `Thread`.`comment_last` AND `Thread`.`deleted` = 0\',\n        )\n        : array(\n            \'class\' => \'TicketThread\',\n            \'on\' => \'`TicketComment`.`thread` = `Thread`.`id` AND `Thread`.`deleted` = 0\',\n        );\n    $innerJoin[\'Ticket\'] = array(\'class\' => \'Ticket\', \'on\' => \'`Ticket`.`id` = `Thread`.`resource`\');\n\n    $leftJoin = array(\n        \'Section\' => array(\'class\' => \'TicketsSection\', \'on\' => \'`Section`.`id` = `Ticket`.`parent`\'),\n        \'User\' => array(\'class\' => \'modUser\', \'on\' => \'`User`.`id` = `TicketComment`.`createdby`\'),\n        \'Profile\' => array(\n            \'class\' => \'modUserProfile\',\n            \'on\' => \'`Profile`.`internalKey` = `TicketComment`.`createdby`\',\n        ),\n    );\n\n    $select = array(\n        \'TicketComment\' => !empty($includeContent)\n            ? $modx->getSelectColumns(\'TicketComment\', \'TicketComment\', \'\', array(\'raw\'), true)\n            : $modx->getSelectColumns(\'TicketComment\', \'TicketComment\', \'\', array(\'text\', \'raw\'), true),\n        \'Ticket\' => !empty($includeContent)\n            ? $modx->getSelectColumns(\'Ticket\', \'Ticket\', \'ticket.\')\n            : $modx->getSelectColumns(\'Ticket\', \'Ticket\', \'ticket.\', array(\'content\'), true),\n        \'Thread\' => \'`Thread`.`comments`\',\n    );\n    $groupby = empty($user)\n        ? \'`Ticket`.`id`\'\n        : \'`TicketComment`.`id`\';\n    $where[\'TicketComment.deleted\'] = 0;\n} elseif ($action == \'tickets\') {\n    $class = \'Ticket\';\n\n    $innerJoin = array();\n    $leftJoin = array(\n        \'Thread\' => array(\n            \'class\' => \'TicketThread\',\n            \'on\' => \'`Thread`.`resource` = `Ticket`.`id` AND `Thread`.`deleted` = 0\',\n        ),\n        \'Section\' => array(\'class\' => \'TicketsSection\', \'on\' => \'`Section`.`id` = `Ticket`.`parent`\'),\n        \'User\' => array(\'class\' => \'modUser\', \'on\' => \'`User`.`id` = `Ticket`.`createdby`\'),\n        \'Profile\' => array(\'class\' => \'modUserProfile\', \'on\' => \'`Profile`.`internalKey` = `Ticket`.`createdby`\'),\n    );\n\n    $select = array(\n        \'Ticket\' => !empty($includeContent)\n            ? $modx->getSelectColumns(\'Ticket\', \'Ticket\')\n            : $modx->getSelectColumns(\'Ticket\', \'Ticket\', \'\', array(\'content\'), true),\n        \'Thread\' => \'`Thread`.`id` as `thread`, `Thread`.`comments`\',\n    );\n    $groupby = \'`Ticket`.`id`\';\n} else {\n    return \'Wrong action. You must use \"ticket\" or \"comment\".\';\n}\n\n// Fields to select\n$select = array_merge($select, array(\n    \'Section\' => $modx->getSelectColumns(\'TicketsSection\', \'Section\', \'section.\', array(\'content\'), true),\n    \'User\' => $modx->getSelectColumns(\'modUser\', \'User\', \'\', array(\'username\')),\n    \'Profile\' => $modx->getSelectColumns(\'modUserProfile\', \'Profile\', \'\', array(\'id\'), true),\n));\n\n// Add custom parameters\nforeach (array(\'where\', \'select\', \'leftJoin\', \'innerJoin\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'innerJoin\' => json_encode($innerJoin),\n    \'leftJoin\' => json_encode($leftJoin),\n    \'select\' => json_encode($select),\n    \'sortby\' => \'createdon\',\n    \'sortdir\' => \'DESC\',\n    \'groupby\' => $groupby,\n    \'return\' => \'data\',\n    \'nestedChunkPrefix\' => \'tickets_\',\n);\n\n// Merge all properties and run!\n$pdoFetch->setConfig(array_merge($default, $scriptProperties));\n$pdoFetch->addTime(\'Query parameters are prepared.\');\n$rows = $pdoFetch->run();\n\n// Processing rows\n$output = array();\nif (!empty($rows) && is_array($rows)) {\n    foreach ($rows as $k => $row) {\n        // Prepare row\n        if ($class == \'Ticket\') {\n            $row[\'date_ago\'] = $Tickets->dateFormat($row[\'createdon\']);\n            $properties = is_string($row[\'properties\'])\n                ? json_decode($row[\'properties\'], true)\n                : $row[\'properties\'];\n            if (empty($properties[\'process_tags\'])) {\n                foreach ($row as $field => $value) {\n                    $row[$field] = str_replace(\n                        array(\'[\', \']\', \'`\', \'{\', \'}\'),\n                        array(\'&#91;\', \'&#93;\', \'&#96;\', \'&#123;\', \'&#125;\'),\n                        $value\n                    );\n                }\n            }\n        } else {\n            if (empty($row[\'createdby\'])) {\n                $row[\'fullname\'] = $row[\'name\'];\n                $row[\'guest\'] = 1;\n            }\n            $row[\'resource\'] = $row[\'ticket.id\'];\n            $row = $Tickets->prepareComment($row);\n        }\n\n        // Processing chunk\n        $row[\'idx\'] = $pdoFetch->idx++;\n        $tpl = $pdoFetch->defineChunk($row);\n        $output[] = !empty($tpl)\n            ? $pdoFetch->getChunk($tpl, $row, $pdoFetch->config[\'fastMode\'])\n            : $pdoFetch->getChunk(\'\', $row);\n    }\n    $pdoFetch->addTime(\'Returning processed chunks\');\n}\nif (empty($outputSeparator)) {\n    $outputSeparator = \"\\n\";\n}\n$output = implode($outputSeparator, $output);\n\nif (!empty($cacheKey)) {\n    $modx->cacheManager->set(\'tickets/latest.\' . $cacheKey, $output, $cacheTime);\n}\n\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $output .= \'<pre class=\"TicketLatestLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $output);\n} else {\n    return $output;\n}',	0,	'a:23:{s:6:\"action\";a:7:{s:4:\"name\";s:6:\"action\";s:4:\"desc\";s:19:\"tickets_prop_action\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:8:\"Comments\";s:5:\"value\";s:8:\"comments\";}i:1;a:2:{s:4:\"text\";s:7:\"Tickets\";s:5:\"value\";s:7:\"tickets\";}}s:5:\"value\";s:8:\"comments\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:16:\"tickets_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:26:\"tpl.Tickets.comment.latest\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:18:\"tickets_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:19:\"tickets_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:18:\"tickets_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:20:\"tickets_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:22:\"tickets_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:19:\"tickets_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"createdon\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:20:\"tickets_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:4:\"DESC\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"includeContent\";a:7:{s:4:\"name\";s:14:\"includeContent\";s:4:\"desc\";s:27:\"tickets_prop_includeContent\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:26:\"tickets_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:23:\"tickets_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:18:\"tickets_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tvPrefix\";a:7:{s:4:\"name\";s:8:\"tvPrefix\";s:4:\"desc\";s:21:\"tickets_prop_tvPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:28:\"tickets_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:20:\"tickets_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:21:\"tickets_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:28:\"tickets_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:24:\"tickets_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:23:\"tickets_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:4:\"user\";a:7:{s:4:\"name\";s:4:\"user\";s:4:\"desc\";s:17:\"tickets_prop_user\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"cacheKey\";a:7:{s:4:\"name\";s:8:\"cacheKey\";s:4:\"desc\";s:21:\"tickets_prop_cacheKey\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:9:\"cacheTime\";a:7:{s:4:\"name\";s:9:\"cacheTime\";s:4:\"desc\";s:22:\"tickets_prop_cacheTime\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:1800;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.ticket_latest.php'),
(14,	1,	0,	'TicketMeta',	'',	0,	4,	0,	'/** @var array $scriptProperties */\n/** @var Tickets $Tickets */\n$Tickets = $modx->getService(\'tickets\', \'Tickets\', $modx->getOption(\'tickets.core_path\', null,\n        $modx->getOption(\'core_path\') . \'components/tickets/\') . \'model/tickets/\', $scriptProperties);\n$Tickets->initialize($modx->context->key, $scriptProperties);\n\n$scriptProperties[\'nestedChunkPrefix\'] = \'tickets_\';\n/** @var pdoFetch $pdoFetch */\n$pdoFetch = $modx->getService(\'pdoFetch\');\n$pdoFetch->setConfig($scriptProperties);\n$pdoFetch->addTime(\'pdoTools loaded\');\n\nif (empty($id)) {\n    $id = $modx->resource->id;\n}\n/** @var Ticket|modResource $ticket */\nif (!$ticket = $modx->getObject(\'modResource\', $id)) {\n    return \'Could not load resource with id = \' . $id;\n}\n\n$class = $ticket instanceof Ticket\n    ? \'Ticket\'\n    : \'modResource\';\n\n/** @var TicketTotal $total */\nif ($class == \'Ticket\' && $total = $ticket->getOne(\'Total\')) {\n    $total->fetchValues();\n    $total->save();\n}\n$data = $ticket->toArray();\n$data[\'date_ago\'] = $Tickets->dateFormat($data[\'createdon\']);\n\n$vote = $pdoFetch->getObject(\'TicketVote\',\n    array(\n        \'id\' => $ticket->id,\n        \'class\' => \'Ticket\',\n        \'createdby\' => $modx->user->id,\n    ),\n    array(\n        \'select\' => \'value\',\n        \'sortby\' => \'id\',\n    )\n);\nif (!empty($vote)) {\n    $data[\'vote\'] = $vote[\'value\'];\n}\n\n$star = $modx->getCount(\'TicketStar\', array(\'id\' => $ticket->id, \'class\' => \'Ticket\', \'createdby\' => $modx->user->id));\n$data[\'stared\'] = !empty($star);\n$data[\'unstared\'] = empty($star);\n\nif ($class != \'Ticket\') {\n    // Rating\n    if (!$modx->user->id || $modx->user->id == $ticket->createdby) {\n        $data[\'voted\'] = 0;\n    } else {\n        $q = $modx->newQuery(\'TicketVote\');\n        $q->where(array(\'id\' => $ticket->id, \'createdby\' => $modx->user->id, \'class\' => \'Ticket\'));\n        $q->select(\'`value`\');\n        $tstart = microtime(true);\n        if ($q->prepare() && $q->stmt->execute()) {\n            $modx->startTime += microtime(true) - $tstart;\n            $modx->executedQueries++;\n            $voted = $q->stmt->fetchColumn();\n            if ($voted > 0) {\n                $voted = 1;\n            } elseif ($voted < 0) {\n                $voted = -1;\n            }\n            $data[\'voted\'] = $voted;\n        }\n    }\n    $data[\'can_vote\'] = $data[\'voted\'] === false && $Tickets->authenticated && $modx->user->id != $ticket->createdby;\n    $data = array_merge($ticket->getProperties(\'tickets\'), $data);\n    if (!isset($data[\'rating\'])) {\n        $data[\'rating\'] = $data[\'rating_total\'] = $data[\'rating_plus\'] = $data[\'rating_minus\'] = 0;\n    }\n\n    // Views\n    $data[\'views\'] = $modx->getCount(\'TicketView\', array(\'parent\' => $ticket->id));\n\n    // Comments\n    $data[\'comments\'] = 0;\n    $thread = empty($thread)\n        ? \'resource-\' . $ticket->id\n        : $thread;\n    $q = $modx->newQuery(\'TicketThread\', array(\'name\' => $thread));\n    $q->leftJoin(\'TicketComment\', \'TicketComment\',\n        \"TicketThread.id = TicketComment.thread AND TicketComment.published = 1\"\n    );\n    $q->select(\'COUNT(`TicketComment`.`id`) as `comments`\');\n    $tstart = microtime(true);\n    if ($q->prepare() && $q->stmt->execute()) {\n        $modx->startTime += microtime(true) - $tstart;\n        $modx->executedQueries++;\n        $data[\'comments\'] = (int)$q->stmt->fetchColumn();\n    }\n\n    // Stars\n    $data[\'stars\'] = $modx->getCount(\'TicketStar\', array(\'id\' => $ticket->id, \'class\' => \'Ticket\'));\n}\n\nif ($data[\'rating\'] > 0) {\n    $data[\'rating\'] = \'+\' . $data[\'rating\'];\n    $data[\'rating_positive\'] = 1;\n} elseif ($data[\'rating\'] < 0) {\n    $data[\'rating_negative\'] = 1;\n}\n$data[\'rating_total\'] = abs($data[\'rating_plus\']) + abs($data[\'rating_minus\']);\n\n/** @var TicketsSection $section */\nif ($section = $modx->getObject(\'TicketsSection\', $ticket->parent)) {\n    $data = array_merge($data, $section->toArray(\'section.\'));\n}\nif (isset($data[\'section.properties\'][\'ratings\'][\'days_ticket_vote\'])) {\n    if ($data[\'section.properties\'][\'ratings\'][\'days_ticket_vote\'] !== \'\') {\n        $max = strtotime($data[\'createdon\']) + ((float)$data[\'section.properties\'][\'ratings\'][\'days_ticket_vote\'] * 86400);\n        if (time() > $max) {\n            $data[\'cant_vote\'] = 1;\n        }\n    }\n}\nif (!isset($data[\'cant_vote\'])) {\n    if (!$Tickets->authenticated || $modx->user->id == $ticket->createdby) {\n        $data[\'cant_vote\'] = 1;\n\n    } elseif (array_key_exists(\'vote\', $data)) {\n        if ($data[\'vote\'] == \'\') {\n            $data[\'can_vote\'] = 1;\n        } elseif ($data[\'vote\'] > 0) {\n            $data[\'voted_plus\'] = 1;\n            $data[\'cant_vote\'] = 1;\n        } elseif ($data[\'vote\'] < 0) {\n            $data[\'voted_minus\'] = 1;\n            $data[\'cant_vote\'] = 1;\n        } else {\n            $data[\'voted_none\'] = 1;\n            $data[\'cant_vote\'] = 1;\n        }\n    } else {\n        $data[\'can_vote\'] = 1;\n    }\n}\n\n$data[\'active\'] = (int)!empty($data[\'can_vote\']);\n$data[\'inactive\'] = (int)!empty($data[\'cant_vote\']);\n$data[\'can_star\'] = $Tickets->authenticated;\n\nif (!empty($getUser)) {\n    $fields = $modx->getFieldMeta(\'modUserProfile\');\n    $user = $pdoFetch->getObject(\'modUserProfile\', array(\'internalKey\' => $ticket->createdby), array(\n        \'innerJoin\' => array(\n            \'modUser\' => array(\'class\' => \'modUser\', \'on\' => \'modUserProfile.internalKey = modUser.id\'),\n        ),\n        \'select\' => array(\n            \'modUserProfile\' => implode(\',\', array_keys($fields)),\n            \'modUser\' => \'username\',\n        ),\n    ));\n    if ($user) {\n        $data = array_merge($data, $user);\n    }\n}\n\nif (!empty($getFiles)) {\n    $where = array(\'deleted\' => 0, \'class\' => \'Ticket\', \'parent\' => $ticket->id);\n    $collection = $pdoFetch->getCollection(\'TicketFile\', $where, array(\'sortby\' => \'createdon\', \'sortdir\' => \'ASC\'));\n    $data[\'files\'] = $content = \'\';\n    if (!empty($unusedFiles)) {\n        $content = $ticket->getContent();\n    }\n    foreach ($collection as $item) {\n        if ($content && strpos($content, $item[\'url\']) !== false) {\n            continue;\n        }\n        $item[\'size\'] = round($item[\'size\'] / 1024, 2);\n        $data[\'files\'] .= !empty($tplFile)\n            ? $Tickets->getChunk($tplFile, $item)\n            : $Tickets->getChunk(\'\', $item);\n    }\n    $data[\'has_files\'] = !empty($data[\'files\']);\n}\n$data[\'id\'] = $ticket->get(\'id\');\n\nreturn !empty($tpl)\n    ? $Tickets->getChunk($tpl, $data)\n    : $Tickets->getChunk(\'\', $data);',	0,	'a:6:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:21:\"tickets_prop_meta_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:16:\"tpl.Tickets.meta\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"tplFile\";a:7:{s:4:\"name\";s:7:\"tplFile\";s:4:\"desc\";s:25:\"tickets_prop_meta_tplFile\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:21:\"tpl.Tickets.meta.file\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"getUser\";a:7:{s:4:\"name\";s:7:\"getUser\";s:4:\"desc\";s:20:\"tickets_prop_getUser\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"getFiles\";a:7:{s:4:\"name\";s:8:\"getFiles\";s:4:\"desc\";s:21:\"tickets_prop_getFiles\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"unusedFiles\";a:7:{s:4:\"name\";s:11:\"unusedFiles\";s:4:\"desc\";s:24:\"tickets_prop_unusedFiles\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"thread\";a:7:{s:4:\"name\";s:6:\"thread\";s:4:\"desc\";s:19:\"tickets_prop_thread\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.ticket_meta.php'),
(15,	1,	0,	'getTickets',	'',	0,	4,	0,	'/** @var array $scriptProperties */\n/** @var Tickets $Tickets */\n$Tickets = $modx->getService(\'tickets\', \'Tickets\', $modx->getOption(\'tickets.core_path\', null,\n        $modx->getOption(\'core_path\') . \'components/tickets/\') . \'model/tickets/\', $scriptProperties);\n$Tickets->initialize($modx->context->key, $scriptProperties);\n\n/** @var pdoFetch $pdoFetch */\n$pdoFetch = $modx->getService(\'pdoFetch\');\n$pdoFetch->setConfig($scriptProperties);\n$pdoFetch->addTime(\'pdoTools loaded\');\n\nif (isset($parents) && $parents === \'\') {\n    $scriptProperties[\'parents\'] = $modx->resource->id;\n}\n\n$class = \'Ticket\';\n$where = array(\'class_key\' => $class);\n\n// Filter by user\nif (!empty($user)) {\n    $user = array_map(\'trim\', explode(\',\', $user));\n    $user_id = $user_username = array();\n    foreach ($user as $v) {\n        if (is_numeric($v)) {\n            $user_id[] = $v;\n        } else {\n            $user_username[] = $v;\n        }\n    }\n    if (!empty($user_id) && !empty($user_username)) {\n        $where[] = \'(`User`.`id` IN (\' . implode(\',\', $user_id) . \') OR `User`.`username` IN (\\\'\' . implode(\'\\\',\\\'\',\n                $user_username) . \'\\\'))\';\n    } else {\n        if (!empty($user_id)) {\n            $where[\'User.id:IN\'] = $user_id;\n        } else {\n            if (!empty($user_username)) {\n                $where[\'User.username:IN\'] = $user_username;\n            }\n        }\n    }\n}\n\n// Joining tables\n$leftJoin = array(\n    \'Section\' => array(\'class\' => \'TicketsSection\', \'on\' => \'`Section`.`id` = `Ticket`.`parent`\'),\n    \'User\' => array(\'class\' => \'modUser\', \'on\' => \'`User`.`id` = `Ticket`.`createdby`\'),\n    \'Profile\' => array(\'class\' => \'modUserProfile\', \'on\' => \'`Profile`.`internalKey` = `User`.`id`\'),\n    \'Total\' => array(\'class\' => \'TicketTotal\'),\n);\nif ($Tickets->authenticated) {\n    $leftJoin[\'Vote\'] = array(\n        \'class\' => \'TicketVote\',\n        \'on\' => \'`Vote`.`id` = `Ticket`.`id` AND `Vote`.`class` = \"Ticket\" AND `Vote`.`createdby` = \' . $modx->user->id,\n    );\n    $leftJoin[\'Star\'] = array(\n        \'class\' => \'TicketStar\',\n        \'on\' => \'`Star`.`id` = `Ticket`.`id` AND `Star`.`class` = \"Ticket\" AND `Star`.`createdby` = \' . $modx->user->id,\n    );\n    $leftJoin[\'Thread\'] = array(\n        \'class\' => \'TicketThread\',\n        \'on\' => \'`Thread`.`resource` = `Ticket`.`id` AND `Thread`.`deleted` = 0\',\n    );\n}\n\n// Fields to select\n$select = array(\n    \'Section\' => $modx->getSelectColumns(\'TicketsSection\', \'Section\', \'section.\', array(\'content\'), true),\n    \'User\' => $modx->getSelectColumns(\'modUser\', \'User\', \'\', array(\'username\')),\n    \'Profile\' => $modx->getSelectColumns(\'modUserProfile\', \'Profile\', \'\', array(\'id\'), true),\n    \'Ticket\' => !empty($includeContent)\n        ? $modx->getSelectColumns($class, $class)\n        : $modx->getSelectColumns($class, $class, \'\', array(\'content\'), true),\n    \'Total\' => \'comments, views, stars, rating, rating_plus, rating_minus\',\n);\nif ($Tickets->authenticated) {\n    $select[\'Vote\'] = \'`Vote`.`value` as `vote`\';\n    $select[\'Star\'] = \'COUNT(`Star`.`id`) as `star`\';\n    $select[\'Thread\'] = \'`Thread`.`id` as `thread`\';\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n// Add custom parameters\nforeach (array(\'where\', \'select\', \'leftJoin\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'leftJoin\' => json_encode($leftJoin),\n    \'select\' => json_encode($select),\n    \'sortby\' => \'createdon\',\n    \'sortdir\' => \'DESC\',\n    \'groupby\' => $class . \'.id\',\n    \'return\' => !empty($returnIds)\n        ? \'ids\'\n        : \'data\',\n    \'nestedChunkPrefix\' => \'tickets_\',\n);\n\n// Merge all properties and run!\n$pdoFetch->setConfig(array_merge($default, $scriptProperties));\n$pdoFetch->addTime(\'Query parameters are prepared.\');\n$rows = $pdoFetch->run();\n\nif (!empty($returnIds)) {\n    return $rows;\n}\nini_set(\'error_reporting\', -1);\nini_set(\'display_errors\', 1);\n// Processing rows\n$output = array();\nif (!empty($rows) && is_array($rows)) {\n    foreach ($rows as $k => $row) {\n        // Handle properties\n        $properties = is_string($row[\'properties\'])\n            ? json_decode($row[\'properties\'], true)\n            : $row[\'properties\'];\n        if (!empty($properties[\'tickets\'])) {\n            $properties = $properties[\'tickets\'];\n        }\n        if (empty($properties[\'process_tags\'])) {\n            foreach ($row as $field => $value) {\n                $row[$field] = str_replace(\n                    array(\'[\', \']\', \'`\', \'{\', \'}\'),\n                    array(\'&#91;\', \'&#93;\', \'&#96;\', \'&#123;\', \'&#125;\'),\n                    $value\n                );\n            }\n        }\n        if (!is_array($properties)) {\n            $properties = array();\n        }\n\n        // Handle rating\n        if ($row[\'rating\'] > 0) {\n            $row[\'rating\'] = \'+\' . $row[\'rating\'];\n            $row[\'rating_positive\'] = 1;\n        } elseif ($row[\'rating\'] < 0) {\n            $row[\'rating_negative\'] = 1;\n        }\n        $row[\'rating_total\'] = abs($row[\'rating_plus\']) + abs($row[\'rating_minus\']);\n        // Handle rating\n        if (isset($row[\'section.properties\'][\'ratings\'][\'days_ticket_vote\'])) {\n            if ($row[\'section.properties\'][\'ratings\'][\'days_ticket_vote\'] !== \'\') {\n                $max = $row[\'createdon\'] + ((float)$row[\'section.properties\'][\'ratings\'][\'days_ticket_vote\'] * 86400);\n                if (time() > $max) {\n                    $row[\'cant_vote\'] = 1;\n                }\n            }\n        }\n        if (!isset($row[\'cant_vote\'])) {\n            if (!$Tickets->authenticated || $modx->user->id == $row[\'createdby\']) {\n                $row[\'cant_vote\'] = 1;\n            } elseif (array_key_exists(\'vote\', $row)) {\n                if ($row[\'vote\'] == \'\') {\n                    $row[\'can_vote\'] = 1;\n                } elseif ($row[\'vote\'] > 0) {\n                    $row[\'voted_plus\'] = 1;\n                    $row[\'cant_vote\'] = 1;\n                } elseif ($row[\'vote\'] < 0) {\n                    $row[\'voted_minus\'] = 1;\n                    $row[\'cant_vote\'] = 1;\n                } else {\n                    $row[\'voted_none\'] = 1;\n                    $row[\'cant_vote\'] = 1;\n                }\n            }\n        }\n        // Special fields for quick placeholders\n        $row[\'active\'] = (int)!empty($row[\'can_vote\']);\n        $row[\'inactive\'] = (int)!empty($row[\'cant_vote\']);\n        $row[\'can_star\'] = $Tickets->authenticated;\n        $row[\'stared\'] = !empty($row[\'star\']);\n        $row[\'unstared\'] = empty($row[\'star\']);\n        $row[\'isauthor\'] = $modx->user->id == $row[\'createdby\'];\n        $row[\'unpublished\'] = empty($row[\'published\']);\n\n        $row[\'date_ago\'] = $Tickets->dateFormat($row[\'createdon\']);\n        $row[\'idx\'] = $pdoFetch->idx++;\n        // Processing new comments\n        if ($Tickets->authenticated && !empty($row[\'thread\'])) {\n            $last_view = $pdoFetch->getObject(\'TicketView\', array(\n                \'parent\' => $row[\'id\'],\n                \'uid\' => $modx->user->id,\n            ), array(\n                \'sortby\' => \'timestamp\',\n                \'sortdir\' => \'DESC\',\n                \'limit\' => 1,\n            ));\n            if (!empty($last_view[\'timestamp\'])) {\n                $row[\'new_comments\'] = $modx->getCount(\'TicketComment\', array(\n                    \'published\' => 1,\n                    \'thread\' => $row[\'thread\'],\n                    \'createdon:>\' => $last_view[\'timestamp\'],\n                    \'createdby:!=\' => $modx->user->id,\n                ));\n            } else {\n                $row[\'new_comments\'] = $row[\'comments\'];\n            }\n        } else {\n            $row[\'new_comments\'] = \'\';\n        }\n\n        // Processing chunk\n        $tpl = $pdoFetch->defineChunk($row);\n        $output[] = empty($tpl)\n            ? \'<pre>\' . $pdoFetch->getChunk(\'\', $row) . \'</pre>\'\n            : $pdoFetch->getChunk($tpl, $row, $pdoFetch->config[\'fastMode\']);\n    }\n}\n$pdoFetch->addTime(\'Returning processed chunks\');\n\n$log = \'\';\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $log .= \'<pre class=\"getTicketsLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\n// Return output\nif (!empty($toSeparatePlaceholders)) {\n    $output[\'log\'] = $log;\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\n} else {\n    if (empty($outputSeparator)) {\n        $outputSeparator = \"\\n\";\n    }\n    $output = implode($outputSeparator, $output);\n    $output .= $log;\n\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\n        $array = array(\'output\' => $output);\n        if ($Tickets->authenticated && $modx->resource->class_key == \'TicketsSection\') {\n            /** @var TicketsSection $section */\n            $section = &$modx->resource;\n            $array[\'subscribed\'] = $section->isSubscribed();\n        }\n        $output = $pdoFetch->getChunk($tplWrapper, $array, $pdoFetch->config[\'fastMode\']);\n    }\n\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n}',	0,	'a:21:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:16:\"tickets_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:20:\"tpl.Tickets.list.row\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:18:\"tickets_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:19:\"tickets_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:18:\"tickets_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:20:\"tickets_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:22:\"tickets_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:19:\"tickets_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"createdon\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:20:\"tickets_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:4:\"DESC\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"includeContent\";a:7:{s:4:\"name\";s:14:\"includeContent\";s:4:\"desc\";s:27:\"tickets_prop_includeContent\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:26:\"tickets_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:23:\"tickets_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:18:\"tickets_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tvPrefix\";a:7:{s:4:\"name\";s:8:\"tvPrefix\";s:4:\"desc\";s:21:\"tickets_prop_tvPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:28:\"tickets_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:20:\"tickets_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:21:\"tickets_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:28:\"tickets_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:24:\"tickets_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:23:\"tickets_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:4:\"user\";a:7:{s:4:\"name\";s:4:\"user\";s:4:\"desc\";s:17:\"tickets_prop_user\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"tplWrapper\";a:7:{s:4:\"name\";s:10:\"tplWrapper\";s:4:\"desc\";s:23:\"tickets_prop_tplWrapper\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.get_tickets.php'),
(16,	1,	0,	'getTicketsSections',	'',	0,	4,	0,	'/** @var array $scriptProperties */\n/** @var Tickets $Tickets */\n$Tickets = $modx->getService(\'tickets\', \'Tickets\', $modx->getOption(\'tickets.core_path\', null,\n        $modx->getOption(\'core_path\') . \'components/tickets/\') . \'model/tickets/\', $scriptProperties);\n$Tickets->initialize($modx->context->key, $scriptProperties);\n\n/** @var pdoFetch $pdoFetch */\n$pdoFetch = $modx->getService(\'pdoFetch\');\n$pdoFetch->setConfig($scriptProperties);\n$pdoFetch->addTime(\'pdoTools loaded\');\n\nif (isset($parents) && $parents === \'\') {\n    $scriptProperties[\'parents\'] = $modx->resource->id;\n}\n\n$class = \'TicketsSection\';\n$where = array(\'class_key\' => $class);\n\n// Add custom parameters\nforeach (array(\'where\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n// Joining tables\n$leftJoin = array(\n    \'Total\' => array(\'class\' => \'TicketTotal\'),\n);\n\n// Fields to select\n$select = array(\n    \'TicketsSection\' => !empty($includeContent)\n        ? $modx->getSelectColumns($class, $class)\n        : $modx->getSelectColumns($class, $class, \'\', array(\'content\'), true),\n    \'Total\' => \'tickets, comments, views, stars, rating, rating_plus, rating_minus\',\n);\n\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'leftJoin\' => json_encode($leftJoin),\n    \'select\' => json_encode($select),\n    \'groupby\' => $class . \'.id\',\n    \'sortby\' => \'views\',\n    \'sortdir\' => \'DESC\',\n    \'return\' => !empty($returnIds)\n        ? \'ids\'\n        : \'data\',\n    \'nestedChunkPrefix\' => \'tickets_\',\n);\n\n// Merge all properties and run!\n$pdoFetch->setConfig(array_merge($default, $scriptProperties));\n$pdoFetch->addTime(\'Query parameters are prepared.\');\n$rows = $pdoFetch->run();\n\nif (!empty($returnIds)) {\n    return $rows;\n}\n\n// Processing rows\n$output = array();\nif (!empty($rows) && is_array($rows)) {\n    foreach ($rows as $k => $row) {\n        $row[\'date_ago\'] = $Tickets->dateFormat($row[\'createdon\']);\n        $row[\'idx\'] = $pdoFetch->idx++;\n\n        $tpl = $pdoFetch->defineChunk($row);\n        $output[] = empty($tpl)\n            ? \'<pre>\' . $pdoFetch->getChunk(\'\', $row) . \'</pre>\'\n            : $pdoFetch->getChunk($tpl, $row, $pdoFetch->config[\'fastMode\']);\n    }\n}\n$pdoFetch->addTime(\'Returning processed chunks\');\nif (empty($outputSeparator)) {\n    $outputSeparator = \"\\n\";\n}\n$output = implode($outputSeparator, $output);\n\n$log = \'\';\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $log .= \'<pre class=\"getSectionsLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\n// Return output\nif (!empty($toSeparatePlaceholders)) {\n    $output[\'log\'] = $log;\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\n} else {\n    $output .= $log;\n\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output), $pdoFetch->config[\'fastMode\']);\n    }\n\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n}',	0,	'a:19:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:16:\"tickets_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:24:\"tpl.Tickets.sections.row\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"limit\";a:7:{s:4:\"name\";s:5:\"limit\";s:4:\"desc\";s:18:\"tickets_prop_limit\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"offset\";a:7:{s:4:\"name\";s:6:\"offset\";s:4:\"desc\";s:19:\"tickets_prop_offset\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:18:\"tickets_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:20:\"tickets_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:22:\"tickets_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:19:\"tickets_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:5:\"views\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:20:\"tickets_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:4:\"DESC\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"includeContent\";a:7:{s:4:\"name\";s:14:\"includeContent\";s:4:\"desc\";s:27:\"tickets_prop_includeContent\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:26:\"tickets_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"includeTVs\";a:7:{s:4:\"name\";s:10:\"includeTVs\";s:4:\"desc\";s:23:\"tickets_prop_includeTVs\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:18:\"tickets_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"tvPrefix\";a:7:{s:4:\"name\";s:8:\"tvPrefix\";s:4:\"desc\";s:21:\"tickets_prop_tvPrefix\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:28:\"tickets_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:20:\"tickets_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fastMode\";a:7:{s:4:\"name\";s:8:\"fastMode\";s:4:\"desc\";s:21:\"tickets_prop_fastMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:28:\"tickets_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:24:\"tickets_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:10:\"showHidden\";a:7:{s:4:\"name\";s:10:\"showHidden\";s:4:\"desc\";s:23:\"tickets_prop_showHidden\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.get_sections.php'),
(17,	1,	0,	'getComments',	'',	0,	4,	0,	'/** @var array $scriptProperties */\n/** @var Tickets $Tickets */\n$Tickets = $modx->getService(\'tickets\', \'Tickets\', $modx->getOption(\'tickets.core_path\', null,\n        $modx->getOption(\'core_path\') . \'components/tickets/\') . \'model/tickets/\', $scriptProperties);\n$Tickets->initialize($modx->context->key, $scriptProperties);\n\n/** @var pdoFetch $pdoFetch */\n$pdoFetch = $modx->getService(\'pdoFetch\');\n$pdoFetch->setConfig($scriptProperties);\n$pdoFetch->addTime(\'pdoTools loaded\');\n\n$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'tpl.Tickets.comment.list.row\');\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \"\\n\");\n\n// Define threads of comments\nif (!empty($parents) || !empty($resources) || !empty($threads)) {\n    $where = array();\n    $options = array(\n        \'innerJoin\' => array(\n            \'Thread\' => array(\n                \'class\' => \'TicketThread\',\n                \'on\' => \'`Ticket`.`id` = `Thread`.`resource`\',\n            ),\n        ),\n        \'groupby\' => \'`Ticket`.`id`\',\n        \'select\' => array(\'Thread\' => \'`Thread`.`id`\'),\n        \'showUnpublished\' => !empty($showUnpublished),\n        \'showDeleted\' => !empty($showDeleted),\n        \'depth\' => isset($depth)\n            ? (int)$depth\n            : 10,\n    );\n    if (!empty($parents)) {\n        $options[\'parents\'] = $parents;\n    }\n    if (!empty($resources)) {\n        $options[\'resources\'] = $resources;\n    }\n    if (!empty($threads)) {\n        $threads = array_map(\'trim\', explode(\',\', $threads));\n        $threads_in = $threads_out = array();\n        foreach ($threads as $v) {\n            if (!is_numeric($v)) {\n                continue;\n            }\n            if ($v[0] == \'-\') {\n                $threads_out[] = abs($v);\n            } else {\n                $threads_in[] = abs($v);\n            }\n        }\n        if (!empty($threads_in)) {\n            $where[\'Thread.id:IN\'] = $threads_in;\n        }\n        if (!empty($threads_out)) {\n            $where[\'Thread.id:NOT IN\'] = $threads_out;\n        }\n    }\n\n    $rows = $pdoFetch->getCollection(\'Ticket\', $where, $options);\n    $threads = array();\n    foreach ($rows as $item) {\n        $threads[] = $item[\'id\'];\n    }\n    if (!count($threads)) {\n        return;\n    };\n}\n\n// Prepare query to db\n$class = \'TicketComment\';\n$where = array();\nif (empty($showUnpublished)) {\n    $where[\'published\'] = 1;\n}\nif (empty($showDeleted)) {\n    $where[\'deleted\'] = 0;\n}\n\n// Filter by user\nif (!empty($user)) {\n    $user = array_map(\'trim\', explode(\',\', $user));\n    $user_id = $user_username = array();\n    foreach ($user as $v) {\n        if (is_numeric($v)) {\n            $user_id[] = $v;\n        } else {\n            $user_username[] = $v;\n        }\n    }\n    if (!empty($user_id) && !empty($user_username)) {\n        $where[] = \'(`User`.`id` IN (\' . implode(\',\', $user_id) . \') OR `User`.`username` IN (\\\'\' . implode(\'\\\',\\\'\',\n                $user_username) . \'\\\'))\';\n    } elseif (!empty($user_id)) {\n        $where[\'User.id:IN\'] = $user_id;\n    } elseif (!empty($user_username)) {\n        $where[\'User.username:IN\'] = $user_username;\n    }\n}\n// Filter by threads\nif (!empty($threads)) {\n    $where[\'thread:IN\'] = $threads;\n}\n// Filter by comments\nif (!empty($comments)) {\n    $comments = array_map(\'trim\', explode(\',\', $comments));\n    $comments_in = $comments_out = array();\n    foreach ($comments as $v) {\n        if (!is_numeric($v)) {\n            continue;\n        }\n        if ($v[0] == \'-\') {\n            $comments_out[] = abs($v);\n        } else {\n            $comments_in[] = abs($v);\n        }\n    }\n    if (!empty($comments_in)) {\n        $where[\'id:IN\'] = $comments_in;\n    }\n    if (!empty($comments_out)) {\n        $where[\'id:NOT IN\'] = $comments_out;\n    }\n}\n\n// Joining tables\n$innerJoin = array(\n    \'Thread\' => array(\n        \'class\' => \'TicketThread\',\n        \'on\' => \'`Thread`.`id` = `TicketComment`.`thread`\',\n    ),\n);\n$leftJoin = array(\n    \'User\' => array(\'class\' => \'modUser\', \'on\' => \'`User`.`id` = `TicketComment`.`createdby`\'),\n    \'Profile\' => array(\'class\' => \'modUserProfile\', \'on\' => \'`Profile`.`internalKey` = `TicketComment`.`createdby`\'),\n    \'Ticket\' => array(\'class\' => \'Ticket\', \'on\' => \'`Ticket`.`id` = `Thread`.`resource`\'),\n    \'Section\' => array(\'class\' => \'TicketsSection\', \'on\' => \'`Section`.`id` = `Ticket`.`parent`\'),\n);\nif ($Tickets->authenticated) {\n    $leftJoin[\'Vote\'] = array(\n        \'class\' => \'TicketVote\',\n        \'on\' => \'`Vote`.`id` = `TicketComment`.`id` AND `Vote`.`class` = \"TicketComment\" AND `Vote`.`createdby` = \' . $modx->user->id,\n    );\n    $leftJoin[\'Star\'] = array(\n        \'class\' => \'TicketStar\',\n        \'on\' => \'`Star`.`id` = `TicketComment`.`id` AND `Star`.`class` = \"TicketComment\" AND `Star`.`createdby` = \' . $modx->user->id,\n    );\n}\n// Fields to select\n$select = array(\n    \'TicketComment\' => $modx->getSelectColumns(\'TicketComment\', \'TicketComment\', \'\', array(\'raw\'), true),\n    \'Thread\' => \'`Thread`.`resource`, `Thread`.`comments`\',\n    \'User\' => \'`User`.`username`\',\n    \'Profile\' => $modx->getSelectColumns(\'modUserProfile\', \'Profile\', \'\', array(\'id\', \'email\'),\n            true) . \',`Profile`.`email` as `user_email`\',\n    \'Ticket\' => !empty($includeContent)\n        ? $modx->getSelectColumns(\'Ticket\', \'Ticket\', \'ticket.\')\n        : $modx->getSelectColumns(\'Ticket\', \'Ticket\', \'ticket.\', array(\'content\'), true),\n    \'Section\' => !empty($includeContent)\n        ? $modx->getSelectColumns(\'TicketsSection\', \'Section\', \'section.\')\n        : $modx->getSelectColumns(\'TicketsSection\', \'Section\', \'section.\', array(\'content\'), true),\n);\nif ($Tickets->authenticated) {\n    $select[\'Vote\'] = \'`Vote`.`value` as `vote`\';\n    $select[\'Star\'] = \'COUNT(`Star`.`id`) as `star`\';\n}\n\n// Add custom parameters\nforeach (array(\'where\', \'select\', \'leftJoin\', \'innerJoin\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$pdoFetch->addTime(\'Conditions prepared\');\n\n$default = array(\n    \'class\' => $class,\n    \'where\' => json_encode($where),\n    \'innerJoin\' => json_encode($innerJoin),\n    \'leftJoin\' => json_encode($leftJoin),\n    \'select\' => json_encode($select),\n    \'sortby\' => $class . \'.createdon\',\n    \'sortdir\' => \'DESC\',\n    \'groupby\' => $class . \'.id\',\n    \'fastMode\' => true,\n    \'return\' => \'data\',\n    \'nestedChunkPrefix\' => \'tickets_\',\n);\n\n// Merge all properties and run!\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\n$pdoFetch->addTime(\'Query parameters prepared.\');\n$rows = $pdoFetch->run();\n\n$output = array();\nif (!empty($rows)) {\n    foreach ($rows as $row) {\n        $row[\'ratings\'] = !empty($row[\'section.properties\'][\'ratings\'])\n            ? $row[\'section.properties\'][\'ratings\']\n            : array();\n        $output[] = $Tickets->templateNode($row, $tpl);\n    }\n}\n$pdoFetch->addTime(\'Returning processed chunks\');\n$output = implode($outputSeparator, $output);\n\n$log = \'\';\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\n    $log .= \'<pre class=\"getCommentsLog\">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';\n}\n\n// Return output\nif (!empty($toSeparatePlaceholders)) {\n    $output[\'log\'] = $log;\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\n} else {\n    $output .= $log;\n\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output), $pdoFetch->config[\'fastMode\']);\n    }\n\n    if (!empty($toPlaceholder)) {\n        $modx->setPlaceholder($toPlaceholder, $output);\n    } else {\n        return $output;\n    }\n}',	0,	'a:15:{s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:16:\"tickets_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:28:\"tpl.Tickets.comment.list.row\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:17:\"tplCommentDeleted\";a:7:{s:4:\"name\";s:17:\"tplCommentDeleted\";s:4:\"desc\";s:30:\"tickets_prop_tplCommentDeleted\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:31:\"tpl.Tickets.comment.one.deleted\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"depth\";a:7:{s:4:\"name\";s:5:\"depth\";s:4:\"desc\";s:18:\"tickets_prop_depth\";s:4:\"type\";s:11:\"numberfield\";s:7:\"options\";a:0:{}s:5:\"value\";i:10;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"threads\";a:7:{s:4:\"name\";s:7:\"threads\";s:4:\"desc\";s:20:\"tickets_prop_threads\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"parents\";a:7:{s:4:\"name\";s:7:\"parents\";s:4:\"desc\";s:20:\"tickets_prop_parents\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:9:\"resources\";a:7:{s:4:\"name\";s:9:\"resources\";s:4:\"desc\";s:22:\"tickets_prop_resources\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:6:\"sortby\";a:7:{s:4:\"name\";s:6:\"sortby\";s:4:\"desc\";s:19:\"tickets_prop_sortby\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"createdon\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"sortdir\";a:7:{s:4:\"name\";s:7:\"sortdir\";s:4:\"desc\";s:20:\"tickets_prop_sortdir\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:4:\"text\";s:3:\"ASC\";s:5:\"value\";s:3:\"ASC\";}i:1;a:2:{s:4:\"text\";s:4:\"DESC\";s:5:\"value\";s:4:\"DESC\";}}s:5:\"value\";s:4:\"DESC\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:14:\"includeContent\";a:7:{s:4:\"name\";s:14:\"includeContent\";s:4:\"desc\";s:27:\"tickets_prop_includeContent\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:26:\"tickets_prop_toPlaceholder\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:5:\"where\";a:7:{s:4:\"name\";s:5:\"where\";s:4:\"desc\";s:18:\"tickets_prop_where\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"outputSeparator\";a:7:{s:4:\"name\";s:15:\"outputSeparator\";s:4:\"desc\";s:28:\"tickets_prop_outputSeparator\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:1:\"\n\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:7:\"showLog\";a:7:{s:4:\"name\";s:7:\"showLog\";s:4:\"desc\";s:20:\"tickets_prop_showLog\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:15:\"showUnpublished\";a:7:{s:4:\"name\";s:15:\"showUnpublished\";s:4:\"desc\";s:28:\"tickets_prop_showUnpublished\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:11:\"showDeleted\";a:7:{s:4:\"name\";s:11:\"showDeleted\";s:4:\"desc\";s:24:\"tickets_prop_showDeleted\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.get_comments.php'),
(18,	1,	0,	'getStars',	'',	0,	4,	0,	'/** @var array $scriptProperties */\nif (empty($class)) {\n    $class = \'Ticket\';\n}\n/** @var integer $user */\nif (empty($user)) {\n    $user = $modx->user->get(\'id\');\n}\nunset($scriptProperties[\'user\']);\n\n$ids = array();\n$q = $modx->newQuery(\'TicketStar\', array(\'class\' => $class, \'createdby\' => $user));\n$q->select(\'id\');\n$tstart = microtime(true);\nif ($q->prepare() && $q->stmt->execute()) {\n    $modx->queryTime = microtime(true) - $tstart;\n    $modx->executedQueries++;\n\n    $ids = $q->stmt->fetchAll(PDO::FETCH_COLUMN);\n}\n\nif (empty($ids)) {\n    return false;\n}\n\n$where = array($class . \'.id:IN\' => $ids);\nforeach (array(\'where\') as $v) {\n    if (!empty($scriptProperties[$v])) {\n        $tmp = $scriptProperties[$v];\n        if (!is_array($tmp)) {\n            $tmp = json_decode($tmp, true);\n        }\n        if (is_array($tmp)) {\n            $$v = array_merge($$v, $tmp);\n        }\n    }\n    unset($scriptProperties[$v]);\n}\n$scriptProperties[\'where\'] = json_encode($where);\nif (empty($parents)) {\n    $scriptProperties[\'parents\'] = 0;\n}\nif (empty($tpl)) {\n    unset($scriptProperties[\'tpl\']);\n}\n\nreturn $class == \'Ticket\'\n    ? $modx->runSnippet(\'getTickets\', $scriptProperties)\n    : $modx->runSnippet(\'getComments\', $scriptProperties);',	0,	'a:2:{s:5:\"class\";a:7:{s:4:\"name\";s:5:\"class\";s:4:\"desc\";s:18:\"tickets_prop_class\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:6:\"Ticket\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:16:\"tickets_prop_tpl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:18:\"tickets:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/tickets/elements/snippets/snippet.get_stars.php'),
(19,	1,	0,	'Jevix',	'HTML validator and filter',	0,	5,	0,	'/** @var array $scriptProperties */\n/** @var Jevix $Jevix */\nif (!$modx->loadClass(\'jevix\', MODX_CORE_PATH . \'components/jevix/model/jevix/\', false, true)) {\n	return \'Could not load Jevix!\';\n}\nelseif (empty($input)) {\n	return \'\';\n}\n\nif (!empty($options) && is_string($options) && $options[0] == \'{\') {\n	$scriptProperties = $modx->fromJSON($options);\n}\n\n$Jevix = new Jevix($modx, $scriptProperties);\n$processed = $Jevix->process($input);\n\nif (!empty($scriptProperties[\'escapeTags\'])) {\n	$processed = str_replace(\n		array(\'[\', \']\', \'`\', \'{\', \'}\'),\n		array(\'&#91;\', \'&#93;\', \'&#96;\', \'&#123;\', \'&#125;\'),\n		$processed\n	);\n}\n\nreturn $processed;',	0,	'a:21:{s:5:\"input\";a:7:{s:4:\"name\";s:5:\"input\";s:4:\"desc\";s:16:\"jevix_prop_input\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:5:\"debug\";a:7:{s:4:\"name\";s:5:\"debug\";s:4:\"desc\";s:16:\"jevix_prop_debug\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:9:\"logErrors\";a:7:{s:4:\"name\";s:9:\"logErrors\";s:4:\"desc\";s:20:\"jevix_prop_logErrors\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:10:\"escapeTags\";a:7:{s:4:\"name\";s:10:\"escapeTags\";s:4:\"desc\";s:21:\"jevix_prop_escapeTags\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:17:\"cfgAllowTagParams\";a:7:{s:4:\"name\";s:17:\"cfgAllowTagParams\";s:4:\"desc\";s:28:\"jevix_prop_cfgAllowTagParams\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:163:\"{\"a\":[\"title\",\"href\"],\"img\":{\"0\":\"src\",\"alt\":\"#text\",\"1\":\"title\",\"align\":[\"right\",\"left\",\"center\"],\"width\":\"#int\",\"height\":\"#int\",\"hspace\":\"#int\",\"vspace\":\"#int\"}}\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:12:\"cfgAllowTags\";a:7:{s:4:\"name\";s:12:\"cfgAllowTags\";s:4:\"desc\";s:23:\"jevix_prop_cfgAllowTags\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:112:\"p,a,img,i,b,u,em,strong,nobr,li,ol,ul,sup,abbr,pre,acronym,h1,h2,h3,h4,h5,h6,cut,br,code,table,tr,th,td,video,hr\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:16:\"cfgSetAutoBrMode\";a:7:{s:4:\"name\";s:16:\"cfgSetAutoBrMode\";s:4:\"desc\";s:27:\"jevix_prop_cfgSetAutoBrMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:18:\"cfgSetAutoLinkMode\";a:7:{s:4:\"name\";s:18:\"cfgSetAutoLinkMode\";s:4:\"desc\";s:29:\"jevix_prop_cfgSetAutoLinkMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:1;s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:17:\"cfgSetAutoReplace\";a:7:{s:4:\"name\";s:17:\"cfgSetAutoReplace\";s:4:\"desc\";s:28:\"jevix_prop_cfgSetAutoReplace\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:84:\"[[\"+/-\",\"(c)\",\"(с)\",\"(r)\",\"(C)\",\"(С)\",\"(R)\"],[\"±\",\"©\",\"©\",\"®\",\"©\",\"©\",\"®\"]]\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:21:\"cfgSetAutoPregReplace\";a:7:{s:4:\"name\";s:21:\"cfgSetAutoPregReplace\";s:4:\"desc\";s:32:\"jevix_prop_cfgSetAutoPregReplace\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:464:\"[[\"\\/<video>(http|https):\\\\\\/\\\\\\/(?:www\\\\.|)youtube\\\\.com\\\\\\/watch\\\\?v=([a-zA-Z0-9_\\\\-]+)(&.+)?<\\\\\\/video>\\/Ui\",\"\\/<video>(http|https):\\\\\\/\\\\\\/(?:www\\\\.|)youtu\\\\.be\\\\\\/([a-zA-Z0-9_\\\\-]+)(&.+)?<\\\\\\/video>\\/Ui\"],[\"<iframe width=\\\"700\\\" height=\\\"394\\\" src=\\\"$1:\\/\\/www.youtube.com\\/embed\\/$2\\\" frameborder=\\\"0\\\" allowfullscreen><\\/iframe>\",\"<iframe width=\\\"700\\\" height=\\\"394\\\" src=\\\"$1:\\/\\/www.youtube.com\\/embed\\/$2\\\" frameborder=\\\"0\\\" allowfullscreen><\\/iframe>\"]]\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:15:\"cfgSetTagChilds\";a:7:{s:4:\"name\";s:15:\"cfgSetTagChilds\";s:4:\"desc\";s:26:\"jevix_prop_cfgSetTagChilds\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:109:\"[[\"ul\",[\"li\"],false,true],[\"ol\",[\"li\"],false,true],[\"table\",[\"tr\"],false,true],[\"tr\",[\"td\",\"th\"],false,true]]\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:23:\"cfgSetTagCutWithContent\";a:7:{s:4:\"name\";s:23:\"cfgSetTagCutWithContent\";s:4:\"desc\";s:34:\"jevix_prop_cfgSetTagCutWithContent\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:26:\"script,object,iframe,style\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:17:\"cfgSetTagNoAutoBr\";a:7:{s:4:\"name\";s:17:\"cfgSetTagNoAutoBr\";s:4:\"desc\";s:28:\"jevix_prop_cfgSetTagNoAutoBr\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:21:\"ul,ol,object,table,tr\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:21:\"cfgSetTagParamDefault\";a:7:{s:4:\"name\";s:21:\"cfgSetTagParamDefault\";s:4:\"desc\";s:32:\"jevix_prop_cfgSetTagParamDefault\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:23:\"[[\"a\",\"rel\",null,true]]\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:23:\"cfgSetTagParamsRequired\";a:7:{s:4:\"name\";s:23:\"cfgSetTagParamsRequired\";s:4:\"desc\";s:34:\"jevix_prop_cfgSetTagParamsRequired\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:28:\"{\"img\":[\"src\"],\"a\":[\"href\"]}\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:21:\"cfgSetTagNoTypography\";a:7:{s:4:\"name\";s:21:\"cfgSetTagNoTypography\";s:4:\"desc\";s:32:\"jevix_prop_cfgSetTagNoTypography\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:14:\"pre,code,video\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:21:\"cfgSetTagPreformatted\";a:7:{s:4:\"name\";s:21:\"cfgSetTagPreformatted\";s:4:\"desc\";s:32:\"jevix_prop_cfgSetTagPreformatted\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:8:\"pre,code\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:18:\"cfgSetTagBlockType\";a:7:{s:4:\"name\";s:18:\"cfgSetTagBlockType\";s:4:\"desc\";s:29:\"jevix_prop_cfgSetTagBlockType\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:60:\"[\"h4\",\"h5\",\"h6\",\"ol\",\"ul\",\"blockquote\",\"pre\",\"code\",\"video\"]\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:14:\"cfgSetTagShort\";a:7:{s:4:\"name\";s:14:\"cfgSetTagShort\";s:4:\"desc\";s:25:\"jevix_prop_cfgSetTagShort\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:13:\"br,img,hr,cut\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:16:\"cfgSetTagIsEmpty\";a:7:{s:4:\"name\";s:16:\"cfgSetTagIsEmpty\";s:4:\"desc\";s:27:\"jevix_prop_cfgSetTagIsEmpty\";s:4:\"type\";s:8:\"textarea\";s:7:\"options\";a:0:{}s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}s:15:\"cfgSetXHTMLMode\";a:7:{s:4:\"name\";s:15:\"cfgSetXHTMLMode\";s:4:\"desc\";s:26:\"jevix_prop_cfgSetXHTMLMode\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:16:\"jevix:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/jevix/elements/snippets/snippet.jevix.php'),
(20,	0,	0,	'FormIt',	'A dynamic form processing snippet.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * FormIt\n *\n * A dynamic form processing Snippet for MODx Revolution.\n *\n * @var modX $modx\n * @var array $scriptProperties\n *\n * @package formit\n */\n\n$modelPath = $modx->getOption(\'formit.core_path\', null, $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/formit/\') . \'model/formit/\';\n$modx->loadClass(\'FormIt\', $modelPath, true, true);\n\n$fi = new FormIt($modx,$scriptProperties);\n$fi->initialize($modx->context->get(\'key\'));\n$fi->loadRequest();\n\n$fields = $fi->request->prepare();\nreturn $fi->request->handle($fields);',	0,	'a:58:{s:5:\"hooks\";a:7:{s:4:\"name\";s:5:\"hooks\";s:4:\"desc\";s:22:\"prop_formit.hooks_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:8:\"preHooks\";a:7:{s:4:\"name\";s:8:\"preHooks\";s:4:\"desc\";s:25:\"prop_formit.prehooks_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:9:\"submitVar\";a:7:{s:4:\"name\";s:9:\"submitVar\";s:4:\"desc\";s:26:\"prop_formit.submitvar_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:8:\"validate\";a:7:{s:4:\"name\";s:8:\"validate\";s:4:\"desc\";s:25:\"prop_formit.validate_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:6:\"errTpl\";a:7:{s:4:\"name\";s:6:\"errTpl\";s:4:\"desc\";s:23:\"prop_formit.errtpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:37:\"<span class=\"error\">[[+error]]</span>\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:22:\"validationErrorMessage\";a:7:{s:4:\"name\";s:22:\"validationErrorMessage\";s:4:\"desc\";s:39:\"prop_formit.validationerrormessage_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:96:\"<p class=\"error\">A form validation error occurred. Please check the values you have entered.</p>\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:22:\"validationErrorBulkTpl\";a:7:{s:4:\"name\";s:22:\"validationErrorBulkTpl\";s:4:\"desc\";s:39:\"prop_formit.validationerrorbulktpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:19:\"<li>[[+error]]</li>\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:26:\"trimValuesBeforeValidation\";a:7:{s:4:\"name\";s:26:\"trimValuesBeforeValidation\";s:4:\"desc\";s:43:\"prop_formit.trimvaluesdeforevalidation_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:16:\"customValidators\";a:7:{s:4:\"name\";s:16:\"customValidators\";s:4:\"desc\";s:33:\"prop_formit.customvalidators_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:20:\"clearFieldsOnSuccess\";a:7:{s:4:\"name\";s:20:\"clearFieldsOnSuccess\";s:4:\"desc\";s:37:\"prop_formit.clearfieldsonsuccess_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:14:\"successMessage\";a:7:{s:4:\"name\";s:14:\"successMessage\";s:4:\"desc\";s:31:\"prop_formit.successmessage_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:25:\"successMessagePlaceholder\";a:7:{s:4:\"name\";s:25:\"successMessagePlaceholder\";s:4:\"desc\";s:42:\"prop_formit.successmessageplaceholder_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:17:\"fi.successMessage\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:5:\"store\";a:7:{s:4:\"name\";s:5:\"store\";s:4:\"desc\";s:22:\"prop_formit.store_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:17:\"placeholderPrefix\";a:7:{s:4:\"name\";s:17:\"placeholderPrefix\";s:4:\"desc\";s:34:\"prop_formit.placeholderprefix_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:3:\"fi.\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:9:\"storeTime\";a:7:{s:4:\"name\";s:9:\"storeTime\";s:4:\"desc\";s:26:\"prop_formit.storetime_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:3:\"300\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:13:\"storeLocation\";a:7:{s:4:\"name\";s:13:\"storeLocation\";s:4:\"desc\";s:30:\"prop_formit.storelocation_desc\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:5:\"value\";s:5:\"cache\";s:4:\"text\";s:16:\"formit.opt_cache\";}i:1;a:2:{s:5:\"value\";s:7:\"session\";s:4:\"text\";s:18:\"formit.opt_session\";}}s:5:\"value\";s:5:\"cache\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:10:\"allowFiles\";a:7:{s:4:\"name\";s:10:\"allowFiles\";s:4:\"desc\";s:27:\"prop_formit.allowfiles_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:15:\"spamEmailFields\";a:7:{s:4:\"name\";s:15:\"spamEmailFields\";s:4:\"desc\";s:32:\"prop_formit.spamemailfields_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:5:\"email\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"spamCheckIp\";a:7:{s:4:\"name\";s:11:\"spamCheckIp\";s:4:\"desc\";s:28:\"prop_formit.spamcheckip_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"recaptchaJs\";a:7:{s:4:\"name\";s:11:\"recaptchaJs\";s:4:\"desc\";s:28:\"prop_formit.recaptchajs_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:2:\"{}\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:14:\"recaptchaTheme\";a:7:{s:4:\"name\";s:14:\"recaptchaTheme\";s:4:\"desc\";s:31:\"prop_formit.recaptchatheme_desc\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:4:{i:0;a:2:{s:5:\"value\";s:3:\"red\";s:4:\"text\";s:14:\"formit.opt_red\";}i:1;a:2:{s:5:\"value\";s:5:\"white\";s:4:\"text\";s:16:\"formit.opt_white\";}i:2;a:2:{s:5:\"value\";s:5:\"clean\";s:4:\"text\";s:16:\"formit.opt_clean\";}i:3;a:2:{s:5:\"value\";s:10:\"blackglass\";s:4:\"text\";s:21:\"formit.opt_blackglass\";}}s:5:\"value\";s:5:\"clean\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:10:\"redirectTo\";a:7:{s:4:\"name\";s:10:\"redirectTo\";s:4:\"desc\";s:27:\"prop_formit.redirectto_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:14:\"redirectParams\";a:7:{s:4:\"name\";s:14:\"redirectParams\";s:4:\"desc\";s:31:\"prop_formit.redirectparams_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"emailTo\";a:7:{s:4:\"name\";s:7:\"emailTo\";s:4:\"desc\";s:24:\"prop_formit.emailto_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"emailToName\";a:7:{s:4:\"name\";s:11:\"emailToName\";s:4:\"desc\";s:28:\"prop_formit.emailtoname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:9:\"emailFrom\";a:7:{s:4:\"name\";s:9:\"emailFrom\";s:4:\"desc\";s:26:\"prop_formit.emailfrom_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:13:\"emailFromName\";a:7:{s:4:\"name\";s:13:\"emailFromName\";s:4:\"desc\";s:30:\"prop_formit.emailfromname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"emailReplyTo\";a:7:{s:4:\"name\";s:12:\"emailReplyTo\";s:4:\"desc\";s:29:\"prop_formit.emailreplyto_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:16:\"emailReplyToName\";a:7:{s:4:\"name\";s:16:\"emailReplyToName\";s:4:\"desc\";s:33:\"prop_formit.emailreplytoname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"emailCC\";a:7:{s:4:\"name\";s:7:\"emailCC\";s:4:\"desc\";s:24:\"prop_formit.emailcc_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"emailCCName\";a:7:{s:4:\"name\";s:11:\"emailCCName\";s:4:\"desc\";s:28:\"prop_formit.emailccname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:8:\"emailBCC\";a:7:{s:4:\"name\";s:8:\"emailBCC\";s:4:\"desc\";s:25:\"prop_formit.emailbcc_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"emailBCCName\";a:7:{s:4:\"name\";s:12:\"emailBCCName\";s:4:\"desc\";s:29:\"prop_formit.emailbccname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:15:\"emailReturnPath\";a:7:{s:4:\"name\";s:15:\"emailReturnPath\";s:4:\"desc\";s:32:\"prop_formit.emailreturnpath_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"emailSubject\";a:7:{s:4:\"name\";s:12:\"emailSubject\";s:4:\"desc\";s:29:\"prop_formit.emailsubject_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:23:\"emailUseFieldForSubject\";a:7:{s:4:\"name\";s:23:\"emailUseFieldForSubject\";s:4:\"desc\";s:40:\"prop_formit.emailusefieldforsubject_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:9:\"emailHtml\";a:7:{s:4:\"name\";s:9:\"emailHtml\";s:4:\"desc\";s:26:\"prop_formit.emailhtml_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:20:\"emailConvertNewlines\";a:7:{s:4:\"name\";s:20:\"emailConvertNewlines\";s:4:\"desc\";s:37:\"prop_formit.emailconvertnewlines_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:17:\"emailMultiWrapper\";a:7:{s:4:\"name\";s:17:\"emailMultiWrapper\";s:4:\"desc\";s:34:\"prop_formit.emailmultiwrapper_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:10:\"[[+value]]\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:19:\"emailMultiSeparator\";a:7:{s:4:\"name\";s:19:\"emailMultiSeparator\";s:4:\"desc\";s:36:\"prop_formit.emailmultiseparator_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"fiarTpl\";a:7:{s:4:\"name\";s:7:\"fiarTpl\";s:4:\"desc\";s:24:\"prop_formit.fiartpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"fiarToField\";a:7:{s:4:\"name\";s:11:\"fiarToField\";s:4:\"desc\";s:28:\"prop_formit.fiartofield_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:5:\"email\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"fiarSubject\";a:7:{s:4:\"name\";s:11:\"fiarSubject\";s:4:\"desc\";s:28:\"prop_formit.fiarsubject_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:30:\"[[++site_name]] Auto-Responder\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fiarFrom\";a:7:{s:4:\"name\";s:8:\"fiarFrom\";s:4:\"desc\";s:25:\"prop_formit.fiarfrom_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"fiarFromName\";a:7:{s:4:\"name\";s:12:\"fiarFromName\";s:4:\"desc\";s:29:\"prop_formit.fiarfromname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"fiarReplyTo\";a:7:{s:4:\"name\";s:11:\"fiarReplyTo\";s:4:\"desc\";s:28:\"prop_formit.fiarreplyto_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:15:\"fiarReplyToName\";a:7:{s:4:\"name\";s:15:\"fiarReplyToName\";s:4:\"desc\";s:32:\"prop_formit.fiarreplytoname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:6:\"fiarCC\";a:7:{s:4:\"name\";s:6:\"fiarCC\";s:4:\"desc\";s:23:\"prop_formit.fiarcc_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:10:\"fiarCCName\";a:7:{s:4:\"name\";s:10:\"fiarCCName\";s:4:\"desc\";s:25:\"prop_fiar.fiarccname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"fiarBCC\";a:7:{s:4:\"name\";s:7:\"fiarBCC\";s:4:\"desc\";s:24:\"prop_formit.fiarbcc_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"fiarBCCName\";a:7:{s:4:\"name\";s:11:\"fiarBCCName\";s:4:\"desc\";s:28:\"prop_formit.fiarbccname_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:8:\"fiarHtml\";a:7:{s:4:\"name\";s:8:\"fiarHtml\";s:4:\"desc\";s:25:\"prop_formit.fiarhtml_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"mathMinRange\";a:7:{s:4:\"name\";s:12:\"mathMinRange\";s:4:\"desc\";s:29:\"prop_formit.mathminrange_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:2:\"10\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"mathMaxRange\";a:7:{s:4:\"name\";s:12:\"mathMaxRange\";s:4:\"desc\";s:29:\"prop_formit.mathmaxrange_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:3:\"100\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:9:\"mathField\";a:7:{s:4:\"name\";s:9:\"mathField\";s:4:\"desc\";s:26:\"prop_formit.mathfield_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:4:\"math\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"mathOp1Field\";a:7:{s:4:\"name\";s:12:\"mathOp1Field\";s:4:\"desc\";s:29:\"prop_formit.mathop1field_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:3:\"op1\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"mathOp2Field\";a:7:{s:4:\"name\";s:12:\"mathOp2Field\";s:4:\"desc\";s:29:\"prop_formit.mathop2field_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:3:\"op2\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:17:\"mathOperatorField\";a:7:{s:4:\"name\";s:17:\"mathOperatorField\";s:4:\"desc\";s:34:\"prop_formit.mathoperatorfield_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:8:\"operator\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	''),
(21,	0,	0,	'FormItAutoResponder',	'Custom hook for FormIt to handle Auto-Response emails.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * A custom FormIt hook for auto-responders.\n *\n * @var modX $modx\n * @var array $scriptProperties\n * @var FormIt $formit\n * @var fiHooks $hook\n * \n * @package formit\n */\n/* setup default properties */\n$tpl = $modx->getOption(\'fiarTpl\',$scriptProperties,\'fiDefaultFiarTpl\');\n$mailFrom = $modx->getOption(\'fiarFrom\',$scriptProperties,$modx->getOption(\'emailsender\'));\n$mailFromName = $modx->getOption(\'fiarFromName\',$scriptProperties,$modx->getOption(\'site_name\'));\n$mailSender = $modx->getOption(\'fiarSender\',$scriptProperties,$modx->getOption(\'emailsender\'));\n$mailSubject = $modx->getOption(\'fiarSubject\',$scriptProperties,\'[[++site_name]] Auto-Responder\');\n$mailSubject = str_replace(array(\'[[++site_name]]\',\'[[++emailsender]]\'),array($modx->getOption(\'site_name\'),$modx->getOption(\'emailsender\')),$mailSubject);\n$fiarFiles = $modx->getOption(\'fiarFiles\',$scriptProperties,false);\n$isHtml = $modx->getOption(\'fiarHtml\',$scriptProperties,true);\n$toField = $modx->getOption(\'fiarToField\',$scriptProperties,\'email\');\n$multiSeparator = $modx->getOption(\'fiarMultiSeparator\',$formit->config,\"\\n\");\n$multiWrapper = $modx->getOption(\'fiarMultiWrapper\',$formit->config,\"[[+value]]\");\n$required = $modx->getOption(\'fiarRequired\',$scriptProperties,true);\nif (empty($fields[$toField])) {\n    if ($required) {\n        $modx->log(modX::LOG_LEVEL_ERROR,\'[FormIt] Auto-responder could not find field `\'.$toField.\'` in form submission.\');\n        return false;\n    } else {\n        return true;\n    }\n}\n\n/* handle checkbox and array fields */\nforeach ($fields as $k => &$v) {\n    if (is_array($v) && !empty($v[\'name\']) && isset($v[\'error\']) && $v[\'error\'] == UPLOAD_ERR_OK) {\n        $fields[$k] = $v[\'name\'];\n    } else if (is_array($v)) {\n        $vOpts = array();\n        foreach ($v as $vKey => $vValue) {\n            if (is_string($vKey) && !empty($vKey)) {\n                $vKey = $k.\'.\'.$vKey;\n                $fields[$vKey] = $vValue;\n            } else {\n                $vOpts[] = str_replace(\'[[+value]]\',$vValue,$multiWrapper);\n            }\n        }\n        $newValue = implode($multiSeparator,$vOpts);\n        if (!empty($vOpts)) {\n            $fields[$k] = $newValue;\n        }\n    }\n}\n\n/* setup placeholders */\n$placeholders = $fields;\n$mailTo= $fields[$toField];\n\n$message = $formit->getChunk($tpl,$placeholders);\n$modx->parser->processElementTags(\'\',$message,true,false);\n\n$modx->getService(\'mail\', \'mail.modPHPMailer\');\n$modx->mail->reset();\n$modx->mail->set(modMail::MAIL_BODY,$message);\n$modx->mail->set(modMail::MAIL_FROM,$hook->_process($mailFrom,$placeholders));\n$modx->mail->set(modMail::MAIL_FROM_NAME,$hook->_process($mailFromName,$placeholders));\n$modx->mail->set(modMail::MAIL_SENDER,$hook->_process($mailSender,$placeholders));\n$modx->mail->set(modMail::MAIL_SUBJECT,$hook->_process($mailSubject,$placeholders));\n$modx->mail->address(\'to\',$mailTo);\n$modx->mail->setHTML($isHtml);\n\n/* add attachments */\nif($fiarFiles){\n    $fiarFiles = explode(\',\', $fiarFiles);\n    foreach($fiarFiles AS $file){\n        $modx->mail->mailer->AddAttachment($file);\n    }\n}\n\n/* reply to */\n$emailReplyTo = $modx->getOption(\'fiarReplyTo\',$scriptProperties,$mailFrom);\n$emailReplyTo = $hook->_process($emailReplyTo,$fields);\n$emailReplyToName = $modx->getOption(\'fiarReplyToName\',$scriptProperties,$mailFromName);\n$emailReplyToName = $hook->_process($emailReplyToName,$fields);\nif (!empty($emailReplyTo)) {\n    $modx->mail->address(\'reply-to\',$emailReplyTo,$emailReplyToName);\n}\n\n/* cc */\n$emailCC = $modx->getOption(\'fiarCC\',$scriptProperties,\'\');\nif (!empty($emailCC)) {\n    $emailCCName = $modx->getOption(\'fiarCCName\',$scriptProperties,\'\');\n    $emailCC = explode(\',\',$emailCC);\n    $emailCCName = explode(\',\',$emailCCName);\n    $numAddresses = count($emailCC);\n    for ($i=0;$i<$numAddresses;$i++) {\n        $etn = !empty($emailCCName[$i]) ? $emailCCName[$i] : \'\';\n        if (!empty($etn)) $etn = $hook->_process($etn,$fields);\n        $emailCC[$i] = $hook->_process($emailCC[$i],$fields);\n        if (!empty($emailCC[$i])) {\n            $modx->mail->address(\'cc\',$emailCC[$i],$etn);\n        }\n    }\n}\n\n/* bcc */\n$emailBCC = $modx->getOption(\'fiarBCC\',$scriptProperties,\'\');\nif (!empty($emailBCC)) {\n    $emailBCCName = $modx->getOption(\'fiarBCCName\',$scriptProperties,\'\');\n    $emailBCC = explode(\',\',$emailBCC);\n    $emailBCCName = explode(\',\',$emailBCCName);\n    $numAddresses = count($emailBCC);\n    for ($i=0;$i<$numAddresses;$i++) {\n        $etn = !empty($emailBCCName[$i]) ? $emailBCCName[$i] : \'\';\n        if (!empty($etn)) $etn = $hook->_process($etn,$fields);\n        $emailBCC[$i] = $hook->_process($emailBCC[$i],$fields);\n        if (!empty($emailBCC[$i])) {\n            $modx->mail->address(\'bcc\',$emailBCC[$i],$etn);\n        }\n    }\n}\n\nif (!$formit->inTestMode) {\n    if (!$modx->mail->send()) {\n        $modx->log(modX::LOG_LEVEL_ERROR,\'[FormIt] An error occurred while trying to send the auto-responder email: \'.$modx->mail->mailer->ErrorInfo);\n        return false;\n    }\n}\n$modx->mail->reset();\nreturn true;',	0,	'a:0:{}',	'',	0,	''),
(22,	0,	0,	'FormItRetriever',	'Fetches a form submission for a user for displaying on a thank you page.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * FormItRetriever\n *\n * Retrieves a prior form submission that was stored with the &store property\n * in a FormIt call.\n *\n * @var modX $modx\n * @var array $scriptProperties\n *\n * @package formit\n */\n\n$modelPath = $modx->getOption(\'formit.core_path\', null, $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/formit/\') . \'model/formit/\';\n$modx->loadClass(\'FormIt\', $modelPath, true, true);\n\n$fi = new FormIt($modx,$scriptProperties);\n\n/* setup properties */\n$placeholderPrefix = $modx->getOption(\'placeholderPrefix\',$scriptProperties,\'fi.\');\n$eraseOnLoad = $modx->getOption(\'eraseOnLoad\',$scriptProperties,false);\n$redirectToOnNotFound = $modx->getOption(\'redirectToOnNotFound\',$scriptProperties,false);\n\n/* fetch data from cache and set to placeholders */\n$fi->loadRequest();\n$fi->request->loadDictionary();\n$data = $fi->request->dictionary->retrieve();\nif (!empty($data)) {\n    /* set data to placeholders */\n    foreach ($data as $k=>$v) {\n        /*checkboxes & other multi-values are stored as arrays, must be imploded*/\n        if (is_array($v)) {\n            $data[$k] = implode(\',\',$v);\n        }\n    }\n    $modx->toPlaceholders($data,$placeholderPrefix,\'\');\n    \n    /* if set, erase the data on load, otherwise depend on cache expiry time */\n    if ($eraseOnLoad) {\n        $fi->request->dictionary->erase();\n    }\n/* if the data\'s not found, and we want to redirect somewhere if so, do here */\n} else if (!empty($redirectToOnNotFound)) {\n    $url = $modx->makeUrl($redirectToOnNotFound);\n    $modx->sendRedirect($url);\n}\nreturn \'\';',	0,	'a:4:{s:17:\"placeholderPrefix\";a:7:{s:4:\"name\";s:17:\"placeholderPrefix\";s:4:\"desc\";s:31:\"prop_fir.placeholderprefix_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:3:\"fi.\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:20:\"redirectToOnNotFound\";a:7:{s:4:\"name\";s:20:\"redirectToOnNotFound\";s:4:\"desc\";s:34:\"prop_fir.redirecttoonnotfound_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"eraseOnLoad\";a:7:{s:4:\"name\";s:11:\"eraseOnLoad\";s:4:\"desc\";s:25:\"prop_fir.eraseonload_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:0;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:13:\"storeLocation\";a:7:{s:4:\"name\";s:13:\"storeLocation\";s:4:\"desc\";s:27:\"prop_fir.storelocation_desc\";s:4:\"type\";s:4:\"list\";s:7:\"options\";a:2:{i:0;a:2:{s:5:\"value\";s:5:\"cache\";s:4:\"text\";s:16:\"formit.opt_cache\";}i:1;a:2:{s:5:\"value\";s:7:\"session\";s:4:\"text\";s:18:\"formit.opt_session\";}}s:5:\"value\";s:5:\"cache\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	''),
(23,	0,	0,	'FormItIsChecked',	'A custom output filter used with checkboxes/radios for checking checked status.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * FormItIsChecked\n *\n * Custom output filter that returns checked=\"checked\" if the value is set\n *\n * @var string $input\n * @var string $options\n * @var modX $modx\n *\n * @package formit\n */\n$output = \' \';\nif ($input == $options) {\n    $output = \' checked=\"checked\"\';\n}\n$input = $modx->fromJSON($input);\nif (!empty($input) && is_array($input) && in_array($options,$input)) {\n  $output = \' checked=\"checked\"\';\n}\nreturn $output;',	0,	'a:0:{}',	'',	0,	''),
(24,	0,	0,	'FormItIsSelected',	'A custom output filter used with dropdowns for checking selected status.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * FormItIsChecked\n *\n * Custom output filter that returns checked=\"checked\" if the value is set\n *\n * @var string $input\n * @var string $options\n * @var modX $modx\n *\n * @package formit\n */\n$output = \' \';\nif ($input == $options) {\n    $output = \' selected=\"selected\"\';\n}\n$input = $modx->fromJSON($input);\nif (!empty($input) && is_array($input) && in_array($options,$input)) {\n  $output = \' selected=\"selected\"\';\n}\nreturn $output;',	0,	'a:0:{}',	'',	0,	''),
(25,	0,	0,	'FormItCountryOptions',	'A utility snippet for generating a dropdown list of countries.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * FormItCountryOptions\n *\n * Automatically generates and outputs a country list for usage in forms\n *\n * @var modX $modx\n * @var array $scriptProperties\n *\n * @package formit\n */\n\n$modelPath = $modx->getOption(\'formit.core_path\', null, $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/formit/\') . \'model/formit/\';\n$modx->loadClass(\'FormIt\', $modelPath, true, true);\n\n$fi = new FormIt($modx,$scriptProperties);\n\n/** @var fiCountryOptions $co */\n$co = $fi->loadModule(\'fiCountryOptions\',\'countryOptions\',$scriptProperties);\n$co->initialize();\n$co->getData();\n$co->loadPrioritized();\n$co->iterate();\nreturn $co->output();',	0,	'a:11:{s:8:\"selected\";a:7:{s:4:\"name\";s:8:\"selected\";s:4:\"desc\";s:23:\"prop_fico.selected_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:18:\"prop_fico.tpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:18:\"fiDefaultOptionTpl\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:10:\"useIsoCode\";a:7:{s:4:\"name\";s:10:\"useIsoCode\";s:4:\"desc\";s:25:\"prop_fico.useisocode_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"prioritized\";a:7:{s:4:\"name\";s:11:\"prioritized\";s:4:\"desc\";s:26:\"prop_fico.prioritized_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:11:\"optGroupTpl\";a:7:{s:4:\"name\";s:11:\"optGroupTpl\";s:4:\"desc\";s:26:\"prop_fico.optgrouptpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:20:\"fiDefaultOptGroupTpl\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:20:\"prioritizedGroupText\";a:7:{s:4:\"name\";s:20:\"prioritizedGroupText\";s:4:\"desc\";s:35:\"prop_fico.prioritizedgrouptext_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:12:\"allGroupText\";a:7:{s:4:\"name\";s:12:\"allGroupText\";s:4:\"desc\";s:27:\"prop_fico.allgrouptext_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:17:\"selectedAttribute\";a:7:{s:4:\"name\";s:17:\"selectedAttribute\";s:4:\"desc\";s:32:\"prop_fico.selectedattribute_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:20:\" selected=\"selected\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:28:\"prop_fico.toplaceholder_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"country\";a:7:{s:4:\"name\";s:7:\"country\";s:4:\"desc\";s:22:\"prop_fico.country_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:16:\"[[++cultureKey]]\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"limited\";a:7:{s:4:\"name\";s:7:\"limited\";s:4:\"desc\";s:22:\"prop_fico.limited_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	''),
(26,	0,	0,	'FormItStateOptions',	'A utility snippet for generating a dropdown list of U.S. states.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * FormItStateOptions\n *\n * Automatically generates and outputs a U.S. state list for usage in forms\n *\n * @var modX $modx\n * @var array $scriptProperties\n *\n * @package formit\n */\n\n$modelPath = $modx->getOption(\'formit.core_path\', null, $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/formit/\') . \'model/formit/\';\n$modx->loadClass(\'FormIt\', $modelPath, true, true);\n\n$fi = new FormIt($modx,$scriptProperties);\n\n/** @var fiStateOptions $so */\n$so = $fi->loadModule(\'fiStateOptions\',\'stateOptions\',$scriptProperties);\n$so->initialize();\n$so->getData();\n$so->iterate();\nreturn $so->output();',	0,	'a:6:{s:8:\"selected\";a:7:{s:4:\"name\";s:8:\"selected\";s:4:\"desc\";s:23:\"prop_fiso.selected_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:3:\"tpl\";a:7:{s:4:\"name\";s:3:\"tpl\";s:4:\"desc\";s:18:\"prop_fiso.tpl_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:18:\"fiDefaultOptionTpl\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"useAbbr\";a:7:{s:4:\"name\";s:7:\"useAbbr\";s:4:\"desc\";s:22:\"prop_fiso.useabbr_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";s:0:\"\";s:5:\"value\";b:1;s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:17:\"selectedAttribute\";a:7:{s:4:\"name\";s:17:\"selectedAttribute\";s:4:\"desc\";s:32:\"prop_fiso.selectedattribute_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:20:\" selected=\"selected\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:13:\"toPlaceholder\";a:7:{s:4:\"name\";s:13:\"toPlaceholder\";s:4:\"desc\";s:28:\"prop_fiso.toplaceholder_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:0:\"\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}s:7:\"country\";a:7:{s:4:\"name\";s:7:\"country\";s:4:\"desc\";s:22:\"prop_fiso.country_desc\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";s:0:\"\";s:5:\"value\";s:16:\"[[++cultureKey]]\";s:7:\"lexicon\";s:17:\"formit:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	''),
(27,	0,	0,	'FormItSaveForm',	'Custom hook for FormIt to save the form.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2011-12 by SCHERP Ontwikkeling <info@scherpontwikkeling.nl>\n * Copyright 2015 by Wieger Sloot <modx@sterc.nl>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * A custom FormIt hook for saving filled-in forms. - Based on FormSave\n *\n * @var modX $modx\n * @var array $scriptProperties\n * @var FormIt $formit\n * @var fiHooks $hook\n * \n * @package formit\n */\n/* setup default properties */\n$values = $hook->getValues();\n$formName = $modx->getOption(\'formName\', $formit->config, \'form-\'.$modx->resource->get(\'id\'));\n// process formName. Pick a value from the form\n// Inspired from the email\'s hook of formit (fihooks.class.php)\nif (is_string($formName)) {\n    foreach ($fields as $k => $v) {\n        if (is_scalar($k) && is_scalar($v)) {\n            $formName = str_replace(\'[[+\'.$k.\']]\',$v,$formName);\n        }\n    }\n}\n\n$formEncrypt = $modx->getOption(\'formEncrypt\', $formit->config, false);\n$formFields = $modx->getOption(\'formFields\', $formit->config, false);\n$fieldNames = $modx->getOption(\'fieldNames\', $formit->config, false);\n$updateSavedForm = $modx->getOption(\'updateSavedForm\', $formit->config, false); // true, false, \'1\', \'0\', or \'values\'\n// In order to use update process, you need to provide the hash key to the user somehow\n// Usually with [[!FormItRetriever]] to populate this form field:\n$formHashKeyField = $modx->getOption(\'savedFormHashKeyField\', $formit->config, \'savedFormHashKey\');\n// Disable if you want to use the session_id() in your hash, like FormIt does\n// WARNING: this can cause potential hash key collisions and overwriting of the wrong form record!!\n$formHashKeyRandom = $modx->getOption(\'formHashKeyRandom\', $formit->config, true);\n// process formHashKeyField into variable for later use\n$formHashKey = (isset($values[$formHashKeyField])) ? (string) $values[$formHashKeyField] : \'\';\n// our hashing methods return 32 chars\nif (strlen($formHashKey) !== 32) $formHashKey = \'\';\nunset($values[$formHashKeyField]);\n\nif ($formFields) {\n    $formFields = explode(\',\', $formFields);\n    foreach($formFields as $k => $v) {\n        $formFields[$k] = trim($v);\n    }\n}\n// Build the data array\n$dataArray = array();\nif ($formFields) {\n    foreach ($formFields as $field) {\n        $fieldValue = isset($values[$field]) ? $values[$field] : \'\';\n        // When field is file field, value is an array\n        if (is_array($fieldValue) && isset($fieldValue[\'tmp_name\'], $fieldValue[\'name\'])) {\n            $fieldValue = $fieldValue[\'name\'];\n        }\n        $dataArray[$field] = $fieldValue;\n    }\n} else {\n    $dataArray = $values;\n}\n// Change the fieldnames\nif ($fieldNames){\n    $newDataArray = array();\n    $fieldLabels = array();\n    $formFieldNames = explode(\',\', $fieldNames);\n    foreach($formFieldNames as $formFieldName){\n        list($name, $label) = explode(\'==\', $formFieldName);\n        $fieldLabels[trim($name)] = trim($label);\n    }\n    foreach ($dataArray as $key => $value) {\n        if($fieldLabels[$key]){\n            $newDataArray[$fieldLabels[$key]] = $value;\n        }else{\n            $newDataArray[$key] = $value;\n        }\n    }\n    $dataArray = $newDataArray;\n}\n// We only enter update mode if we already have a valid formHashKey (tested above)\n// AND the updateSavedForm param was set to a truth-y value.\n$mode = ($updateSavedForm && $formHashKey) ? \'update\' : \'create\';\n// Create/get obj\n$newForm = null;\nif ($mode === \'update\') {\n    $newForm = $modx->getObject(\'FormItForm\', array(\'hash\' => $formHashKey));\n}\nif ($newForm === null) {\n    $newForm = $modx->newObject(\'FormItForm\');\n}\n\n// Array from which to populate form record\n$newFormArray = array();\n\n// Handle encryption\n$encryptionType = 1;\nif ($formEncrypt) {\n    $dataArray = $newForm->encrypt($modx->toJSON($dataArray));\n    // Only set encryption type if encryption is successful\n    if ($dataArray) {\n        // Set encryption type to 2 (openssl)\n        $encryptionType = 2;\n    }\n} else {\n    $dataArray = $modx->toJSON($dataArray);\n}\n\n// Create new hash key on create mode, and handle invalid hash keys. \nif ($mode === \'create\') {\n    $formHashKey = ($formHashKeyRandom) ? $newForm->generatePseudoRandomHash() : pathinfo($formit->getStoreKey(), PATHINFO_BASENAME);\n}\n\n// Special case: if updateSavedForm has the flag \'values\' we only merge in\n// the form values, not the other stuff\nif ($mode === \'update\' && $updateSavedForm === \'values\') {\n    $newFormArray = $newForm->toArray();\n    $newFormArray = array_merge($newFormArray, array(\n        \'values\' => $dataArray,\n        \'encryption_type\' => $encryptionType,\n    ));\n} else {\n    // In all other cases, we overwrite the record completely!\n    // In create mode we must save the hash. In update mode, the \n    // formHashKey will be valid so we can also save it, again.\n    $newFormArray = array(\n        \'form\' => $formName,\n        \'date\' => time(),\n        \'values\' => $dataArray,\n        \'ip\' => $modx->getOption(\'REMOTE_ADDR\', $_SERVER, \'\'),\n        \'context_key\' => $modx->resource->get(\'context_key\'),\n        \'encrypted\' => $formEncrypt,\n        \'encryption_type\' => $encryptionType,\n        \'hash\' => $formHashKey,\n    );\n}\n// Convert to object\n$newForm->fromArray($newFormArray);\n// Attempt to save\nif (!$newForm->save()) {\n    $modx->log(modX::LOG_LEVEL_ERROR, \'[FormItSaveForm] An error occurred while trying to save the submitted form: \' . print_r($newForm->toArray(), true));\n    return false;\n}\n// Pass the hash and form data back to the user\n$hook->setValue(\'savedForm\', $newForm->toArray());\n$hook->setValue($formHashKeyField, $newForm->get(\'hash\'));\nreturn true;',	0,	'a:0:{}',	'',	0,	''),
(28,	0,	0,	'FormItLoadSavedForm',	'Prehook to load previously saved form.',	0,	6,	0,	'/**\n * FormIt\n *\n * Copyright 2011-12 by SCHERP Ontwikkeling <info@scherpontwikkeling.nl>\n * Copyright 2015 by Wieger Sloot <modx@sterc.nl>\n * Copyright 2016 by YJ Tso <yj@modx.com>\n *\n * FormIt is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package formit\n */\n/**\n * A custom FormIt prehook for fetching saved form data. - Based on FormItSaveForm\n *\n * @var modX $modx\n * @var array $scriptProperties\n * @var FormIt $formit\n * @var fiHooks $hook\n * \n * @package formit\n */\n/* setup default properties */\n// If prehook fails do we continue?\n$return = $modx->getOption(\'returnValueOnFail\', $formit->config, true);\n$formEncrypt = $modx->getOption(\'formEncrypt\', $formit->config, false);\n$formFields = $modx->getOption(\'formFields\', $formit->config, false);\n$fieldNames = $modx->getOption(\'fieldNames\', $formit->config, false);\n$updateSavedForm = $modx->getOption(\'updateSavedForm\', $formit->config, false); // true, false, \'1\', \'0\', or \'values\'\n// If FormIt config says don\'t update, don\'t do it\nif (!$updateSavedForm) return $return;\n// In order to load form values, the user must provide the hash key somehow\n// Usually with a $_GET parameter, but a property in $formit->config will override.\n$formHashKeyField = $modx->getOption(\'savedFormHashKeyField\', $formit->config, \'savedFormHashKey\');\n$formHashKey = \'\';\nif (isset($_GET[$formHashKeyField])) $formHashKey = (string) $_GET[$formHashKeyField];\nif ($hook->getValue($formHashKeyField)) $formHashKey = (string) $hook->getValue($formHashKeyField);\nif (isset($formit->config[$formHashKeyField])) $formHashKey = $formit->config[$formHashKeyField];\n// our hashing methods return 32 chars. if no valid hash key we\'re done here.\nif (strlen($formHashKey) !== 32) return $return;\n\n// Try to fetch the saved form\n$savedForm = $modx->getObject(\'FormItForm\', array(\'hash\' => $formHashKey));\nif (!$savedForm) return $return;\n\nif ($formFields) {\n    $formFields = explode(\',\', $formFields);\n    foreach($formFields as $k => $v) {\n        $formFields[$k] = trim($v);\n    }\n}\n\n// Initialize the data array\n// Handle encryption\nif ($formEncrypt) {\n    $data = $savedForm->decrypt();\n} else {\n    $data = $savedForm->get(\'values\');\n}\nif (is_string($data)) $data = $modx->fromJSON($data);\nif (!is_array($data)) return $return;\n\n//Change the fieldnames\nif ($fieldNames) {\n    $newDataArray = array();\n    $fieldLabels = array();\n    $formFieldNames = explode(\',\', $fieldNames);\n    foreach($formFieldNames as $formFieldName){\n        list($name, $label) = explode(\'==\', $formFieldName);\n        // reverse order from FormItSaveForm snippet\n        $fieldLabels[trim($label)] = trim($name);\n    }\n    foreach ($data as $key => $value) {\n        if ($fieldLabels[$key]) {\n            $newDataArray[$fieldLabels[$key]] = $value;\n        }else{\n            $newDataArray[$key] = $value;\n        }\n    }\n    $data = $newDataArray;\n}\n\n// Always pass back in the provided hash key\n$data[$formHashKeyField] = $formHashKey;\n$hook->setValues($data);\nreturn true;',	0,	'a:0:{}',	'',	0,	''),
(29,	1,	0,	'AjaxForm',	'',	0,	7,	0,	'/** @var array $scriptProperties */\n/** @var AjaxForm $AjaxForm */\nif (!$modx->loadClass(\'ajaxform\', MODX_CORE_PATH . \'components/ajaxform/model/ajaxform/\', false, true)) {\n    return false;\n}\n$AjaxForm = new AjaxForm($modx, $scriptProperties);\n\n$snippet = $modx->getOption(\'snippet\', $scriptProperties, \'FormIt\', true);\n$tpl = $modx->getOption(\'form\', $scriptProperties, \'tpl.AjaxForm.example\', true);\n$formSelector = $modx->getOption(\'formSelector\', $scriptProperties, \'ajax_form\', true);\n$objectName = $modx->getOption(\'objectName\', $scriptProperties, \'AjaxForm\', true);\n$AjaxForm->loadJsCss($objectName);\n\n/** @var pdoTools $pdo */\nif (class_exists(\'pdoTools\') && $pdo = $modx->getService(\'pdoTools\')) {\n    $content = $pdo->getChunk($tpl, $scriptProperties);\n} else {\n    $content = $modx->getChunk($tpl, $scriptProperties);\n}\nif (empty($content)) {\n    return $modx->lexicon(\'af_err_chunk_nf\', array(\'name\' => $tpl));\n}\n\n// Add selector to tag form\nif (preg_match(\'#<form.*?class=(?:\"|\\\')(.*?)(?:\"|\\\')#i\', $content, $matches)) {\n    $classes = explode(\' \', $matches[1]);\n    if (!in_array($formSelector, $classes)) {\n        $classes[] = $formSelector;\n        $classes = preg_replace(\n            \'#class=(?:\"|\\\')\' . $matches[1] . \'(?:\"|\\\')#i\',\n            \'class=\"\' . implode(\' \', $classes) . \'\"\',\n            $matches[0]\n        );\n        $content = str_ireplace($matches[0], $classes, $content);\n    }\n} else {\n    $content = str_ireplace(\'<form\', \'<form class=\"\' . $formSelector . \'\"\', $content);\n}\n\n// Add method = post\nif (preg_match(\'#<form.*?method=(?:\"|\\\')(.*?)(?:\"|\\\')#i\', $content)) {\n    $content = preg_replace(\'#<form(.*?)method=(?:\"|\\\')(.*?)(?:\"|\\\')#i\', \'<form\\\\1method=\"post\"\', $content);\n} else {\n    $content = str_ireplace(\'<form\', \'<form method=\"post\"\', $content);\n}\n\n// Add action for form processing\n$hash = md5(http_build_query($scriptProperties));\n$action = \'<input type=\"hidden\" name=\"af_action\" value=\"\' . $hash . \'\" />\';\nif ((stripos($content, \'</form>\') !== false)) {\n    if (preg_match(\'#<input.*?name=(?:\"|\\\')af_action(?:\"|\\\').*?>#i\', $content, $matches)) {\n        $content = str_ireplace($matches[0], \'\', $content);\n    }\n    $content = str_ireplace(\'</form>\', \"\\n\\t$action\\n</form>\", $content);\n}\n\n// Save settings to user`s session\n$_SESSION[\'AjaxForm\'][$hash] = $scriptProperties;\n\n// Call snippet for preparation of form\n$action = !empty($_REQUEST[\'af_action\'])\n    ? $_REQUEST[\'af_action\']\n    : $hash;\n\n$AjaxForm->process($action, $_REQUEST);\n\n// Return chunk\nreturn $content;',	0,	'a:7:{s:4:\"form\";a:7:{s:4:\"name\";s:4:\"form\";s:4:\"desc\";s:18:\"ajaxform_prop_form\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:20:\"tpl.AjaxForm.example\";s:7:\"lexicon\";s:19:\"ajaxform:properties\";s:4:\"area\";s:0:\"\";}s:7:\"snippet\";a:7:{s:4:\"name\";s:7:\"snippet\";s:4:\"desc\";s:21:\"ajaxform_prop_snippet\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:6:\"FormIt\";s:7:\"lexicon\";s:19:\"ajaxform:properties\";s:4:\"area\";s:0:\"\";}s:12:\"frontend_css\";a:7:{s:4:\"name\";s:12:\"frontend_css\";s:4:\"desc\";s:26:\"ajaxform_prop_frontend_css\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:29:\"[[+assetsUrl]]css/default.css\";s:7:\"lexicon\";s:19:\"ajaxform:properties\";s:4:\"area\";s:0:\"\";}s:11:\"frontend_js\";a:7:{s:4:\"name\";s:11:\"frontend_js\";s:4:\"desc\";s:25:\"ajaxform_prop_frontend_js\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:27:\"[[+assetsUrl]]js/default.js\";s:7:\"lexicon\";s:19:\"ajaxform:properties\";s:4:\"area\";s:0:\"\";}s:9:\"actionUrl\";a:7:{s:4:\"name\";s:9:\"actionUrl\";s:4:\"desc\";s:23:\"ajaxform_prop_actionUrl\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:24:\"[[+assetsUrl]]action.php\";s:7:\"lexicon\";s:19:\"ajaxform:properties\";s:4:\"area\";s:0:\"\";}s:12:\"formSelector\";a:7:{s:4:\"name\";s:12:\"formSelector\";s:4:\"desc\";s:26:\"ajaxform_prop_formSelector\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:9:\"ajax_form\";s:7:\"lexicon\";s:19:\"ajaxform:properties\";s:4:\"area\";s:0:\"\";}s:10:\"objectName\";a:7:{s:4:\"name\";s:10:\"objectName\";s:4:\"desc\";s:24:\"ajaxform_prop_objectName\";s:4:\"type\";s:9:\"textfield\";s:7:\"options\";a:0:{}s:5:\"value\";s:8:\"AjaxForm\";s:7:\"lexicon\";s:19:\"ajaxform:properties\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'core/components/ajaxform/elements/snippets/snippet.ajaxform.php'),
(30,	0,	0,	'getImageList',	'',	0,	9,	0,	'/**\n * getImageList\n *\n * Copyright 2009-2014 by Bruno Perner <b.perner@gmx.de>\n *\n * getImageList is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * getImageList is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * getImageList; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package migx\n */\n/**\n * getImageList\n *\n * display Items from outputvalue of TV with custom-TV-input-type MIGX or from other JSON-string for MODx Revolution \n *\n * @version 1.4\n * @author Bruno Perner <b.perner@gmx.de>\n * @copyright Copyright &copy; 2009-2014\n * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License\n * version 2 or (at your option) any later version.\n * @package migx\n */\n\n/*example: <ul>[[!getImageList? &tvname=`myTV`&tpl=`@CODE:<li>[[+idx]]<img src=\"[[+imageURL]]\"/><p>[[+imageAlt]]</p></li>`]]</ul>*/\n/* get default properties */\n\n\n$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');\n$inherit_children_tvname = $modx->getOption(\'inherit_children_tvname\', $scriptProperties, \'\');\n$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');\n$wrapperTpl = $modx->getOption(\'wrapperTpl\', $scriptProperties, \'\');\n$emptyTpl = $modx->getOption(\'emptyTpl\', $scriptProperties, \'\'); \n$limit = $modx->getOption(\'limit\', $scriptProperties, \'0\');\n$offset = $modx->getOption(\'offset\', $scriptProperties, 0);\n$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');\n$randomize = $modx->getOption(\'randomize\', $scriptProperties, false);\n$preselectLimit = $modx->getOption(\'preselectLimit\', $scriptProperties, 0); // when random preselect important images\n$where = $modx->getOption(\'where\', $scriptProperties, \'\');\n$where = !empty($where) ? $modx->fromJSON($where) : array();\n$sort = $modx->getOption(\'sort\', $scriptProperties, \'\');\n$sort = !empty($sort) ? $modx->fromJSON($sort) : array();\n$toSeparatePlaceholders = $modx->getOption(\'toSeparatePlaceholders\', $scriptProperties, false);\n$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \'\');\n$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');\n$placeholdersKeyField = $modx->getOption(\'placeholdersKeyField\', $scriptProperties, \'MIGX_id\');\n$toJsonPlaceholder = $modx->getOption(\'toJsonPlaceholder\', $scriptProperties, false);\n$jsonVarKey = $modx->getOption(\'jsonVarKey\', $scriptProperties, \'migx_outputvalue\');\n$outputvalue = $modx->getOption(\'value\', $scriptProperties, \'\');\n$outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;\n$docidVarKey = $modx->getOption(\'docidVarKey\', $scriptProperties, \'migx_docid\');\n$docid = $modx->getOption(\'docid\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : 1));\n$docid = isset($_REQUEST[$docidVarKey]) ? $_REQUEST[$docidVarKey] : $docid;\n$processTVs = $modx->getOption(\'processTVs\', $scriptProperties, \'1\');\n$reverse = $modx->getOption(\'reverse\', $scriptProperties, \'0\');\n$sumFields = $modx->getOption(\'sumFields\', $scriptProperties, \'\');\n$sumPrefix = $modx->getOption(\'sumPrefix\', $scriptProperties, \'summary_\');\n$addfields = $modx->getOption(\'addfields\', $scriptProperties, \'\');\n$addfields = !empty($addfields) ? explode(\',\', $addfields) : null;\n//split json into parts\n$splits = $modx->fromJson($modx->getOption(\'splits\', $scriptProperties, 0));\n$splitTpl = $modx->getOption(\'splitTpl\', $scriptProperties, \'\');\n$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');\n$inheritFrom = $modx->getOption(\'inheritFrom\', $scriptProperties, \'\'); //commaseparated list of resource-ids or/and the keyword \'parents\' where to inherit from\n$inheritFrom = !empty($inheritFrom) ? explode(\',\', $inheritFrom) : \'\';\n\n$modx->setPlaceholder(\'docid\', $docid);\n\n$base_path = $modx->getOption(\'base_path\', null, MODX_BASE_PATH);\n$base_url = $modx->getOption(\'base_url\', null, MODX_BASE_URL);\n\n$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);\nif (!($migx instanceof Migx))\n    return \'\';\n$migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : \'web\';\n\nif (!empty($tvname)) {\n    if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname))) {\n\n        /*\n        *   get inputProperties\n        */\n\n\n        $properties = $tv->get(\'input_properties\');\n        $properties = isset($properties[\'formtabs\']) ? $properties : $tv->getProperties();\n\n        $migx->config[\'configs\'] = $modx->getOption(\'configs\', $properties, \'\');\n        if (!empty($migx->config[\'configs\'])) {\n            $migx->loadConfigs();\n            // get tabs from file or migx-config-table\n            $formtabs = $migx->getTabs();\n        }\n        if (empty($formtabs) && isset($properties[\'formtabs\'])) {\n            //try to get formtabs and its fields from properties\n            $formtabs = $modx->fromJSON($properties[\'formtabs\']);\n        }\n\n        if (!empty($properties[\'basePath\'])) {\n            if ($properties[\'autoResourceFolders\'] == \'true\') {\n                $scriptProperties[\'base_path\'] = $base_path . $properties[\'basePath\'] . $docid . \'/\';\n                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'] . $docid . \'/\';\n            } else {\n                $scriptProperties[\'base_path\'] = $base_path . $properties[\'base_path\'];\n                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'];\n            }\n        }\n        if ($jsonVarKey == \'migx_outputvalue\' && !empty($properties[\'jsonvarkey\'])) {\n            $jsonVarKey = $properties[\'jsonvarkey\'];\n            $outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;\n        }\n\n        if (empty($outputvalue)) {\n            $outputvalue = $tv->renderOutput($docid);\n            if (empty($outputvalue) && !empty($inheritFrom)) {\n                foreach ($inheritFrom as $from) {\n                    if ($from == \'parents\') {\n                        if (!empty($inherit_children_tvname)){\n                            //try to get items from optional MIGX-TV for children\n                            if ($inh_tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inherit_children_tvname))) {\n                                $outputvalue = $inh_tv->processInheritBinding(\'\', $docid);    \n                            }\n                        }\n                        $outputvalue = empty($outputvalue) ? $tv->processInheritBinding(\'\', $docid) : $outputvalue;\n                    } else {\n                        $outputvalue = $tv->renderOutput($from);\n                    }\n                    if (!empty($outputvalue)) {\n                        break;\n                    }\n                }\n            }\n        }\n\n\n        /*\n        *   get inputTvs \n        */\n        $inputTvs = array();\n        if (is_array($formtabs)) {\n\n            //multiple different Forms\n            // Note: use same field-names and inputTVs in all forms\n            $inputTvs = $migx->extractInputTvs($formtabs);\n        }\n        if ($migx->source = $tv->getSource($migx->working_context, false)) {\n            $migx->source->initialize();\n        }\n\n    }\n\n\n}\n\nif (empty($outputvalue)) {\n    $modx->setPlaceholder($totalVar, 0);\n    return \'\';\n}\n\n//echo $outputvalue.\'<br/><br/>\';\n\n$items = $modx->fromJSON($outputvalue);\n\n// where filter\nif (is_array($where) && count($where) > 0) {\n    $items = $migx->filterItems($where, $items);\n}\n$modx->setPlaceholder($totalVar, count($items));\n\nif (!empty($reverse)) {\n    $items = array_reverse($items);\n}\n\n// sort items\nif (is_array($sort) && count($sort) > 0) {\n    $items = $migx->sortDbResult($items, $sort);\n}\n\n$summaries = array();\n$output = \'\';\n$items = $offset > 0 ? array_slice($items, $offset) : $items;\n$count = count($items);\n\nif ($count > 0) {\n    $limit = $limit == 0 || $limit > $count ? $count : $limit;\n    $preselectLimit = $preselectLimit > $count ? $count : $preselectLimit;\n    //preselect important items\n    $preitems = array();\n    if ($randomize && $preselectLimit > 0) {\n        for ($i = 0; $i < $preselectLimit; $i++) {\n            $preitems[] = $items[$i];\n            unset($items[$i]);\n        }\n        $limit = $limit - count($preitems);\n    }\n\n    //shuffle items\n    if ($randomize) {\n        shuffle($items);\n    }\n\n    //limit items\n    $count = count($items);\n    $tempitems = array();\n\n    for ($i = 0; $i < $limit; $i++) {\n        if ($i >= $count) {\n            break;\n        }\n        $tempitems[] = $items[$i];\n    }\n    $items = $tempitems;\n\n    //add preselected items and schuffle again\n    if ($randomize && $preselectLimit > 0) {\n        $items = array_merge($preitems, $items);\n        shuffle($items);\n    }\n\n    $properties = array();\n    foreach ($scriptProperties as $property => $value) {\n        $properties[\'property.\' . $property] = $value;\n    }\n\n    $idx = 0;\n    $output = array();\n    $template = array();\n    $count = count($items);\n\n    foreach ($items as $key => $item) {\n        $formname = isset($item[\'MIGX_formname\']) ? $item[\'MIGX_formname\'] . \'_\' : \'\';\n        $fields = array();\n        foreach ($item as $field => $value) {\n            if (is_array($value)) {\n                if (is_array($value[0])) {\n                    //nested array - convert to json\n                    $value = $modx->toJson($value);\n                } else {\n                    $value = implode(\'||\', $value); //handle arrays (checkboxes, multiselects)\n                }\n            }\n\n\n            $inputTVkey = $formname . $field;\n\n            if ($processTVs && isset($inputTvs[$inputTVkey])) {\n                if (isset($inputTvs[$inputTVkey][\'inputTV\']) && $tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inputTvs[$inputTVkey][\'inputTV\']))) {\n\n                } else {\n                    $tv = $modx->newObject(\'modTemplateVar\');\n                    $tv->set(\'type\', $inputTvs[$inputTVkey][\'inputTVtype\']);\n                }\n                $inputTV = $inputTvs[$inputTVkey];\n\n                $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\', null, \'image,file\');\n                //don\'t manipulate any urls here\n                $modx->setOption(\'manipulatable_url_tv_output_types\', \'\');\n                $tv->set(\'default_text\', $value);\n                $value = $tv->renderOutput($docid);\n                //set option back\n                $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);\n                //now manipulate urls\n                if ($mediasource = $migx->getFieldSource($inputTV, $tv)) {\n                    $mTypes = explode(\',\', $mTypes);\n                    if (!empty($value) && in_array($tv->get(\'type\'), $mTypes)) {\n                        //$value = $mediasource->prepareOutputUrl($value);\n                        $value = str_replace(\'/./\', \'/\', $mediasource->prepareOutputUrl($value));\n                    }\n                }\n\n            }\n            $fields[$field] = $value;\n\n        }\n\n        if (!empty($addfields)) {\n            foreach ($addfields as $addfield) {\n                $addfield = explode(\':\', $addfield);\n                $addname = $addfield[0];\n                $adddefault = isset($addfield[1]) ? $addfield[1] : \'\';\n                $fields[$addname] = $adddefault;\n            }\n        }\n\n        if (!empty($sumFields)) {\n            $sumFields = is_array($sumFields) ? $sumFields : explode(\',\', $sumFields);\n            foreach ($sumFields as $sumField) {\n                if (isset($fields[$sumField])) {\n                    $summaries[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField] + $fields[$sumField];\n                    $fields[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField];\n                }\n            }\n        }\n\n\n        if ($toJsonPlaceholder) {\n            $output[] = $fields;\n        } else {\n            $fields[\'_alt\'] = $idx % 2;\n            $idx++;\n            $fields[\'_first\'] = $idx == 1 ? true : \'\';\n            $fields[\'_last\'] = $idx == $limit ? true : \'\';\n            $fields[\'idx\'] = $idx;\n            $rowtpl = \'\';\n            //get changing tpls from field\n            if (substr($tpl, 0, 7) == \"@FIELD:\") {\n                $tplField = substr($tpl, 7);\n                $rowtpl = $fields[$tplField];\n            }\n\n            if ($fields[\'_first\'] && !empty($tplFirst)) {\n                $rowtpl = $tplFirst;\n            }\n            if ($fields[\'_last\'] && empty($rowtpl) && !empty($tplLast)) {\n                $rowtpl = $tplLast;\n            }\n            $tplidx = \'tpl_\' . $idx;\n            if (empty($rowtpl) && !empty($$tplidx)) {\n                $rowtpl = $$tplidx;\n            }\n            if ($idx > 1 && empty($rowtpl)) {\n                $divisors = $migx->getDivisors($idx);\n                if (!empty($divisors)) {\n                    foreach ($divisors as $divisor) {\n                        $tplnth = \'tpl_n\' . $divisor;\n                        if (!empty($$tplnth)) {\n                            $rowtpl = $$tplnth;\n                            if (!empty($rowtpl)) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n\n            if ($count == 1 && isset($tpl_oneresult)) {\n                $rowtpl = $tpl_oneresult;\n            }\n\n            $fields = array_merge($fields, $properties);\n\n            if (!empty($rowtpl)) {\n                $template = $migx->getTemplate($tpl, $template);\n                $fields[\'_tpl\'] = $template[$tpl];\n            } else {\n                $rowtpl = $tpl;\n\n            }\n            $template = $migx->getTemplate($rowtpl, $template);\n\n\n            if ($template[$rowtpl]) {\n                $chunk = $modx->newObject(\'modChunk\');\n                $chunk->setCacheable(false);\n                $chunk->setContent($template[$rowtpl]);\n\n\n                if (!empty($placeholdersKeyField) && isset($fields[$placeholdersKeyField])) {\n                    $output[$fields[$placeholdersKeyField]] = $chunk->process($fields);\n                } else {\n                    $output[] = $chunk->process($fields);\n                }\n            } else {\n                if (!empty($placeholdersKeyField)) {\n                    $output[$fields[$placeholdersKeyField]] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';\n                } else {\n                    $output[] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';\n                }\n            }\n        }\n\n\n    }\n}\n\nif (count($summaries) > 0) {\n    $modx->toPlaceholders($summaries);\n}\n\n\nif ($toJsonPlaceholder) {\n    $modx->setPlaceholder($toJsonPlaceholder, $modx->toJson($output));\n    return \'\';\n}\n\nif (!empty($toSeparatePlaceholders)) {\n    $modx->toPlaceholders($output, $toSeparatePlaceholders);\n    return \'\';\n}\n/*\nif (!empty($outerTpl))\n$o = parseTpl($outerTpl, array(\'output\'=>implode($outputSeparator, $output)));\nelse \n*/\n\nif ($count > 0 && $splits > 0) {\n    $size = ceil($count / $splits);\n    $chunks = array_chunk($output, $size);\n    $output = array();\n    foreach ($chunks as $chunk) {\n        $o = implode($outputSeparator, $chunk);\n        $output[] = $modx->getChunk($splitTpl, array(\'output\' => $o));\n    }\n    $outputSeparator = $splitSeparator;\n}\n\nif (is_array($output)) {\n    $o = implode($outputSeparator, $output);\n} else {\n    $o = $output;\n}\n\nif (!empty($o) && !empty($wrapperTpl)) {\n    $template = $migx->getTemplate($wrapperTpl);\n    if ($template[$wrapperTpl]) {\n        $chunk = $modx->newObject(\'modChunk\');\n        $chunk->setCacheable(false);\n        $chunk->setContent($template[$wrapperTpl]);\n        $properties[\'output\'] = $o;\n        $o = $chunk->process($properties);\n    }\n}\n\nif (empty($o) && !empty($emptyTpl)) {\n    $template = $migx->getTemplate($emptyTpl);\n    if ($template[$emptyTpl]) {\n        $chunk = $modx->newObject(\'modChunk\');\n        $chunk->setCacheable(false);\n        $chunk->setContent($template[$emptyTpl]);\n        $o = $chunk->process($properties);\n    }\n}\n\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $o);\n    return \'\';\n}\n\nreturn $o;',	0,	'a:0:{}',	'',	0,	''),
(31,	0,	0,	'migxGetRelations',	'',	0,	9,	0,	'$id = $modx->getOption(\'id\', $scriptProperties, $modx->resource->get(\'id\'));\n$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, \'\');\n$element = $modx->getOption(\'element\', $scriptProperties, \'getResources\');\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \',\');\n$sourceWhere = $modx->getOption(\'sourceWhere\', $scriptProperties, \'\');\n$ignoreRelationIfEmpty = $modx->getOption(\'ignoreRelationIfEmpty\', $scriptProperties, false);\n$inheritFromParents = $modx->getOption(\'inheritFromParents\', $scriptProperties, false);\n$parentIDs = $inheritFromParents ? array_merge(array($id), $modx->getParentIds($id)) : array($id);\n\n$packageName = \'resourcerelations\';\n\n$packagepath = $modx->getOption(\'core_path\') . \'components/\' . $packageName . \'/\';\n$modelpath = $packagepath . \'model/\';\n\n$modx->addPackage($packageName, $modelpath, $prefix);\n$classname = \'rrResourceRelation\';\n$output = \'\';\n\nforeach ($parentIDs as $id) {\n    if (!empty($id)) {\n        $output = \'\';\n                \n        $c = $modx->newQuery($classname, array(\'target_id\' => $id, \'published\' => \'1\'));\n        $c->select($modx->getSelectColumns($classname, $classname));\n\n        if (!empty($sourceWhere)) {\n            $sourceWhere_ar = $modx->fromJson($sourceWhere);\n            if (is_array($sourceWhere_ar)) {\n                $where = array();\n                foreach ($sourceWhere_ar as $key => $value) {\n                    $where[\'Source.\' . $key] = $value;\n                }\n                $joinclass = \'modResource\';\n                $joinalias = \'Source\';\n                $selectfields = \'id\';\n                $selectfields = !empty($selectfields) ? explode(\',\', $selectfields) : null;\n                $c->leftjoin($joinclass, $joinalias);\n                $c->select($modx->getSelectColumns($joinclass, $joinalias, $joinalias . \'_\', $selectfields));\n                $c->where($where);\n            }\n        }\n\n        //$c->prepare(); echo $c->toSql();\n        if ($c->prepare() && $c->stmt->execute()) {\n            $collection = $c->stmt->fetchAll(PDO::FETCH_ASSOC);\n        }\n        \n        foreach ($collection as $row) {\n            $ids[] = $row[\'source_id\'];\n        }\n        $output = implode($outputSeparator, $ids);\n    }\n    if (!empty($output)){\n        break;\n    }\n}\n\n\nif (!empty($element)) {\n    if (empty($output) && $ignoreRelationIfEmpty) {\n        return $modx->runSnippet($element, $scriptProperties);\n    } else {\n        $scriptProperties[\'resources\'] = $output;\n        $scriptProperties[\'parents\'] = \'9999999\';\n        return $modx->runSnippet($element, $scriptProperties);\n    }\n\n\n}\n\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $output);\n    return \'\';\n}\n\nreturn $output;',	0,	'',	'',	0,	''),
(32,	0,	0,	'migx',	'',	0,	9,	0,	'$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');\n$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');\n$limit = $modx->getOption(\'limit\', $scriptProperties, \'0\');\n$offset = $modx->getOption(\'offset\', $scriptProperties, 0);\n$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');\n$randomize = $modx->getOption(\'randomize\', $scriptProperties, false);\n$preselectLimit = $modx->getOption(\'preselectLimit\', $scriptProperties, 0); // when random preselect important images\n$where = $modx->getOption(\'where\', $scriptProperties, \'\');\n$where = !empty($where) ? $modx->fromJSON($where) : array();\n$sortConfig = $modx->getOption(\'sortConfig\', $scriptProperties, \'\');\n$sortConfig = !empty($sortConfig) ? $modx->fromJSON($sortConfig) : array();\n$configs = $modx->getOption(\'configs\', $scriptProperties, \'\');\n$configs = !empty($configs) ? explode(\',\',$configs):array();\n$toSeparatePlaceholders = $modx->getOption(\'toSeparatePlaceholders\', $scriptProperties, false);\n$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \'\');\n//$placeholdersKeyField = $modx->getOption(\'placeholdersKeyField\', $scriptProperties, \'MIGX_id\');\n$placeholdersKeyField = $modx->getOption(\'placeholdersKeyField\', $scriptProperties, \'id\');\n$toJsonPlaceholder = $modx->getOption(\'toJsonPlaceholder\', $scriptProperties, false);\n$jsonVarKey = $modx->getOption(\'jsonVarKey\', $scriptProperties, \'migx_outputvalue\');\n$outputvalue = $modx->getOption(\'value\', $scriptProperties, \'\');\n$outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;\n$docidVarKey = $modx->getOption(\'docidVarKey\', $scriptProperties, \'migx_docid\');\n$docid = $modx->getOption(\'docid\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : 1));\n$docid = isset($_REQUEST[$docidVarKey]) ? $_REQUEST[$docidVarKey] : $docid;\n$processTVs = $modx->getOption(\'processTVs\', $scriptProperties, \'1\');\n\n$base_path = $modx->getOption(\'base_path\', null, MODX_BASE_PATH);\n$base_url = $modx->getOption(\'base_url\', null, MODX_BASE_URL);\n\n$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);\nif (!($migx instanceof Migx))\n    return \'\';\n//$modx->migx = &$migx;\n$defaultcontext = \'web\';\n$migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : $defaultcontext;\n\nif (!empty($tvname))\n{\n    if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname)))\n    {\n\n        /*\n        *   get inputProperties\n        */\n\n\n        $properties = $tv->get(\'input_properties\');\n        $properties = isset($properties[\'configs\']) ? $properties : $tv->getProperties();\n        $cfgs = $modx->getOption(\'configs\',$properties,\'\');\n        if (!empty($cfgs)){\n            $cfgs = explode(\',\',$cfgs);\n            $configs = array_merge($configs,$cfgs);\n           \n        }\n        \n    }\n}\n\n\n\n//$migx->config[\'configs\'] = implode(\',\',$configs);\n$migx->loadConfigs(false,true,array(\'configs\'=>implode(\',\',$configs)));\n$migx->customconfigs = array_merge($migx->customconfigs,$scriptProperties);\n\n\n\n// get tabs from file or migx-config-table\n$formtabs = $migx->getTabs();\nif (empty($formtabs))\n{\n    //try to get formtabs and its fields from properties\n    $formtabs = $modx->fromJSON($properties[\'formtabs\']);\n}\n\nif ($jsonVarKey == \'migx_outputvalue\' && !empty($properties[\'jsonvarkey\']))\n{\n    $jsonVarKey = $properties[\'jsonvarkey\'];\n    $outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;\n}\n\n$outputvalue = $tv && empty($outputvalue) ? $tv->renderOutput($docid) : $outputvalue;\n/*\n*   get inputTvs \n*/\n$inputTvs = array();\nif (is_array($formtabs))\n{\n\n    //multiple different Forms\n    // Note: use same field-names and inputTVs in all forms\n    $inputTvs = $migx->extractInputTvs($formtabs);\n}\n\nif ($tv)\n{\n    $migx->source = $tv->getSource($migx->working_context, false);\n}\n\n//$task = $modx->migx->getTask();\n$filename = \'getlist.php\';\n$processorspath = $migx->config[\'processorsPath\'] . \'mgr/\';\n$filenames = array();\n$scriptProperties[\'start\'] = $modx->getOption(\'offset\', $scriptProperties, 0);\nif ($processor_file = $migx->findProcessor($processorspath, $filename, $filenames))\n{\n    include ($processor_file);\n    //todo: add getlist-processor for default-MIGX-TV\n}\n\n$items = isset($rows) && is_array($rows) ? $rows : array();\n$modx->setPlaceholder($totalVar, isset($count) ? $count : 0);\n\n$properties = array();\nforeach ($scriptProperties as $property => $value)\n{\n    $properties[\'property.\' . $property] = $value;\n}\n\n$idx = 0;\n$output = array();\nforeach ($items as $key => $item)\n{\n\n    $fields = array();\n    foreach ($item as $field => $value)\n    {\n        $value = is_array($value) ? implode(\'||\', $value) : $value; //handle arrays (checkboxes, multiselects)\n        if ($processTVs && isset($inputTvs[$field]))\n        {\n            if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inputTvs[$field][\'inputTV\'])))\n            {\n\n            } else\n            {\n                $tv = $modx->newObject(\'modTemplateVar\');\n                $tv->set(\'type\', $inputTvs[$field][\'inputTVtype\']);\n            }\n            $inputTV = $inputTvs[$field];\n\n            $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\', null, \'image,file\');\n            //don\'t manipulate any urls here\n            $modx->setOption(\'manipulatable_url_tv_output_types\', \'\');\n            $tv->set(\'default_text\', $value);\n            $value = $tv->renderOutput($docid);\n            //set option back\n            $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);\n            //now manipulate urls\n            if ($mediasource = $migx->getFieldSource($inputTV, $tv))\n            {\n                $mTypes = explode(\',\', $mTypes);\n                if (!empty($value) && in_array($tv->get(\'type\'), $mTypes))\n                {\n                    //$value = $mediasource->prepareOutputUrl($value);\n                    $value = str_replace(\'/./\', \'/\', $mediasource->prepareOutputUrl($value));\n                }\n            }\n\n        }\n        $fields[$field] = $value;\n\n    }\n    if ($toJsonPlaceholder)\n    {\n        $output[] = $fields;\n    } else\n    {\n        $fields[\'_alt\'] = $idx % 2;\n        $idx++;\n        $fields[\'_first\'] = $idx == 1 ? true : \'\';\n        $fields[\'_last\'] = $idx == $limit ? true : \'\';\n        $fields[\'idx\'] = $idx;\n        $rowtpl = $tpl;\n        //get changing tpls from field\n        if (substr($tpl, 0, 7) == \"@FIELD:\")\n        {\n            $tplField = substr($tpl, 7);\n            $rowtpl = $fields[$tplField];\n        }\n\n        if (!isset($template[$rowtpl]))\n        {\n            if (substr($rowtpl, 0, 6) == \"@FILE:\")\n            {\n                $template[$rowtpl] = file_get_contents($modx->config[\'base_path\'] . substr($rowtpl, 6));\n            } elseif (substr($rowtpl, 0, 6) == \"@CODE:\")\n            {\n                $template[$rowtpl] = substr($tpl, 6);\n            } elseif ($chunk = $modx->getObject(\'modChunk\', array(\'name\' => $rowtpl), true))\n            {\n                $template[$rowtpl] = $chunk->getContent();\n            } else\n            {\n                $template[$rowtpl] = false;\n            }\n        }\n\n        $fields = array_merge($fields, $properties);\n\n        if ($template[$rowtpl])\n        {\n            $chunk = $modx->newObject(\'modChunk\');\n            $chunk->setCacheable(false);\n            $chunk->setContent($template[$rowtpl]);\n            if (!empty($placeholdersKeyField) && isset($fields[$placeholdersKeyField]))\n            {\n                $output[$fields[$placeholdersKeyField]] = $chunk->process($fields);\n            } else\n            {\n                $output[] = $chunk->process($fields);\n            }\n        } else\n        {\n            if (!empty($placeholdersKeyField))\n            {\n                $output[$fields[$placeholdersKeyField]] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';\n            } else\n            {\n                $output[] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';\n            }\n        }\n    }\n\n\n}\n\n\nif ($toJsonPlaceholder)\n{\n    $modx->setPlaceholder($toJsonPlaceholder, $modx->toJson($output));\n    return \'\';\n}\n\nif (!empty($toSeparatePlaceholders))\n{\n    $modx->toPlaceholders($output, $toSeparatePlaceholders);\n    return \'\';\n}\n/*\nif (!empty($outerTpl))\n$o = parseTpl($outerTpl, array(\'output\'=>implode($outputSeparator, $output)));\nelse \n*/\nif (is_array($output))\n{\n    $o = implode($outputSeparator, $output);\n} else\n{\n    $o = $output;\n}\n\nif (!empty($toPlaceholder))\n{\n    $modx->setPlaceholder($toPlaceholder, $o);\n    return \'\';\n}\n\nreturn $o;',	0,	'',	'',	0,	''),
(33,	0,	0,	'migxLoopCollection',	'',	0,	9,	0,	'/*\ngetXpdoInstanceAndAddPackage - properties\n\n$prefix\n$usecustomprefix\n$packageName\n\n\nprepareQuery - properties:\n\n$limit\n$offset\n$totalVar\n$where\n$queries\n$sortConfig\n$groupby\n$joins\n$selectfields\n$classname\n$debug\n\nrenderOutput - properties:\n\n$tpl\n$wrapperTpl\n$toSeparatePlaceholders\n$toPlaceholder\n$outputSeparator\n$placeholdersKeyField\n$toJsonPlaceholder\n$jsonVarKey\n$addfields\n\n*/\n\n\n$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);\nif (!($migx instanceof Migx))\n    return \'\';\n//$modx->migx = &$migx;\n\n$xpdo = $migx->getXpdoInstanceAndAddPackage($scriptProperties);\n\n$defaultcontext = \'web\';\n$migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : $defaultcontext;\n\n$c = $migx->prepareQuery($xpdo,$scriptProperties);\n$rows = $migx->getCollection($c);\n\n$output = $migx->renderOutput($rows,$scriptProperties);\n\nreturn $output;',	0,	'',	'',	0,	''),
(34,	0,	0,	'migxResourceMediaPath',	'',	0,	9,	0,	'/**\n * @name migxResourceMediaPath\n * @description Dynamically calculates the upload path for a given resource\n * \n * This Snippet is meant to dynamically calculate your baseBath attribute\n * for custom Media Sources.  This is useful if you wish to shepard uploaded\n * images to a folder dedicated to a given resource.  E.g. page 123 would \n * have its own images that page 456 could not reference.\n *\n * USAGE:\n * [[migxResourceMediaPath? &pathTpl=`assets/businesses/{id}/`]]\n * [[migxResourceMediaPath? &pathTpl=`assets/test/{breadcrumb}`]]\n * [[migxResourceMediaPath? &pathTpl=`assets/test/{breadcrumb}` &breadcrumbdepth=`2`]]\n *\n * PARAMETERS\n * &pathTpl string formatting string specifying the file path. \n *		Relative to MODX base_path\n *		Available placeholders: {id}, {pagetitle}, {parent}\n * &docid (optional) integer page id\n * &createFolder (optional) boolean whether or not to create\n */\n$pathTpl = $modx->getOption(\'pathTpl\', $scriptProperties, \'\');\n$docid = $modx->getOption(\'docid\', $scriptProperties, \'\');\n$createfolder = $modx->getOption(\'createFolder\', $scriptProperties, false);\n$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');\n\n$path = \'\';\n$createpath = false;\n\nif (empty($pathTpl)) {\n    $modx->log(MODX_LOG_LEVEL_ERROR, \'[migxResourceMediaPath]: pathTpl not specified.\');\n    return;\n}\n\nif (empty($docid) && $modx->getPlaceholder(\'mediasource_docid\')) {\n    // placeholder was set by some script\n    // warning: the parser may not render placeholders, e.g. &docid=`[[*parent]]` may fail\n    $docid = $modx->getPlaceholder(\'mediasource_docid\');\n}\n\nif (empty($docid) && $modx->getPlaceholder(\'docid\')) {\n    // placeholder was set by some script\n    // warning: the parser may not render placeholders, e.g. &docid=`[[*parent]]` may fail\n    $docid = $modx->getPlaceholder(\'docid\');\n}\nif (empty($docid)) {\n\n    //on frontend\n    if (is_object($modx->resource)) {\n        $docid = $modx->resource->get(\'id\');\n    }\n    //on backend\n    else {\n        $createpath = $createfolder;\n        // We do this to read the &id param from an Ajax request\n        $parsedUrl = parse_url($_SERVER[\'HTTP_REFERER\']);\n        parse_str($parsedUrl[\'query\'], $parsedQuery);\n\n        if (isset($parsedQuery[\'amp;id\'])) {\n            $docid = (int)$parsedQuery[\'amp;id\'];\n        } elseif (isset($parsedQuery[\'id\'])) {\n            $docid = (int)$parsedQuery[\'id\'];\n        }\n    }\n}\n\nif (empty($docid)) {\n    $modx->log(MODX_LOG_LEVEL_ERROR, \'[migxResourceMediaPath]: docid could not be determined.\');\n    return;\n}\n\nif ($resource = $modx->getObject(\'modResource\', $docid)) {\n    $path = $pathTpl;\n    $ultimateParent = \'\';\n    if (strstr($path, \'{breadcrumb}\') || strstr($path, \'{ultimateparent}\')) {\n        $depth = $modx->getOption(\'breadcrumbdepth\', $scriptProperties, 10);\n        $ctx = $resource->get(\'context_key\');\n        $parentids = $modx->getParentIds($docid, $depth, array(\'context\' => $ctx));\n        $breadcrumbdepth = $modx->getOption(\'breadcrumbdepth\', $scriptProperties, count($parentids));\n        $breadcrumbdepth = $breadcrumbdepth > count($parentids) ? count($parentids) : $breadcrumbdepth;\n        if (count($parentids) > 1) {\n            $parentids = array_reverse($parentids);\n            $parentids[] = $docid;\n            $ultimateParent = $parentids[1];\n        } else {\n            $ultimateParent = $docid;\n            $parentids = array();\n            $parentids[] = $docid;\n        }\n    }\n\n    if (strstr($path, \'{breadcrumb}\')) {\n        $breadcrumbpath = \'\';\n        for ($i = 1; $i <= $breadcrumbdepth; $i++) {\n            $breadcrumbpath .= $parentids[$i] . \'/\';\n        }\n        $path = str_replace(\'{breadcrumb}\', $breadcrumbpath, $path);\n    }\n    \n    if (!empty($tvname)){\n        $path = str_replace(\'{tv_value}\', $resource->getTVValue($tvname), $path);    \n    }\n    $path = str_replace(\'{id}\', $docid, $path);\n    $path = str_replace(\'{pagetitle}\', $resource->get(\'pagetitle\'), $path);\n    $path = str_replace(\'{alias}\', $resource->get(\'alias\'), $path);\n    $path = str_replace(\'{parent}\', $resource->get(\'parent\'), $path);\n    $path = str_replace(\'{context_key}\', $resource->get(\'context_key\'), $path);\n    $path = str_replace(\'{ultimateparent}\', $ultimateParent, $path);\n    if ($template = $resource->getOne(\'Template\')) {\n        $path = str_replace(\'{templatename}\', $template->get(\'templatename\'), $path);\n    }\n    if ($user = $modx->user) {\n        $path = str_replace(\'{username}\', $modx->user->get(\'username\'), $path);\n    }\n\n    $fullpath = $modx->getOption(\'base_path\') . $path;\n\n    if ($createpath && !file_exists($fullpath)) {\n\n        $permissions = octdec(\'0\' . (int)($modx->getOption(\'new_folder_permissions\', null, \'755\', true)));\n        if (!@mkdir($fullpath, $permissions, true)) {\n            $modx->log(MODX_LOG_LEVEL_ERROR, sprintf(\'[migxResourceMediaPath]: could not create directory %s).\', $fullpath));\n        } else {\n            chmod($fullpath, $permissions);\n        }\n    }\n\n    return $path;\n} else {\n    $modx->log(MODX_LOG_LEVEL_ERROR, sprintf(\'[migxResourceMediaPath]: resource not found (page id %s).\', $docid));\n    return;\n}',	0,	'a:0:{}',	'',	0,	''),
(35,	0,	0,	'migxImageUpload',	'',	0,	9,	0,	'return include $modx->getOption(\'core_path\').\'components/migx/model/imageupload/imageupload.php\';',	0,	'',	'',	0,	''),
(36,	0,	0,	'migxChunklistToJson',	'',	0,	9,	0,	'$category = $modx->getOption(\'category\', $scriptProperties, \'\');\n$format = $modx->getOption(\'format\', $scriptProperties, \'json\');\n\n$classname = \'modChunk\';\n$rows = array();\n$output = \'\';\n\n$c = $modx->newQuery($classname);\n$c->select($modx->getSelectColumns($classname, $classname, \'\', array(\'id\', \'name\')));\n$c->sortby(\'name\');\n\nif (!empty($category)) {\n    $c->where(array(\'category\' => $category));\n}\n//$c->prepare();echo $c->toSql();\nif ($collection = $modx->getCollection($classname, $c)) {\n    $i = 0;\n\n    switch ($format) {\n        case \'json\':\n            foreach ($collection as $object) {\n                $row[\'MIGX_id\'] = (string )$i;\n                $row[\'name\'] = $object->get(\'name\');\n                $row[\'selected\'] = \'0\';\n                $rows[] = $row;\n                $i++;\n            }\n            $output = $modx->toJson($rows);\n            break;\n        \n        case \'optionlist\':\n            foreach ($collection as $object) {\n                $rows[] = $object->get(\'name\');\n                $i++;\n            }\n            $output = implode(\'||\',$rows);      \n        break;\n            \n    }\n\n\n}\n\nreturn $output;',	0,	'',	'',	0,	''),
(37,	0,	0,	'migxSwitchDetailChunk',	'',	0,	9,	0,	'//[[migxSwitchDetailChunk? &detailChunk=`detailChunk` &listingChunk=`listingChunk`]]\n\n\n$properties[\'migx_id\'] = $modx->getOption(\'migx_id\',$_GET,\'\');\n\nif (!empty($properties[\'migx_id\'])){\n    $output = $modx->getChunk($detailChunk,$properties);\n}\nelse{\n    $output = $modx->getChunk($listingChunk);\n}\n\nreturn $output;',	0,	'',	'',	0,	''),
(38,	0,	0,	'getSwitchColumnCol',	'',	0,	9,	0,	'$scriptProperties = $_REQUEST;\n$col = \'\';\n// special actions, for example the showSelector - action\n$tempParams = $modx->getOption(\'tempParams\', $scriptProperties, \'\');\n\nif (!empty($tempParams)) {\n    $tempParams = $modx->fromJson($tempParams);\n    $col = $modx->getOption(\'col\', $tempParams, \'\');\n}\n\nreturn $col;',	0,	'',	'',	0,	''),
(39,	0,	0,	'getDayliMIGXrecord',	'',	0,	9,	0,	'/**\n * getDayliMIGXrecord\n *\n * Copyright 2009-2011 by Bruno Perner <b.perner@gmx.de>\n *\n * getDayliMIGXrecord is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * getDayliMIGXrecord is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * getDayliMIGXrecord; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package migx\n */\n/**\n * getDayliMIGXrecord\n *\n * display Items from outputvalue of TV with custom-TV-input-type MIGX or from other JSON-string for MODx Revolution \n *\n * @version 1.0\n * @author Bruno Perner <b.perner@gmx.de>\n * @copyright Copyright &copy; 2012\n * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License\n * version 2 or (at your option) any later version.\n * @package migx\n */\n\n/*example: [[!getDayliMIGXrecord? &tvname=`myTV`&tpl=`@CODE:<img src=\"[[+image]]\"/>` &randomize=`1`]]*/\n/* get default properties */\n\n\n$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');\n$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');\n$randomize = $modx->getOption(\'randomize\', $scriptProperties, false);\n$where = $modx->getOption(\'where\', $scriptProperties, \'\');\n$where = !empty($where) ? $modx->fromJSON($where) : array();\n$sort = $modx->getOption(\'sort\', $scriptProperties, \'\');\n$sort = !empty($sort) ? $modx->fromJSON($sort) : array();\n$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);\n$docid = $modx->getOption(\'docid\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : 1));\n$processTVs = $modx->getOption(\'processTVs\', $scriptProperties, \'1\');\n\n$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);\nif (!($migx instanceof Migx))\n    return \'\';\n$migx->working_context = $modx->resource->get(\'context_key\');\n\nif (!empty($tvname)) {\n    if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname))) {\n\n        /*\n        *   get inputProperties\n        */\n\n\n        $properties = $tv->get(\'input_properties\');\n        $properties = isset($properties[\'formtabs\']) ? $properties : $tv->getProperties();\n\n        $migx->config[\'configs\'] = $properties[\'configs\'];\n        $migx->loadConfigs();\n        // get tabs from file or migx-config-table\n        $formtabs = $migx->getTabs();\n        if (empty($formtabs)) {\n            //try to get formtabs and its fields from properties\n            $formtabs = $modx->fromJSON($properties[\'formtabs\']);\n        }\n\n        //$tv->setCacheable(false);\n        //$outputvalue = $tv->renderOutput($docid);\n        \n        $tvresource = $modx->getObject(\'modTemplateVarResource\', array(\n            \'tmplvarid\' => $tv->get(\'id\'),\n            \'contentid\' => $docid,\n            ));\n\n\n        $outputvalue = $tvresource->get(\'value\');\n        \n        /*\n        *   get inputTvs \n        */\n        $inputTvs = array();\n        if (is_array($formtabs)) {\n\n            //multiple different Forms\n            // Note: use same field-names and inputTVs in all forms\n            $inputTvs = $migx->extractInputTvs($formtabs);\n        }\n        $migx->source = $tv->getSource($migx->working_context, false);\n\n        if (empty($outputvalue)) {\n            return \'\';\n        }\n\n        $items = $modx->fromJSON($outputvalue);\n\n\n        //is there an active item for the current date?\n        $activedate = $modx->getOption(\'activedate\', $scriptProperties, strftime(\'%Y/%m/%d\'));\n        //$activedate = $modx->getOption(\'activedate\', $_GET, strftime(\'%Y/%m/%d\'));\n        $activewhere = array();\n        $activewhere[\'activedate\'] = $activedate;\n        $activewhere[\'activated\'] = \'1\';\n        $activeitems = $migx->filterItems($activewhere, $items);\n\n        if (count($activeitems) == 0) {\n\n            $activeitems = array();\n            // where filter\n            if (is_array($where) && count($where) > 0) {\n                $items = $migx->filterItems($where, $items);\n            }\n\n            $tempitems = array();\n            $count = count($items);\n            $emptycount = 0;\n            $latestdate = $activedate;\n            $nextdate = strtotime($latestdate);\n            foreach ($items as $item) {\n                //empty all dates and active-states which are older than today\n                if (!empty($item[\'activedate\']) && $item[\'activedate\'] < $activedate) {\n                    $item[\'activated\'] = \'0\';\n                    $item[\'activedate\'] = \'\';\n                }\n                if (empty($item[\'activedate\'])) {\n                    $emptycount++;\n                }\n                if ($item[\'activedate\'] > $latestdate) {\n                    $latestdate = $item[\'activedate\'];\n                    $nextdate = strtotime($latestdate) + (24 * 60 * 60);\n                }\n                if ($item[\'activedate\'] == $activedate) {\n                    $item[\'activated\'] = \'1\';\n                    $activeitems[] = $item;\n                }\n                $tempitems[] = $item;\n            }\n\n            //echo \'<pre>\' . print_r($tempitems, 1) . \'</pre>\';\n\n            $items = $tempitems;\n\n\n            //are there more than half of all items with empty activedates\n\n            if ($emptycount >= $count / 2) {\n\n                // sort items\n                if (is_array($sort) && count($sort) > 0) {\n                    $items = $migx->sortDbResult($items, $sort);\n                }\n                if (count($items) > 0) {\n                    //shuffle items\n                    if ($randomize) {\n                        shuffle($items);\n                    }\n                }\n\n                $tempitems = array();\n                foreach ($items as $item) {\n                    if (empty($item[\'activedate\'])) {\n                        $item[\'activedate\'] = strftime(\'%Y/%m/%d\', $nextdate);\n                        $nextdate = $nextdate + (24 * 60 * 60);\n                        if ($item[\'activedate\'] == $activedate) {\n                            $item[\'activated\'] = \'1\';\n                            $activeitems[] = $item;\n                        }\n                    }\n\n                    $tempitems[] = $item;\n                }\n\n                $items = $tempitems;\n            }\n\n            //$resource = $modx->getObject(\'modResource\', $docid);\n            //echo $modx->toJson($items);\n            $sort = \'[{\"sortby\":\"activedate\"}]\';\n            $items = $migx->sortDbResult($items, $modx->fromJson($sort));\n\n            //echo \'<pre>\' . print_r($items, 1) . \'</pre>\';\n\n            $tv->setValue($docid, $modx->toJson($items));\n            $tv->save();\n\n        }\n    }\n\n}\n\n\n$properties = array();\nforeach ($scriptProperties as $property => $value) {\n    $properties[\'property.\' . $property] = $value;\n}\n\n$output = \'\';\n\nforeach ($activeitems as $key => $item) {\n\n    $fields = array();\n    foreach ($item as $field => $value) {\n        $value = is_array($value) ? implode(\'||\', $value) : $value; //handle arrays (checkboxes, multiselects)\n        if ($processTVs && isset($inputTvs[$field])) {\n            if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inputTvs[$field][\'inputTV\']))) {\n\n            } else {\n                $tv = $modx->newObject(\'modTemplateVar\');\n                $tv->set(\'type\', $inputTvs[$field][\'inputTVtype\']);\n            }\n            $inputTV = $inputTvs[$field];\n\n            $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\', null, \'image,file\');\n            //don\'t manipulate any urls here\n            $modx->setOption(\'manipulatable_url_tv_output_types\', \'\');\n            $tv->set(\'default_text\', $value);\n            $value = $tv->renderOutput($docid);\n            //set option back\n            $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);\n            //now manipulate urls\n            if ($mediasource = $migx->getFieldSource($inputTV, $tv)) {\n                $mTypes = explode(\',\', $mTypes);\n                if (!empty($value) && in_array($tv->get(\'type\'), $mTypes)) {\n                    //$value = $mediasource->prepareOutputUrl($value);\n                    $value = str_replace(\'/./\', \'/\', $mediasource->prepareOutputUrl($value));\n                }\n            }\n\n        }\n        $fields[$field] = $value;\n\n    }\n\n    $rowtpl = $tpl;\n    //get changing tpls from field\n    if (substr($tpl, 0, 7) == \"@FIELD:\") {\n        $tplField = substr($tpl, 7);\n        $rowtpl = $fields[$tplField];\n    }\n\n    if (!isset($template[$rowtpl])) {\n        if (substr($rowtpl, 0, 6) == \"@FILE:\") {\n            $template[$rowtpl] = file_get_contents($modx->config[\'base_path\'] . substr($rowtpl, 6));\n        } elseif (substr($rowtpl, 0, 6) == \"@CODE:\") {\n            $template[$rowtpl] = substr($tpl, 6);\n        } elseif ($chunk = $modx->getObject(\'modChunk\', array(\'name\' => $rowtpl), true)) {\n            $template[$rowtpl] = $chunk->getContent();\n        } else {\n            $template[$rowtpl] = false;\n        }\n    }\n\n    $fields = array_merge($fields, $properties);\n\n    if ($template[$rowtpl]) {\n        $chunk = $modx->newObject(\'modChunk\');\n        $chunk->setCacheable(false);\n        $chunk->setContent($template[$rowtpl]);\n        $output .= $chunk->process($fields);\n\n    } else {\n        $output .= \'<pre>\' . print_r($fields, 1) . \'</pre>\';\n\n    }\n\n\n}\n\n\nif (!empty($toPlaceholder)) {\n    $modx->setPlaceholder($toPlaceholder, $output);\n    return \'\';\n}\n\nreturn $output;',	0,	'',	'',	0,	''),
(40,	0,	0,	'filterbytag',	'',	0,	9,	0,	'if (!is_array($subject)) {\n    $subject = explode(\',\',str_replace(array(\'||\',\' \'),array(\',\',\'\'),$subject));\n}\n\nreturn (in_array($operand,$subject));',	0,	'',	'',	0,	''),
(41,	0,	0,	'migxObjectMediaPath',	'',	0,	9,	0,	'$pathTpl = $modx->getOption(\'pathTpl\', $scriptProperties, \'\');\n$objectid = $modx->getOption(\'objectid\', $scriptProperties, \'\');\n$createfolder = $modx->getOption(\'createFolder\', $scriptProperties, \'1\');\n$path = \'\';\n$createpath = false;\nif (empty($objectid) && $modx->getPlaceholder(\'objectid\')) {\n    // placeholder was set by some script on frontend for example\n    $objectid = $modx->getPlaceholder(\'objectid\');\n}\nif (empty($objectid) && isset($_REQUEST[\'object_id\'])) {\n    $objectid = $_REQUEST[\'object_id\'];\n}\n\n\n\nif (empty($objectid)) {\n\n    //set Session - var in fields.php - processor\n    if (isset($_SESSION[\'migxWorkingObjectid\'])) {\n        $objectid = $_SESSION[\'migxWorkingObjectid\'];\n        $createpath = !empty($createfolder);\n    }\n\n}\n\n\n$path = str_replace(\'{id}\', $objectid, $pathTpl);\n\n$fullpath = $modx->getOption(\'base_path\') . $path;\n\nif ($createpath && !file_exists($fullpath)) {\n        $permissions = octdec(\'0\' . (int)($modx->getOption(\'new_folder_permissions\', null, \'755\', true)));\n        if (!@mkdir($fullpath, $permissions, true)) {\n            $modx->log(MODX_LOG_LEVEL_ERROR, sprintf(\'[migxResourceMediaPath]: could not create directory %s).\', $fullpath));\n        }\n        else{\n            chmod($fullpath, $permissions); \n        }\n}\n\nreturn $path;',	0,	'',	'',	0,	''),
(42,	0,	0,	'exportMIGX2db',	'',	0,	9,	0,	'/**\n * exportMIGX2db\n *\n * Copyright 2014 by Bruno Perner <b.perner@gmx.de>\n * \n * Sponsored by Simon Wurster <info@wurster-medien.de>\n *\n * exportMIGX2db is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * exportMIGX2db is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * exportMIGX2db; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package migx\n */\n/**\n * exportMIGX2db\n *\n * export Items from outputvalue of TV with custom-TV-input-type MIGX or from other JSON-string to db-table \n *\n * @version 1.0\n * @author Bruno Perner <b.perner@gmx.de>\n * @copyright Copyright &copy; 2014\n * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License\n * version 2 or (at your option) any later version.\n * @package migx\n */\n\n/*\n[[!exportMIGX2db? \n&tvname=`references` \n&resources=`25` \n&packageName=`projekte`\n&classname=`Projekt` \n&migx_id_field=`migx_id` \n&renamed_fields=`{\"Firmen-URL\":\"Firmen_url\",\"Projekt-URL\":\"Projekt_URL\",\"main-image\":\"main_image\"}`\n]]\n*/\n\n\n$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');\n$resources = $modx->getOption(\'resources\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : \'\'));\n$resources = explode(\',\', $resources);\n$prefix = isset($scriptProperties[\'prefix\']) ? $scriptProperties[\'prefix\'] : null;\n$packageName = $modx->getOption(\'packageName\', $scriptProperties, \'\');\n$classname = $modx->getOption(\'classname\', $scriptProperties, \'\');\n$value = $modx->getOption(\'value\', $scriptProperties, \'\');\n$migx_id_field = $modx->getOption(\'migx_id_field\', $scriptProperties, \'\');\n$pos_field = $modx->getOption(\'pos_field\', $scriptProperties, \'\');\n$renamed_fields = $modx->getOption(\'renamed_fields\', $scriptProperties, \'\');\n\n$packagepath = $modx->getOption(\'core_path\') . \'components/\' . $packageName .\n    \'/\';\n$modelpath = $packagepath . \'model/\';\n\n$modx->addPackage($packageName, $modelpath, $prefix);\n$added = 0;\n$modified = 0;\n\nforeach ($resources as $docid) {\n    \n    $outputvalue = \'\';\n    if (count($resources)==1){\n        $outputvalue = $value;    \n    }\n    \n    if (!empty($tvname)) {\n        if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname))) {\n\n            $outputvalue = empty($outputvalue) ? $tv->renderOutput($docid) : $outputvalue;\n        }\n    }\n\n    if (!empty($outputvalue)) {\n        $renamed = !empty($renamed_fields) ? $modx->fromJson($renamed_fields) : array();\n\n        $items = $modx->fromJSON($outputvalue);\n        $pos = 1;\n        $searchfields = array();\n        if (is_array($items)) {\n            foreach ($items as $fields) {\n                $search = array();\n                if (!empty($migx_id_field)) {\n                    $search[$migx_id_field] = $fields[\'MIGX_id\'];\n                }\n                if (!empty($resource_id_field)) {\n                    $search[$resource_id_field] = $docid;\n                }\n                if (!empty($migx_id_field) && $object = $modx->getObject($classname, $search)) {\n                    $mode = \'mod\';\n                } else {\n                    $object = $modx->newObject($classname);\n                    $object->fromArray($search);\n                    $mode = \'add\';\n                }\n                foreach ($fields as $field => $value) {\n                    $fieldname = array_key_exists($field, $renamed) ? $renamed[$field] : $field;\n                    $object->set($fieldname, $value);\n                }\n                if (!empty($pos_field)) {\n                    $object->set($pos_field,$pos) ;\n                }                \n                if ($object->save()) {\n                    if ($mode == \'add\') {\n                        $added++;\n                    } else {\n                        $modified++;\n                    }\n                }\n                $pos++;\n            }\n            \n        }\n    }\n}\n\n\nreturn $added . \' rows added to db, \' . $modified . \' existing rows actualized\';',	0,	'',	'',	0,	''),
(43,	0,	0,	'preparedatewhere',	'',	0,	9,	0,	'$name = $modx->getOption(\'name\', $scriptProperties, \'\');\n$date = $modx->getOption($name . \'_date\', $_REQUEST, \'\');\n$dir = str_replace(\'T\', \' \', $modx->getOption($name . \'_dir\', $_REQUEST, \'\'));\n\nif (!empty($date) && !empty($dir) && $dir != \'all\') {\n    switch ($dir) {\n        case \'=\':\n            $where = array(\n            \'enddate:>=\' => strftime(\'%Y-%m-%d 00:00:00\',strtotime($date)),\n            \'startdate:<=\' => strftime(\'%Y-%m-%d 23:59:59\',strtotime($date))\n            );\n            break;\n        case \'>=\':\n            $where = array(\n            \'enddate:>=\' => strftime(\'%Y-%m-%d 00:00:00\',strtotime($date))\n            );\n            break;\n        case \'<=\':\n            $where = array(\n            \'startdate:<=\' => strftime(\'%Y-%m-%d 23:59:59\',strtotime($date))\n            );            \n            break;\n\n    }\n\n    return $modx->toJson($where);\n}',	0,	'',	'',	0,	''),
(44,	0,	0,	'migxJsonToPlaceholders',	'',	0,	9,	0,	'$value = $modx->getOption(\'value\',$scriptProperties,\'\');\n$prefix = $modx->getOption(\'prefix\',$scriptProperties,\'\');\n\n//$modx->setPlaceholders($modx->fromJson($value),$prefix,\'\',true);\n\n$values = $modx->fromJson($value);\nif (is_array($values)){\n    foreach ($values as $key => $value){\n        $value = $value == null ? \'\' : $value;\n        $modx->setPlaceholder($prefix . $key, $value);\n    }\n}',	0,	'',	'',	0,	''),
(45,	0,	0,	'migxGetCollectionTree',	'',	0,	9,	0,	'/**\n * migxGetCollectionTree\n *\n * Copyright 2014 by Bruno Perner <b.perner@gmx.de>\n *\n * migxGetCollectionTree is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * migxGetCollectionTree is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * migxGetCollectionTree; if not, write to the Free Software Foundation, Inc., 59 Temple Place,\n * Suite 330, Boston, MA 02111-1307 USA\n *\n * @package migx\n */\n/**\n * migxGetCollectionTree\n *\n *          display nested items from different objects. The tree-schema is defined by a json-property. \n *\n * @version 1.0.0\n * @author Bruno Perner <b.perner@gmx.de>\n * @copyright Copyright &copy; 2014\n * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License\n * version 2 or (at your option) any later version.\n * @package migx\n */\n\n$treeSchema = $modx->getOption(\'treeSchema\', $scriptProperties, \'\');\n$treeSchema = $modx->fromJson($treeSchema);\n\n$scriptProperties[\'current\'] = $modx->getOption(\'current\', $scriptProperties, \'\');\n$scriptProperties[\'currentClassname\'] = $modx->getOption(\'currentClassname\', $scriptProperties, \'\');\n$scriptProperties[\'currentKeyField\'] = $modx->getOption(\'currentKeyField\', $scriptProperties, \'id\');\n$return = $modx->getOption(\'return\', $scriptProperties, \'parsed\'); //parsed,json,arrayprint\n\n/*\nExamples:\n\nGet Resource-Tree, 4 levels deep\n\n[[!migxGetCollectionTree?\n&current=`57`\n&currentClassname=`modResource`\n&treeSchema=`\n{\n\"classname\": \"modResource\",\n\"debug\": \"1\",\n\"tpl\": \"mgctResourceTree\",\n\"wrapperTpl\": \"@CODE:<ul>[[+output]]</ul>\",\n\"selectfields\": \"id,pagetitle\",\n\"where\": {\n\"parent\": \"0\",\n\"published\": \"1\",\n\"deleted\": \"0\"\n},\n\"_branches\": [{\n\"alias\": \"children\",\n\"classname\": \"modResource\",\n\"local\": \"parent\",\n\"foreign\": \"id\",\n\"tpl\": \"mgctResourceTree\",\n\"debug\": \"1\",\n\"selectfields\": \"id,pagetitle,parent\",\n\"_branches\": [{\n\"alias\": \"children\",\n\"classname\": \"modResource\",\n\"local\": \"parent\",\n\"foreign\": \"id\",\n\"tpl\": \"mgctResourceTree\",\n\"debug\": \"1\",\n\"selectfields\": \"id,pagetitle,parent\",\n\"where\": {\n\"published\": \"1\",\n\"deleted\": \"0\"\n},\n\"_branches\": [{\n\"alias\": \"children\",\n\"classname\": \"modResource\",\n\"local\": \"parent\",\n\"foreign\": \"id\",\n\"tpl\": \"mgctResourceTree\",\n\"debug\": \"1\",\n\"selectfields\": \"id,pagetitle,parent\",\n\"where\": {\n\"published\": \"1\",\n\"deleted\": \"0\"\n}\n}]\n}]\n}]\n}\n`]]\n\nthe chunk mgctResourceTree:\n<li class=\"[[+_activelabel]] [[+_currentlabel]]\" ><a href=\"[[~[[+id]]]]\">[[+pagetitle]]([[+id]])</a></li>\n[[+innercounts.children:gt=`0`:then=`\n<ul>[[+innerrows.children]]</ul>\n`:else=``]]\n\nget all Templates and its Resources:\n\n[[!migxGetCollectionTree?\n&treeSchema=`\n{\n\"classname\": \"modTemplate\",\n\"debug\": \"1\",\n\"tpl\": \"@CODE:<h3>[[+templatename]]</h3><ul>[[+innerrows.resource]]</ul>\",\n\"selectfields\": \"id,templatename\",\n\"_branches\": [{\n\"alias\": \"resource\",\n\"classname\": \"modResource\",\n\"local\": \"template\",\n\"foreign\": \"id\",\n\"tpl\": \"@CODE:<li>[[+pagetitle]]([[+id]])</li>\",\n\"debug\": \"1\",\n\"selectfields\": \"id,pagetitle,template\"\n}]\n}\n`]]\n*/\n\nif (!class_exists(\'MigxGetCollectionTree\')) {\n    class MigxGetCollectionTree\n    {\n        function __construct(modX & $modx, array $config = array())\n        {\n            $this->modx = &$modx;\n            $this->config = $config;\n        }\n\n        function getBranch($branch, $foreigns = array(), $level = 1)\n        {\n\n            $rows = array();\n\n            if (count($foreigns) > 0) {\n                $modx = &$this->modx;\n\n                $local = $modx->getOption(\'local\', $branch, \'\');\n                $where = $modx->getOption(\'where\', $branch, array());\n                $where = !empty($where) && !is_array($where) ? $modx->fromJSON($where) : $where;\n                $where[] = array($local . \':IN\' => $foreigns);\n\n                $branch[\'where\'] = $modx->toJson($where);\n\n                $level++;\n                /*\n                if ($levelFromCurrent > 0){\n                $levelFromCurrent++;    \n                }\n                */\n\n                $rows = $this->getRows($branch, $level);\n            }\n\n            return $rows;\n        }\n\n        function getRows($scriptProperties, $level)\n        {\n            $migx = &$this->migx;\n            $modx = &$this->modx;\n\n            $current = $modx->getOption(\'current\', $this->config, \'\');\n            $currentKeyField = $modx->getOption(\'currentKeyField\', $this->config, \'id\');\n            $currentlabel = $modx->getOption(\'currentlabel\', $this->config, \'current\');\n            $classname = $modx->getOption(\'classname\', $scriptProperties, \'\');\n            $currentClassname = !empty($this->config[\'currentClassname\']) ? $this->config[\'currentClassname\'] : $classname;\n\n            $activelabel = $modx->getOption(\'activelabel\', $this->config, \'active\');\n            $return = $modx->getOption(\'return\', $this->config, \'parsed\');\n\n            $xpdo = $migx->getXpdoInstanceAndAddPackage($scriptProperties);\n            $c = $migx->prepareQuery($xpdo, $scriptProperties);\n            $rows = $migx->getCollection($c);\n\n            $branches = $modx->getOption(\'_branches\', $scriptProperties, array());\n\n            $collectedSubrows = array();\n            foreach ($branches as $branch) {\n                $foreign = $modx->getOption(\'foreign\', $branch, \'\');\n                $local = $modx->getOption(\'local\', $branch, \'\');\n                $alias = $modx->getOption(\'alias\', $branch, \'\');\n                //$activeonly = $modx->getOption(\'activeonly\', $branch, \'\');\n                $foreigns = array();\n                foreach ($rows as $row) {\n                    $foreigns[] = $row[$foreign];\n                }\n\n                $subrows = $this->getBranch($branch, $foreigns, $level);\n                foreach ($subrows as $subrow) {\n\n                    $collectedSubrows[$subrow[$local]][] = $subrow;\n                    $subrow[\'_active\'] = $modx->getOption(\'_active\', $subrow, \'0\');\n                    /*\n                    if (!empty($activeonly) && $subrow[\'_active\'] != \'1\') {\n                    $output = \'\';\n                    } else {\n                    $collectedSubrows[$subrow[$local]][] = $subrow;\n                    }\n                    */\n                    if ($subrow[\'_active\'] == \'1\') {\n                        //echo \'active subrow:<pre>\' . print_r($subrow,1) . \'</pre>\';\n                        $activesubrow[$subrow[$local]] = true;\n                    }\n                    if ($subrow[\'_current\'] == \'1\') {\n                        //echo \'active subrow:<pre>\' . print_r($subrow,1) . \'</pre>\';\n                        $currentsubrow[$subrow[$local]] = true;\n                    }\n\n\n                }\n                //insert subrows\n                $temprows = $rows;\n                $rows = array();\n                foreach ($temprows as $row) {\n                    if (isset($collectedSubrows[$row[$foreign]])) {\n                        $row[\'_active\'] = \'0\';\n                        $row[\'_currentparent\'] = \'0\';\n                        if (isset($activesubrow[$row[$foreign]]) && $activesubrow[$row[$foreign]]) {\n                            $row[\'_active\'] = \'1\';\n                            //echo \'active row:<pre>\' . print_r($row,1) . \'</pre>\';\n                        }\n                        if (isset($currentsubrow[$row[$foreign]]) && $currentsubrow[$row[$foreign]]) {\n                            $row[\'_currentparent\'] = \'1\';\n                            //echo \'active row:<pre>\' . print_r($row,1) . \'</pre>\';\n                        }\n\n                        //render innerrows\n                        //$output = $migx->renderOutput($collectedSubrows[$row[$foreign]],$scriptProperties);\n                        //$output = $collectedSubrows[$row[$foreign]];\n\n                        $row[\'innercounts.\' . $alias] = count($collectedSubrows[$row[$foreign]]);\n                        $row[\'_scriptProperties\'][$alias] = $branch;\n                        /*\n                        switch ($return) {\n                        case \'parsed\':\n                        $output = $migx->renderOutput($collectedSubrows[$row[$foreign]], $branch);\n                        //$subbranches = $modx->getOption(\'_branches\', $branch, array());\n                        //if there are any placeholders left with the same alias from subbranch, remove them\n                        $output = str_replace(\'[[+innerrows.\' . $alias . \']]\', \'\', $output);\n                        break;\n                        case \'json\':\n                        case \'arrayprint\':\n                        $output = $collectedSubrows[$row[$foreign]];\n                        break;\n                        }\n                        */\n                        $output = $collectedSubrows[$row[$foreign]];\n\n                        $row[\'innerrows.\' . $alias] = $output;\n\n                    }\n                    $rows[] = $row;\n                }\n\n            }\n\n            $temprows = $rows;\n            $rows = array();\n            foreach ($temprows as $row) {\n                //add additional placeholders\n                $row[\'_level\'] = $level;\n                $row[\'_active\'] = $modx->getOption(\'_active\', $row, \'0\');\n                if ($currentClassname == $classname && $row[$currentKeyField] == $current) {\n                    $row[\'_current\'] = \'1\';\n                    $row[\'_currentlabel\'] = $currentlabel;\n                    $row[\'_active\'] = \'1\';\n                } else {\n                    $row[\'_current\'] = \'0\';\n                    $row[\'_currentlabel\'] = \'\';\n                }\n                if ($row[\'_active\'] == \'1\') {\n                    $row[\'_activelabel\'] = $activelabel;\n                } else {\n                    $row[\'_activelabel\'] = \'\';\n                }\n                $rows[] = $row;\n            }\n\n            return $rows;\n        }\n\n        function renderRow($row, $levelFromCurrent = 0)\n        {\n            $migx = &$this->migx;\n            $modx = &$this->modx;\n            $return = $modx->getOption(\'return\', $this->config, \'parsed\');\n            $branchProperties = $modx->getOption(\'_scriptProperties\', $row, array());\n            $current = $modx->getOption(\'_current\', $row, \'0\');\n            $currentparent = $modx->getOption(\'_currentparent\', $row, \'0\');\n            $levelFromCurrent = $current == \'1\' ? 1 : $levelFromCurrent;\n            $row[\'_levelFromCurrent\'] = $levelFromCurrent;\n            foreach ($branchProperties as $alias => $properties) {\n                $innerrows = $modx->getOption(\'innerrows.\' . $alias, $row, array());\n                $subrows = $this->renderRows($innerrows, $properties, $levelFromCurrent, $currentparent);\n                if ($return == \'parsed\') {\n                    $subrows = $migx->renderOutput($subrows, $properties);\n                }\n                $row[\'innerrows.\' . $alias] = $subrows;\n            }\n\n            return $row;\n        }\n\n        function renderRows($rows, $scriptProperties, $levelFromCurrent = 0, $siblingOfCurrent = \'0\')\n        {\n\n            $modx = &$this->modx;\n            $temprows = $rows;\n            $rows = array();\n            if ($levelFromCurrent > 0) {\n                $levelFromCurrent++;\n            }\n            foreach ($temprows as $row) {\n                $row[\'_siblingOfCurrent\'] = $siblingOfCurrent;\n                $row = $this->renderRow($row, $levelFromCurrent);\n                $rows[] = $row;\n            }\n            return $rows;\n        }\n    }\n}\n\n$instance = new MigxGetCollectionTree($modx, $scriptProperties);\n\nif (is_array($treeSchema)) {\n    $scriptProperties = $treeSchema;\n\n    $migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);\n    if (!($migx instanceof Migx))\n        return \'\';\n\n    $defaultcontext = \'web\';\n    $migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : $defaultcontext;\n    $instance->migx = &$migx;\n\n    $level = 1;\n    $scriptProperties[\'alias\'] = \'row\';\n    $rows = $instance->getRows($scriptProperties, $level);\n    $row = array();\n    $row[\'innercounts.row\'] = count($rows);\n    $row[\'innerrows.row\'] = $rows;\n    $row[\'_scriptProperties\'][\'row\'] = $scriptProperties;\n\n    $rows = $instance->renderRow($row);\n\n    $output = \'\';\n    switch ($return) {\n        case \'parsed\':\n            $output = $modx->getOption(\'innerrows.row\', $rows, \'\');\n            break;\n        case \'json\':\n            $output = $modx->toJson($rows);\n            break;\n        case \'arrayprint\':\n            $output = \'<pre>\' . print_r($rows, 1) . \'</pre>\';\n            break;\n    }\n\n    return $output;\n\n}',	0,	'',	'',	0,	''),
(46,	0,	0,	'migxIsNewObject',	'',	0,	9,	0,	'if (isset($_REQUEST[\'object_id\']) && $_REQUEST[\'object_id\']==\'new\'){\n    return 1;\n}',	0,	'',	'',	0,	''),
(47,	0,	0,	'migx_example_validate',	'',	0,	9,	0,	'$properties = &$modx->getOption(\'scriptProperties\', $scriptProperties, array());\n$object = &$modx->getOption(\'object\', $scriptProperties, null);\n$postvalues = &$modx->getOption(\'postvalues\', $scriptProperties, array());\n$form_field = $modx->getOption(\'form_field\', $scriptProperties, array());\n$value = $modx->getOption(\'value\', $scriptProperties, \'\');\n$validation_type = $modx->getOption(\'validation_type\', $scriptProperties, \'\');\n$result = \'\';\nswitch ($validation_type) {\n    case \'gt25\':\n        if ((int) $value > 25) {\n        } else {\n            $error_message = $validation_type; // may be custom validation message\n            $error[\'caption\'] = $form_field;\n            $error[\'validation_type\'] = $error_message;\n            $result[\'error\'] = $error;\n            $result = $modx->toJson($result);\n        }\n        break;\n}\nreturn $result;',	0,	'',	'',	0,	''),
(48,	0,	0,	'phpthumbof',	'Identical to pthumb. Retained for backwards compatibility.\nDocumentation: https://github.com/oo12/phpThumbOf',	0,	10,	0,	'/**\n * pThumb\n * Copyright 2013-2014 Jason Grant\n *\n * Please see the GitHub page for documentation or to report bugs:\n * https://github.com/oo12/phpThumbOf\n *\n * Forked from phpThumbOf 1.4.0\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * pThumb is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple\n * Place, Suite 330, Boston, MA 02111-1307 USA\n *\n */\n/**\n *\n * @var modX $modx\n * @var array $scriptProperties\n * @var string $input\n * @var string|array $options\n *\n */\n\nif (empty($input)) {  // Exit quietly if no file name given\n	return;\n}\n\n$scriptProperties[\'debug\'] = isset($debug) ? $debug : false;\n\n\nstatic $pt_settings = array();\n\nif (empty($pt_settings)) {\n	if (!$modx->loadClass(\'phpThumbOf\', MODX_CORE_PATH . \'components/phpthumbof/model/\', true, true)) {\n		$modx->log(modX::LOG_LEVEL_ERROR, \'[pThumb] Could not load phpThumbOf class.\');\n		return $input;\n	}\n}\n\n$pThumb = new phpThumbOf($modx, $pt_settings, $scriptProperties);\n\n$result = $pThumb->createThumbnail($input, $options);\n\nif (!empty($toPlaceholder) || $result[\'outputDims\']) {\n	if ($result[\'width\'] === \'\' && $result[\'file\'] && $dims = getimagesize($result[\'file\']) ) {\n			$result[\'width\'] = $dims[0];\n			$result[\'height\'] = $dims[1];\n	}\n	if (!empty($toPlaceholder)) {\n		$modx->setPlaceholders(array(\n			$toPlaceholder => $result[\'src\'],\n			\"$toPlaceholder.width\" => $result[\'width\'],\n			\"$toPlaceholder.height\" => $result[\'height\']\n		));\n		$output = \'\';\n	}\n	if ($result[\'outputDims\']) {\n		$output = \"src=\\\"{$result[\'src\']}\\\"\" . ($result[\'width\'] ? \" width=\\\"{$result[\'width\']}\\\" height=\\\"{$result[\'height\']}\\\"\" : \'\');\n	}\n}\nelse {\n	$output = $result[\'src\'];\n}\n\nif ($debug && $result[\'success\']) {  // if debugging is on and createThumbnail was successful, log the debug info\n	$pThumb->debugmsg(isset($pThumb->phpThumb->debugmessages) ? \':: Processed ::\' : \":: Loaded from cache: {$result[\'src\']}\", true);\n}\n\nreturn $output;',	0,	'a:1:{s:5:\"debug\";a:7:{s:4:\"name\";s:5:\"debug\";s:4:\"desc\";s:22:\"prop_pthumb.debug_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"phpthumbof:default\";s:4:\"area\";s:0:\"\";}}',	'',	0,	''),
(49,	0,	0,	'pthumb',	'Identical to phpthumbof. Better for future compatibility.\nDocumentation: https://github.com/oo12/phpThumbOf',	0,	10,	0,	'/**\n * pThumb\n * Copyright 2013-2014 Jason Grant\n *\n * Please see the GitHub page for documentation or to report bugs:\n * https://github.com/oo12/phpThumbOf\n *\n * Forked from phpThumbOf 1.4.0\n * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>\n *\n * pThumb is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by the Free\n * Software Foundation; either version 2 of the License, or (at your option) any\n * later version.\n *\n * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License along with\n * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple\n * Place, Suite 330, Boston, MA 02111-1307 USA\n *\n */\n/**\n *\n * @var modX $modx\n * @var array $scriptProperties\n * @var string $input\n * @var string|array $options\n *\n */\n\nif (empty($input)) {  // Exit quietly if no file name given\n	return;\n}\n\n$scriptProperties[\'debug\'] = isset($debug) ? $debug : false;\n\n\nstatic $pt_settings = array();\n\nif (empty($pt_settings)) {\n	if (!$modx->loadClass(\'phpThumbOf\', MODX_CORE_PATH . \'components/phpthumbof/model/\', true, true)) {\n		$modx->log(modX::LOG_LEVEL_ERROR, \'[pThumb] Could not load phpThumbOf class.\');\n		return $input;\n	}\n}\n\n$pThumb = new phpThumbOf($modx, $pt_settings, $scriptProperties);\n\n$result = $pThumb->createThumbnail($input, $options);\n\nif (!empty($toPlaceholder) || $result[\'outputDims\']) {\n	if ($result[\'width\'] === \'\' && $result[\'file\'] && $dims = getimagesize($result[\'file\']) ) {\n			$result[\'width\'] = $dims[0];\n			$result[\'height\'] = $dims[1];\n	}\n	if (!empty($toPlaceholder)) {\n		$modx->setPlaceholders(array(\n			$toPlaceholder => $result[\'src\'],\n			\"$toPlaceholder.width\" => $result[\'width\'],\n			\"$toPlaceholder.height\" => $result[\'height\']\n		));\n		$output = \'\';\n	}\n	if ($result[\'outputDims\']) {\n		$output = \"src=\\\"{$result[\'src\']}\\\"\" . ($result[\'width\'] ? \" width=\\\"{$result[\'width\']}\\\" height=\\\"{$result[\'height\']}\\\"\" : \'\');\n	}\n}\nelse {\n	$output = $result[\'src\'];\n}\n\nif ($debug && $result[\'success\']) {  // if debugging is on and createThumbnail was successful, log the debug info\n	$pThumb->debugmsg(isset($pThumb->phpThumb->debugmessages) ? \':: Processed ::\' : \":: Loaded from cache: {$result[\'src\']}\", true);\n}\n\nreturn $output;',	0,	'a:1:{s:5:\"debug\";a:7:{s:4:\"name\";s:5:\"debug\";s:4:\"desc\";s:22:\"prop_pthumb.debug_desc\";s:4:\"type\";s:13:\"combo-boolean\";s:7:\"options\";a:0:{}s:5:\"value\";b:0;s:7:\"lexicon\";s:18:\"phpthumbof:default\";s:4:\"area\";s:0:\"\";}}',	'',	0,	'');

DROP TABLE IF EXISTS `q777_site_templates`;
CREATE TABLE `q777_site_templates` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `source` int(10) unsigned NOT NULL DEFAULT '0',
  `property_preprocess` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `templatename` varchar(50) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT 'Template',
  `editor_type` int(11) NOT NULL DEFAULT '0',
  `category` int(11) NOT NULL DEFAULT '0',
  `icon` varchar(255) NOT NULL DEFAULT '',
  `template_type` int(11) NOT NULL DEFAULT '0',
  `content` mediumtext NOT NULL,
  `locked` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `properties` text,
  `static` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `static_file` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `templatename` (`templatename`),
  KEY `category` (`category`),
  KEY `locked` (`locked`),
  KEY `static` (`static`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_site_templates` (`id`, `source`, `property_preprocess`, `templatename`, `description`, `editor_type`, `category`, `icon`, `template_type`, `content`, `locked`, `properties`, `static`, `static_file`) VALUES
(1,	0,	0,	'Начальный шаблон',	'',	0,	0,	'',	0,	'{include \'file:templates/base.tpl\'}',	0,	'a:0:{}',	0,	''),
(2,	0,	0,	'Главная',	'',	0,	0,	'',	0,	'{include \'file:templates/home.tpl\'}',	0,	'a:0:{}',	0,	'');

DROP TABLE IF EXISTS `q777_site_tmplvars`;
CREATE TABLE `q777_site_tmplvars` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `source` int(10) unsigned NOT NULL DEFAULT '0',
  `property_preprocess` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `type` varchar(20) NOT NULL DEFAULT '',
  `name` varchar(50) NOT NULL DEFAULT '',
  `caption` varchar(80) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `editor_type` int(11) NOT NULL DEFAULT '0',
  `category` int(11) NOT NULL DEFAULT '0',
  `locked` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `elements` text,
  `rank` int(11) NOT NULL DEFAULT '0',
  `display` varchar(20) NOT NULL DEFAULT '',
  `default_text` mediumtext,
  `properties` text,
  `input_properties` text,
  `output_properties` text,
  `static` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `static_file` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `category` (`category`),
  KEY `locked` (`locked`),
  KEY `rank` (`rank`),
  KEY `static` (`static`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_site_tmplvars` (`id`, `source`, `property_preprocess`, `type`, `name`, `caption`, `description`, `editor_type`, `category`, `locked`, `elements`, `rank`, `display`, `default_text`, `properties`, `input_properties`, `output_properties`, `static`, `static_file`) VALUES
(1,	0,	0,	'text',	'seo.pagetitle',	'Заголовок',	'',	0,	15,	0,	NULL,	0,	'',	NULL,	NULL,	NULL,	NULL,	0,	''),
(2,	0,	0,	'text',	'seo.keywords',	'Ключевые слова',	'',	0,	15,	0,	NULL,	1,	'',	NULL,	NULL,	NULL,	NULL,	0,	''),
(3,	0,	0,	'textarea',	'seo.description',	'Описание',	'',	0,	15,	0,	NULL,	2,	'',	NULL,	NULL,	NULL,	NULL,	0,	''),
(4,	0,	0,	'fastuploadtv',	'image',	'Изображение',	'',	0,	16,	0,	NULL,	0,	'',	NULL,	NULL,	NULL,	NULL,	0,	'');

DROP TABLE IF EXISTS `q777_site_tmplvar_access`;
CREATE TABLE `q777_site_tmplvar_access` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `tmplvarid` int(10) NOT NULL DEFAULT '0',
  `documentgroup` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `tmplvar_template` (`tmplvarid`,`documentgroup`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_site_tmplvar_contentvalues`;
CREATE TABLE `q777_site_tmplvar_contentvalues` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `tmplvarid` int(10) NOT NULL DEFAULT '0',
  `contentid` int(10) NOT NULL DEFAULT '0',
  `value` mediumtext NOT NULL,
  PRIMARY KEY (`id`),
  KEY `tmplvarid` (`tmplvarid`),
  KEY `contentid` (`contentid`),
  KEY `tv_cnt` (`tmplvarid`,`contentid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_site_tmplvar_templates`;
CREATE TABLE `q777_site_tmplvar_templates` (
  `tmplvarid` int(10) NOT NULL DEFAULT '0',
  `templateid` int(11) NOT NULL DEFAULT '0',
  `rank` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`tmplvarid`,`templateid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_system_eventnames`;
CREATE TABLE `q777_system_eventnames` (
  `name` varchar(50) NOT NULL,
  `service` tinyint(4) unsigned NOT NULL DEFAULT '0',
  `groupname` varchar(20) NOT NULL DEFAULT '',
  PRIMARY KEY (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_system_eventnames` (`name`, `service`, `groupname`) VALUES
('OnPluginEventBeforeSave',	1,	'Plugin Events'),
('OnPluginEventSave',	1,	'Plugin Events'),
('OnPluginEventBeforeRemove',	1,	'Plugin Events'),
('OnPluginEventRemove',	1,	'Plugin Events'),
('OnResourceGroupSave',	1,	'Security'),
('OnResourceGroupBeforeSave',	1,	'Security'),
('OnResourceGroupRemove',	1,	'Security'),
('OnResourceGroupBeforeRemove',	1,	'Security'),
('OnSnippetBeforeSave',	1,	'Snippets'),
('OnSnippetSave',	1,	'Snippets'),
('OnSnippetBeforeRemove',	1,	'Snippets'),
('OnSnippetRemove',	1,	'Snippets'),
('OnSnipFormPrerender',	1,	'Snippets'),
('OnSnipFormRender',	1,	'Snippets'),
('OnBeforeSnipFormSave',	1,	'Snippets'),
('OnSnipFormSave',	1,	'Snippets'),
('OnBeforeSnipFormDelete',	1,	'Snippets'),
('OnSnipFormDelete',	1,	'Snippets'),
('OnTemplateBeforeSave',	1,	'Templates'),
('OnTemplateSave',	1,	'Templates'),
('OnTemplateBeforeRemove',	1,	'Templates'),
('OnTemplateRemove',	1,	'Templates'),
('OnTempFormPrerender',	1,	'Templates'),
('OnTempFormRender',	1,	'Templates'),
('OnBeforeTempFormSave',	1,	'Templates'),
('OnTempFormSave',	1,	'Templates'),
('OnBeforeTempFormDelete',	1,	'Templates'),
('OnTempFormDelete',	1,	'Templates'),
('OnTemplateVarBeforeSave',	1,	'Template Variables'),
('OnTemplateVarSave',	1,	'Template Variables'),
('OnTemplateVarBeforeRemove',	1,	'Template Variables'),
('OnTemplateVarRemove',	1,	'Template Variables'),
('OnTVFormPrerender',	1,	'Template Variables'),
('OnTVFormRender',	1,	'Template Variables'),
('OnBeforeTVFormSave',	1,	'Template Variables'),
('OnTVFormSave',	1,	'Template Variables'),
('OnBeforeTVFormDelete',	1,	'Template Variables'),
('OnTVFormDelete',	1,	'Template Variables'),
('OnTVInputRenderList',	1,	'Template Variables'),
('OnTVInputPropertiesList',	1,	'Template Variables'),
('OnTVOutputRenderList',	1,	'Template Variables'),
('OnTVOutputRenderPropertiesList',	1,	'Template Variables'),
('OnUserGroupBeforeSave',	1,	'User Groups'),
('OnUserGroupSave',	1,	'User Groups'),
('OnUserGroupBeforeRemove',	1,	'User Groups'),
('OnUserGroupRemove',	1,	'User Groups'),
('OnBeforeUserGroupFormSave',	1,	'User Groups'),
('OnUserGroupFormSave',	1,	'User Groups'),
('OnBeforeUserGroupFormRemove',	1,	'User Groups'),
('OnDocFormPrerender',	1,	'Resources'),
('OnDocFormRender',	1,	'Resources'),
('OnBeforeDocFormSave',	1,	'Resources'),
('OnDocFormSave',	1,	'Resources'),
('OnBeforeDocFormDelete',	1,	'Resources'),
('OnDocFormDelete',	1,	'Resources'),
('OnDocPublished',	5,	'Resources'),
('OnDocUnPublished',	5,	'Resources'),
('OnBeforeEmptyTrash',	1,	'Resources'),
('OnEmptyTrash',	1,	'Resources'),
('OnResourceTVFormPrerender',	1,	'Resources'),
('OnResourceTVFormRender',	1,	'Resources'),
('OnResourceAutoPublish',	1,	'Resources'),
('OnResourceDelete',	1,	'Resources'),
('OnResourceUndelete',	1,	'Resources'),
('OnResourceBeforeSort',	1,	'Resources'),
('OnResourceSort',	1,	'Resources'),
('OnResourceDuplicate',	1,	'Resources'),
('OnResourceToolbarLoad',	1,	'Resources'),
('OnResourceRemoveFromResourceGroup',	1,	'Resources'),
('OnResourceAddToResourceGroup',	1,	'Resources'),
('OnRichTextEditorRegister',	1,	'RichText Editor'),
('OnRichTextEditorInit',	1,	'RichText Editor'),
('OnRichTextBrowserInit',	1,	'RichText Editor'),
('OnWebLogin',	3,	'Security'),
('OnBeforeWebLogout',	3,	'Security'),
('OnWebLogout',	3,	'Security'),
('OnManagerLogin',	2,	'Security'),
('OnBeforeManagerLogout',	2,	'Security'),
('OnManagerLogout',	2,	'Security'),
('OnBeforeWebLogin',	3,	'Security'),
('OnWebAuthentication',	3,	'Security'),
('OnBeforeManagerLogin',	2,	'Security'),
('OnManagerAuthentication',	2,	'Security'),
('OnManagerLoginFormRender',	2,	'Security'),
('OnManagerLoginFormPrerender',	2,	'Security'),
('OnPageUnauthorized',	1,	'Security'),
('OnUserFormPrerender',	1,	'Users'),
('OnUserFormRender',	1,	'Users'),
('OnBeforeUserFormSave',	1,	'Users'),
('OnUserFormSave',	1,	'Users'),
('OnBeforeUserFormDelete',	1,	'Users'),
('OnUserFormDelete',	1,	'Users'),
('OnUserNotFound',	1,	'Users'),
('OnBeforeUserActivate',	1,	'Users'),
('OnUserActivate',	1,	'Users'),
('OnBeforeUserDeactivate',	1,	'Users'),
('OnUserDeactivate',	1,	'Users'),
('OnBeforeUserDuplicate',	1,	'Users'),
('OnUserDuplicate',	1,	'Users'),
('OnUserChangePassword',	1,	'Users'),
('OnUserBeforeRemove',	1,	'Users'),
('OnUserBeforeSave',	1,	'Users'),
('OnUserSave',	1,	'Users'),
('OnUserRemove',	1,	'Users'),
('OnUserBeforeAddToGroup',	1,	'User Groups'),
('OnUserAddToGroup',	1,	'User Groups'),
('OnUserBeforeRemoveFromGroup',	1,	'User Groups'),
('OnUserRemoveFromGroup',	1,	'User Groups'),
('OnWebPagePrerender',	5,	'System'),
('OnBeforeCacheUpdate',	4,	'System'),
('OnCacheUpdate',	4,	'System'),
('OnLoadWebPageCache',	4,	'System'),
('OnBeforeSaveWebPageCache',	4,	'System'),
('OnSiteRefresh',	1,	'System'),
('OnFileManagerDirCreate',	1,	'System'),
('OnFileManagerDirRemove',	1,	'System'),
('OnFileManagerDirRename',	1,	'System'),
('OnFileManagerFileRename',	1,	'System'),
('OnFileManagerFileRemove',	1,	'System'),
('OnFileManagerFileUpdate',	1,	'System'),
('OnFileManagerFileCreate',	1,	'System'),
('OnFileManagerBeforeUpload',	1,	'System'),
('OnFileManagerUpload',	1,	'System'),
('OnFileManagerMoveObject',	1,	'System'),
('OnFileCreateFormPrerender',	1,	'System'),
('OnFileEditFormPrerender',	1,	'System'),
('OnManagerPageInit',	2,	'System'),
('OnManagerPageBeforeRender',	2,	'System'),
('OnManagerPageAfterRender',	2,	'System'),
('OnWebPageInit',	5,	'System'),
('OnLoadWebDocument',	5,	'System'),
('OnParseDocument',	5,	'System'),
('OnWebPageComplete',	5,	'System'),
('OnBeforeManagerPageInit',	2,	'System'),
('OnPageNotFound',	1,	'System'),
('OnHandleRequest',	5,	'System'),
('OnMODXInit',	5,	'System'),
('OnElementNotFound',	1,	'System'),
('OnSiteSettingsRender',	1,	'Settings'),
('OnInitCulture',	1,	'Internationalization'),
('OnCategorySave',	1,	'Categories'),
('OnCategoryBeforeSave',	1,	'Categories'),
('OnCategoryRemove',	1,	'Categories'),
('OnCategoryBeforeRemove',	1,	'Categories'),
('OnChunkSave',	1,	'Chunks'),
('OnChunkBeforeSave',	1,	'Chunks'),
('OnChunkRemove',	1,	'Chunks'),
('OnChunkBeforeRemove',	1,	'Chunks'),
('OnChunkFormPrerender',	1,	'Chunks'),
('OnChunkFormRender',	1,	'Chunks'),
('OnBeforeChunkFormSave',	1,	'Chunks'),
('OnChunkFormSave',	1,	'Chunks'),
('OnBeforeChunkFormDelete',	1,	'Chunks'),
('OnChunkFormDelete',	1,	'Chunks'),
('OnContextSave',	1,	'Contexts'),
('OnContextBeforeSave',	1,	'Contexts'),
('OnContextRemove',	1,	'Contexts'),
('OnContextBeforeRemove',	1,	'Contexts'),
('OnContextFormPrerender',	2,	'Contexts'),
('OnContextFormRender',	2,	'Contexts'),
('OnPluginSave',	1,	'Plugins'),
('OnPluginBeforeSave',	1,	'Plugins'),
('OnPluginRemove',	1,	'Plugins'),
('OnPluginBeforeRemove',	1,	'Plugins'),
('OnPluginFormPrerender',	1,	'Plugins'),
('OnPluginFormRender',	1,	'Plugins'),
('OnBeforePluginFormSave',	1,	'Plugins'),
('OnPluginFormSave',	1,	'Plugins'),
('OnBeforePluginFormDelete',	1,	'Plugins'),
('OnPluginFormDelete',	1,	'Plugins'),
('OnPropertySetSave',	1,	'Property Sets'),
('OnPropertySetBeforeSave',	1,	'Property Sets'),
('OnPropertySetRemove',	1,	'Property Sets'),
('OnPropertySetBeforeRemove',	1,	'Property Sets'),
('OnMediaSourceBeforeFormDelete',	1,	'Media Sources'),
('OnMediaSourceBeforeFormSave',	1,	'Media Sources'),
('OnMediaSourceGetProperties',	1,	'Media Sources'),
('OnMediaSourceFormDelete',	1,	'Media Sources'),
('OnMediaSourceFormSave',	1,	'Media Sources'),
('OnMediaSourceDuplicate',	1,	'Media Sources'),
('pdoToolsOnFenomInit',	6,	'pdoTools'),
('OnBeforeCommentSave',	6,	'Tickets'),
('OnCommentSave',	6,	'Tickets'),
('OnBeforeCommentPublish',	6,	'Tickets'),
('OnCommentPublish',	6,	'Tickets'),
('OnBeforeCommentUnpublish',	6,	'Tickets'),
('OnCommentUnpublish',	6,	'Tickets'),
('OnBeforeCommentDelete',	6,	'Tickets'),
('OnCommentDelete',	6,	'Tickets'),
('OnBeforeCommentUndelete',	6,	'Tickets'),
('OnCommentUndelete',	6,	'Tickets'),
('OnBeforeCommentRemove',	6,	'Tickets'),
('OnCommentRemove',	6,	'Tickets'),
('OnBeforeTicketThreadClose',	6,	'Tickets'),
('OnTicketThreadClose',	6,	'Tickets'),
('OnBeforeTicketThreadOpen',	6,	'Tickets'),
('OnTicketThreadOpen',	6,	'Tickets'),
('OnBeforeTicketThreadDelete',	6,	'Tickets'),
('OnTicketThreadDelete',	6,	'Tickets'),
('OnBeforeTicketThreadUndelete',	6,	'Tickets'),
('OnTicketThreadUndelete',	6,	'Tickets'),
('OnBeforeTicketThreadRemove',	6,	'Tickets'),
('OnTicketThreadRemove',	6,	'Tickets'),
('OnBeforeTicketVote',	6,	'Tickets'),
('OnTicketVote',	6,	'Tickets'),
('OnBeforeCommentVote',	6,	'Tickets'),
('OnCommentVote',	6,	'Tickets'),
('OnBeforeTicketStar',	6,	'Tickets'),
('OnTicketStar',	6,	'Tickets'),
('OnBeforeTicketUnStar',	6,	'Tickets'),
('OnTicketUnStar',	6,	'Tickets'),
('OnBeforeCommentStar',	6,	'Tickets'),
('OnCommentStar',	6,	'Tickets'),
('OnBeforeCommentUnStar',	6,	'Tickets'),
('OnCommentUnStar',	6,	'Tickets');

DROP TABLE IF EXISTS `q777_system_settings`;
CREATE TABLE `q777_system_settings` (
  `key` varchar(50) NOT NULL DEFAULT '',
  `value` text NOT NULL,
  `xtype` varchar(75) NOT NULL DEFAULT 'textfield',
  `namespace` varchar(40) NOT NULL DEFAULT 'core',
  `area` varchar(255) NOT NULL DEFAULT '',
  `editedon` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_system_settings` (`key`, `value`, `xtype`, `namespace`, `area`, `editedon`) VALUES
('access_category_enabled',	'1',	'combo-boolean',	'core',	'authentication',	NULL),
('access_context_enabled',	'1',	'combo-boolean',	'core',	'authentication',	NULL),
('access_resource_group_enabled',	'1',	'combo-boolean',	'core',	'authentication',	NULL),
('allow_forward_across_contexts',	'',	'combo-boolean',	'core',	'system',	NULL),
('allow_manager_login_forgot_password',	'1',	'combo-boolean',	'core',	'authentication',	NULL),
('allow_multiple_emails',	'1',	'combo-boolean',	'core',	'authentication',	NULL),
('allow_tags_in_post',	'',	'combo-boolean',	'core',	'system',	NULL),
('archive_with',	'',	'combo-boolean',	'core',	'system',	NULL),
('auto_menuindex',	'1',	'combo-boolean',	'core',	'site',	NULL),
('auto_check_pkg_updates',	'1',	'combo-boolean',	'core',	'system',	NULL),
('auto_check_pkg_updates_cache_expire',	'15',	'textfield',	'core',	'system',	NULL),
('automatic_alias',	'1',	'combo-boolean',	'core',	'furls',	NULL),
('base_help_url',	'//docs.modx.com/display/revolution20/',	'textfield',	'core',	'manager',	NULL),
('blocked_minutes',	'60',	'textfield',	'core',	'authentication',	NULL),
('cache_action_map',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_alias_map',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_context_settings',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_db',	'0',	'combo-boolean',	'core',	'caching',	NULL),
('cache_db_expires',	'0',	'textfield',	'core',	'caching',	NULL),
('cache_db_session',	'0',	'combo-boolean',	'core',	'caching',	NULL),
('cache_db_session_lifetime',	'',	'textfield',	'core',	'caching',	NULL),
('cache_default',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_disabled',	'0',	'combo-boolean',	'core',	'caching',	NULL),
('cache_expires',	'0',	'textfield',	'core',	'caching',	NULL),
('cache_format',	'0',	'textfield',	'core',	'caching',	NULL),
('cache_handler',	'xPDOFileCache',	'textfield',	'core',	'caching',	NULL),
('cache_lang_js',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_lexicon_topics',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_noncore_lexicon_topics',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_resource',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_resource_expires',	'0',	'textfield',	'core',	'caching',	NULL),
('cache_scripts',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('cache_system_settings',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('clear_cache_refresh_trees',	'0',	'combo-boolean',	'core',	'caching',	NULL),
('compress_css',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('compress_js',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('compress_js_max_files',	'10',	'textfield',	'core',	'manager',	NULL),
('confirm_navigation',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('container_suffix',	'',	'textfield',	'core',	'furls',	'2017-09-03 14:34:08'),
('context_tree_sort',	'',	'combo-boolean',	'core',	'manager',	NULL),
('context_tree_sortby',	'rank',	'textfield',	'core',	'manager',	NULL),
('context_tree_sortdir',	'ASC',	'textfield',	'core',	'manager',	NULL),
('cultureKey',	'ru',	'modx-combo-language',	'core',	'language',	'2017-08-29 12:07:16'),
('date_timezone',	'',	'textfield',	'core',	'system',	NULL),
('debug',	'',	'textfield',	'core',	'system',	NULL),
('default_duplicate_publish_option',	'preserve',	'textfield',	'core',	'manager',	NULL),
('default_media_source',	'1',	'modx-combo-source',	'core',	'manager',	NULL),
('default_per_page',	'20',	'textfield',	'core',	'manager',	NULL),
('default_context',	'web',	'modx-combo-context',	'core',	'site',	NULL),
('default_template',	'1',	'modx-combo-template',	'core',	'site',	NULL),
('default_content_type',	'1',	'modx-combo-content-type',	'core',	'site',	NULL),
('editor_css_path',	'',	'textfield',	'core',	'editor',	NULL),
('editor_css_selectors',	'',	'textfield',	'core',	'editor',	NULL),
('emailsender',	'kundius.ruslan@gmail.com',	'textfield',	'core',	'authentication',	'2017-08-29 12:07:16'),
('emailsubject',	'Your login details',	'textfield',	'core',	'authentication',	NULL),
('enable_dragdrop',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('error_page',	'1',	'textfield',	'core',	'site',	NULL),
('failed_login_attempts',	'5',	'textfield',	'core',	'authentication',	NULL),
('fe_editor_lang',	'en',	'modx-combo-language',	'core',	'language',	NULL),
('feed_modx_news',	'http://feeds.feedburner.com/modx-announce',	'textfield',	'core',	'system',	NULL),
('feed_modx_news_enabled',	'1',	'combo-boolean',	'core',	'system',	NULL),
('feed_modx_security',	'http://forums.modx.com/board.xml?board=294',	'textfield',	'core',	'system',	NULL),
('feed_modx_security_enabled',	'1',	'combo-boolean',	'core',	'system',	NULL),
('filemanager_path',	'',	'textfield',	'core',	'file',	NULL),
('filemanager_path_relative',	'1',	'combo-boolean',	'core',	'file',	NULL),
('filemanager_url',	'',	'textfield',	'core',	'file',	NULL),
('filemanager_url_relative',	'1',	'combo-boolean',	'core',	'file',	NULL),
('forgot_login_email',	'<p>Hello [[+username]],</p>\n<p>A request for a password reset has been issued for your MODX user. If you sent this, you may follow this link and use this password to login. If you did not send this request, please ignore this email.</p>\n\n<p>\n    <strong>Activation Link:</strong> [[+url_scheme]][[+http_host]][[+manager_url]]?modahsh=[[+hash]]<br />\n    <strong>Username:</strong> [[+username]]<br />\n    <strong>Password:</strong> [[+password]]<br />\n</p>\n\n<p>After you log into the MODX Manager, you can change your password again, if you wish.</p>\n\n<p>Regards,<br />Site Administrator</p>',	'textarea',	'core',	'authentication',	NULL),
('form_customization_use_all_groups',	'',	'combo-boolean',	'core',	'manager',	NULL),
('forward_merge_excludes',	'type,published,class_key',	'textfield',	'core',	'system',	NULL),
('friendly_alias_lowercase_only',	'1',	'combo-boolean',	'core',	'furls',	NULL),
('friendly_alias_max_length',	'0',	'textfield',	'core',	'furls',	NULL),
('friendly_alias_realtime',	'0',	'combo-boolean',	'core',	'furls',	NULL),
('friendly_alias_restrict_chars',	'pattern',	'textfield',	'core',	'furls',	NULL),
('friendly_alias_restrict_chars_pattern',	'/[\\0\\x0B\\t\\n\\r\\f\\a&=+%#<>\"~:`@\\?\\[\\]\\{\\}\\|\\^\'\\\\]/',	'textfield',	'core',	'furls',	NULL),
('friendly_alias_strip_element_tags',	'1',	'combo-boolean',	'core',	'furls',	NULL),
('friendly_alias_translit',	'russian',	'textfield',	'core',	'furls',	'2017-09-03 14:34:08'),
('friendly_alias_translit_class',	'modx.ytranslit.modTransliterate',	'textfield',	'core',	'furls',	'2017-09-03 14:28:09'),
('friendly_alias_translit_class_path',	'{core_path}components/ytranslit/model/',	'textfield',	'core',	'furls',	'2017-09-03 14:28:09'),
('friendly_alias_trim_chars',	'/.-_',	'textfield',	'core',	'furls',	NULL),
('friendly_alias_word_delimiter',	'-',	'textfield',	'core',	'furls',	NULL),
('friendly_alias_word_delimiters',	'-_',	'textfield',	'core',	'furls',	NULL),
('friendly_urls',	'1',	'combo-boolean',	'core',	'furls',	'2017-09-03 14:34:08'),
('friendly_urls_strict',	'1',	'combo-boolean',	'core',	'furls',	'2017-09-03 14:34:08'),
('use_frozen_parent_uris',	'0',	'combo-boolean',	'core',	'furls',	NULL),
('global_duplicate_uri_check',	'0',	'combo-boolean',	'core',	'furls',	NULL),
('hidemenu_default',	'0',	'combo-boolean',	'core',	'site',	NULL),
('inline_help',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('locale',	'',	'textfield',	'core',	'language',	NULL),
('log_level',	'1',	'textfield',	'core',	'system',	NULL),
('log_target',	'FILE',	'textfield',	'core',	'system',	NULL),
('link_tag_scheme',	'-1',	'textfield',	'core',	'site',	NULL),
('lock_ttl',	'360',	'textfield',	'core',	'system',	NULL),
('mail_charset',	'UTF-8',	'modx-combo-charset',	'core',	'mail',	NULL),
('mail_encoding',	'8bit',	'textfield',	'core',	'mail',	NULL),
('mail_use_smtp',	'',	'combo-boolean',	'core',	'mail',	NULL),
('mail_smtp_auth',	'',	'combo-boolean',	'core',	'mail',	NULL),
('mail_smtp_helo',	'',	'textfield',	'core',	'mail',	NULL),
('mail_smtp_hosts',	'localhost',	'textfield',	'core',	'mail',	NULL),
('mail_smtp_keepalive',	'',	'combo-boolean',	'core',	'mail',	NULL),
('mail_smtp_pass',	'',	'text-password',	'core',	'mail',	NULL),
('mail_smtp_port',	'587',	'textfield',	'core',	'mail',	NULL),
('mail_smtp_prefix',	'',	'textfield',	'core',	'mail',	NULL),
('mail_smtp_single_to',	'',	'combo-boolean',	'core',	'mail',	NULL),
('mail_smtp_timeout',	'10',	'textfield',	'core',	'mail',	NULL),
('mail_smtp_user',	'',	'textfield',	'core',	'mail',	NULL),
('manager_date_format',	'Y-m-d',	'textfield',	'core',	'manager',	NULL),
('manager_favicon_url',	'',	'textfield',	'core',	'manager',	NULL),
('manager_js_cache_file_locking',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('manager_js_cache_max_age',	'3600',	'textfield',	'core',	'manager',	NULL),
('manager_js_document_root',	'',	'textfield',	'core',	'manager',	NULL),
('manager_js_zlib_output_compression',	'0',	'combo-boolean',	'core',	'manager',	NULL),
('manager_time_format',	'g:i a',	'textfield',	'core',	'manager',	NULL),
('manager_direction',	'ltr',	'textfield',	'core',	'language',	NULL),
('manager_lang_attribute',	'ru',	'textfield',	'core',	'language',	'2017-08-29 12:07:16'),
('manager_language',	'ru',	'modx-combo-language',	'core',	'language',	'2017-08-29 12:07:16'),
('manager_login_url_alternate',	'',	'textfield',	'core',	'authentication',	NULL),
('manager_theme',	'default',	'modx-combo-manager-theme',	'core',	'manager',	NULL),
('manager_week_start',	'0',	'textfield',	'core',	'manager',	NULL),
('modx_browser_tree_hide_files',	'',	'combo-boolean',	'core',	'manager',	NULL),
('modx_browser_tree_hide_tooltips',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('modx_browser_default_sort',	'name',	'textfield',	'core',	'manager',	NULL),
('modx_browser_default_viewmode',	'grid',	'textfield',	'core',	'manager',	NULL),
('modx_charset',	'UTF-8',	'modx-combo-charset',	'core',	'language',	NULL),
('principal_targets',	'modAccessContext,modAccessResourceGroup,modAccessCategory,sources.modAccessMediaSource,modAccessNamespace',	'textfield',	'core',	'authentication',	NULL),
('proxy_auth_type',	'BASIC',	'textfield',	'core',	'proxy',	NULL),
('proxy_host',	'',	'textfield',	'core',	'proxy',	NULL),
('proxy_password',	'',	'text-password',	'core',	'proxy',	NULL),
('proxy_port',	'',	'textfield',	'core',	'proxy',	NULL),
('proxy_username',	'',	'textfield',	'core',	'proxy',	NULL),
('password_generated_length',	'8',	'textfield',	'core',	'authentication',	NULL),
('password_min_length',	'8',	'textfield',	'core',	'authentication',	NULL),
('phpthumb_allow_src_above_docroot',	'',	'combo-boolean',	'core',	'phpthumb',	NULL),
('phpthumb_cache_maxage',	'30',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_cache_maxsize',	'100',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_cache_maxfiles',	'10000',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_cache_source_enabled',	'',	'combo-boolean',	'core',	'phpthumb',	NULL),
('phpthumb_document_root',	'',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_error_bgcolor',	'CCCCFF',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_error_textcolor',	'FF0000',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_error_fontsize',	'1',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_far',	'C',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_imagemagick_path',	'',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_nohotlink_enabled',	'1',	'combo-boolean',	'core',	'phpthumb',	NULL),
('phpthumb_nohotlink_erase_image',	'1',	'combo-boolean',	'core',	'phpthumb',	NULL),
('phpthumb_nohotlink_valid_domains',	'{http_host}',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_nohotlink_text_message',	'Off-server thumbnailing is not allowed',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_nooffsitelink_enabled',	'',	'combo-boolean',	'core',	'phpthumb',	NULL),
('phpthumb_nooffsitelink_erase_image',	'1',	'combo-boolean',	'core',	'phpthumb',	NULL),
('phpthumb_nooffsitelink_require_refer',	'',	'combo-boolean',	'core',	'phpthumb',	NULL),
('phpthumb_nooffsitelink_text_message',	'Off-server linking is not allowed',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_nooffsitelink_valid_domains',	'{http_host}',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_nooffsitelink_watermark_src',	'',	'textfield',	'core',	'phpthumb',	NULL),
('phpthumb_zoomcrop',	'0',	'textfield',	'core',	'phpthumb',	NULL),
('publish_default',	'',	'combo-boolean',	'core',	'site',	NULL),
('rb_base_dir',	'',	'textfield',	'core',	'file',	NULL),
('rb_base_url',	'',	'textfield',	'core',	'file',	NULL),
('request_controller',	'index.php',	'textfield',	'core',	'gateway',	NULL),
('request_method_strict',	'0',	'combo-boolean',	'core',	'gateway',	NULL),
('request_param_alias',	'q',	'textfield',	'core',	'gateway',	NULL),
('request_param_id',	'id',	'textfield',	'core',	'gateway',	NULL),
('resolve_hostnames',	'0',	'combo-boolean',	'core',	'system',	NULL),
('resource_tree_node_name',	'pagetitle',	'textfield',	'core',	'manager',	NULL),
('resource_tree_node_name_fallback',	'pagetitle',	'textfield',	'core',	'manager',	NULL),
('resource_tree_node_tooltip',	'',	'textfield',	'core',	'manager',	NULL),
('richtext_default',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('search_default',	'1',	'combo-boolean',	'core',	'site',	NULL),
('server_offset_time',	'0',	'textfield',	'core',	'system',	NULL),
('server_protocol',	'http',	'textfield',	'core',	'system',	NULL),
('session_cookie_domain',	'',	'textfield',	'core',	'session',	NULL),
('default_username',	'(anonymous)',	'textfield',	'core',	'session',	NULL),
('anonymous_sessions',	'1',	'combo-boolean',	'core',	'session',	NULL),
('session_cookie_lifetime',	'604800',	'textfield',	'core',	'session',	NULL),
('session_cookie_path',	'',	'textfield',	'core',	'session',	NULL),
('session_cookie_secure',	'',	'combo-boolean',	'core',	'session',	NULL),
('session_cookie_httponly',	'1',	'combo-boolean',	'core',	'session',	NULL),
('session_gc_maxlifetime',	'604800',	'textfield',	'core',	'session',	NULL),
('session_handler_class',	'modSessionHandler',	'textfield',	'core',	'session',	NULL),
('session_name',	'',	'textfield',	'core',	'session',	NULL),
('set_header',	'1',	'combo-boolean',	'core',	'system',	NULL),
('send_poweredby_header',	'1',	'combo-boolean',	'core',	'system',	'2017-08-29 12:07:16'),
('show_tv_categories_header',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('signupemail_message',	'<p>Hello [[+uid]],</p>\n    <p>Here are your login details for the [[+sname]] MODX Manager:</p>\n\n    <p>\n        <strong>Username:</strong> [[+uid]]<br />\n        <strong>Password:</strong> [[+pwd]]<br />\n    </p>\n\n    <p>Once you log into the MODX Manager at [[+surl]], you can change your password.</p>\n\n    <p>Regards,<br />Site Administrator</p>',	'textarea',	'core',	'authentication',	NULL),
('site_name',	'MODX Revolution',	'textfield',	'core',	'site',	NULL),
('site_start',	'1',	'textfield',	'core',	'site',	NULL),
('site_status',	'1',	'combo-boolean',	'core',	'site',	NULL),
('site_unavailable_message',	'The site is currently unavailable',	'textfield',	'core',	'site',	NULL),
('site_unavailable_page',	'0',	'textfield',	'core',	'site',	NULL),
('strip_image_paths',	'1',	'combo-boolean',	'core',	'file',	NULL),
('symlink_merge_fields',	'1',	'combo-boolean',	'core',	'site',	NULL),
('syncsite_default',	'1',	'combo-boolean',	'core',	'caching',	NULL),
('topmenu_show_descriptions',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('tree_default_sort',	'menuindex',	'textfield',	'core',	'manager',	NULL),
('tree_root_id',	'0',	'numberfield',	'core',	'manager',	NULL),
('tvs_below_content',	'0',	'combo-boolean',	'core',	'manager',	NULL),
('udperms_allowroot',	'',	'combo-boolean',	'core',	'authentication',	NULL),
('unauthorized_page',	'1',	'textfield',	'core',	'site',	NULL),
('upload_files',	'txt,html,htm,xml,js,css,zip,gz,rar,z,tgz,tar,mp3,mp4,aac,wav,au,wmv,avi,mpg,mpeg,pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,tiff,svg,svgz,gif,psd,ico,bmp,odt,ods,odp,odb,odg,odf,md,ttf,woff,eot',	'textfield',	'core',	'file',	NULL),
('upload_flash',	'swf,fla',	'textfield',	'core',	'file',	NULL),
('upload_images',	'jpg,jpeg,png,gif,psd,ico,bmp,tiff,svg,svgz',	'textfield',	'core',	'file',	NULL),
('upload_maxsize',	'2097152',	'textfield',	'core',	'file',	'2017-08-29 12:07:16'),
('upload_media',	'mp3,wav,au,wmv,avi,mpg,mpeg',	'textfield',	'core',	'file',	NULL),
('use_alias_path',	'1',	'combo-boolean',	'core',	'furls',	'2017-09-03 14:34:08'),
('use_browser',	'1',	'combo-boolean',	'core',	'file',	NULL),
('use_editor',	'1',	'combo-boolean',	'core',	'editor',	NULL),
('use_multibyte',	'1',	'combo-boolean',	'core',	'language',	'2017-08-29 12:07:16'),
('use_weblink_target',	'',	'combo-boolean',	'core',	'site',	NULL),
('webpwdreminder_message',	'<p>Hello [[+uid]],</p>\n\n    <p>To activate your new password click the following link:</p>\n\n    <p>[[+surl]]</p>\n\n    <p>If successful you can use the following password to login:</p>\n\n    <p><strong>Password:</strong> [[+pwd]]</p>\n\n    <p>If you did not request this email then please ignore it.</p>\n\n    <p>Regards,<br />\n    Site Administrator</p>',	'textarea',	'core',	'authentication',	NULL),
('websignupemail_message',	'<p>Hello [[+uid]],</p>\n\n    <p>Here are your login details for [[+sname]]:</p>\n\n    <p><strong>Username:</strong> [[+uid]]<br />\n    <strong>Password:</strong> [[+pwd]]</p>\n\n    <p>Once you log into [[+sname]] at [[+surl]], you can change your password.</p>\n\n    <p>Regards,<br />\n    Site Administrator</p>',	'textarea',	'core',	'authentication',	NULL),
('welcome_screen',	'',	'combo-boolean',	'core',	'manager',	'2017-08-29 12:24:47'),
('welcome_screen_url',	'//misc.modx.com/revolution/welcome.25.html ',	'textfield',	'core',	'manager',	NULL),
('welcome_action',	'welcome',	'textfield',	'core',	'manager',	NULL),
('welcome_namespace',	'core',	'textfield',	'core',	'manager',	NULL),
('which_editor',	'TinyMCE RTE',	'modx-combo-rte',	'core',	'editor',	'2017-09-03 14:33:32'),
('which_element_editor',	'Ace',	'modx-combo-rte',	'core',	'editor',	'2017-09-03 14:33:24'),
('xhtml_urls',	'1',	'combo-boolean',	'core',	'site',	NULL),
('enable_gravatar',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('mgr_tree_icon_context',	'tree-context',	'textfield',	'core',	'manager',	NULL),
('mgr_source_icon',	'icon-folder-open-o',	'textfield',	'core',	'manager',	NULL),
('main_nav_parent',	'topnav',	'textfield',	'core',	'manager',	NULL),
('user_nav_parent',	'usernav',	'textfield',	'core',	'manager',	NULL),
('auto_isfolder',	'1',	'combo-boolean',	'core',	'site',	NULL),
('manager_use_fullname',	'',	'combo-boolean',	'core',	'manager',	NULL),
('parser_recurse_uncacheable',	'1',	'combo-boolean',	'core',	'system',	NULL),
('preserve_menuindex',	'1',	'combo-boolean',	'core',	'manager',	NULL),
('settings_version',	'2.5.7-pl',	'textfield',	'core',	'system',	NULL),
('settings_distro',	'traditional',	'textfield',	'core',	'system',	NULL),
('pdoTools.class',	'pdotools.pdotools',	'textfield',	'pdotools',	'pdotools_main',	NULL),
('pdoFetch.class',	'pdotools.pdofetch',	'textfield',	'pdotools',	'pdotools_main',	NULL),
('pdotools_class_path',	'{core_path}components/pdotools/model/',	'textfield',	'pdotools',	'pdotools_main',	NULL),
('pdofetch_class_path',	'{core_path}components/pdotools/model/',	'textfield',	'pdotools',	'pdotools_main',	NULL),
('pdotools_fenom_default',	'1',	'combo-boolean',	'pdotools',	'pdotools_main',	NULL),
('pdotools_fenom_parser',	'1',	'combo-boolean',	'pdotools',	'pdotools_main',	'2017-09-03 14:34:08'),
('pdotools_fenom_php',	'',	'combo-boolean',	'pdotools',	'pdotools_main',	NULL),
('pdotools_fenom_modx',	'',	'combo-boolean',	'pdotools',	'pdotools_main',	NULL),
('pdotools_fenom_options',	'',	'textarea',	'pdotools',	'pdotools_main',	NULL),
('pdotools_fenom_cache',	'',	'combo-boolean',	'pdotools',	'pdotools_main',	NULL),
('parser_class',	'pdoParser',	'textfield',	'pdotools',	'pdotools_main',	NULL),
('pdotools_elements_path',	'{core_path}elements/',	'textfield',	'pdotools',	'pdotools_main',	NULL),
('parser_class_path',	'{core_path}components/pdotools/model/pdotools/',	'textfield',	'pdotools',	'pdotools_main',	NULL),
('friendly_alias_ytranslit_url',	'https://translate.yandex.net/api/v1.5/tr.json/translate?key=[[+key]]&lang=ru-en&text=',	'textfield',	'ytranslit',	'',	NULL),
('friendly_alias_ytranslit_timeout',	'1',	'numberfield',	'ytranslit',	'',	NULL),
('friendly_alias_ytranslit_exclude',	'/^[_-a-zA-z\\d\\s\\:\\(\\)]+$/i',	'textfield',	'ytranslit',	'',	NULL),
('friendly_alias_ytranslit_key',	'trnsl.1.1.20170830T133514Z.3250b30ed2030846.026c1e05cf19d2d3c049b6c35918c682cbbab7ad',	'textfield',	'ytranslit',	'',	'2017-09-03 14:34:08'),
('mgr_tree_icon_ticketssection',	'icon icon-comments-o',	'textfield',	'tickets',	'tickets.main',	NULL),
('mgr_tree_icon_ticket',	'icon icon-comment-o',	'textfield',	'tickets',	'tickets.main',	NULL),
('tickets.date_format',	'%d.%m.%y <small>%H:%M</small>',	'textfield',	'tickets',	'tickets.main',	NULL),
('tickets.enable_editor',	'1',	'combo-boolean',	'tickets',	'tickets.main',	NULL),
('tickets.frontend_css',	'[[+cssUrl]]web/default.css',	'textfield',	'tickets',	'tickets.main',	NULL),
('tickets.frontend_js',	'[[+jsUrl]]web/default.js',	'textfield',	'tickets',	'tickets.main',	NULL),
('tickets.editor_config.ticket',	'{onTab: {keepDefault:false, replaceWith:\"	\"},\n        markupSet: [\n            {name:\"Bold\", className: \"btn-bold\", key:\"B\", openWith:\"<b>\", closeWith:\"</b>\" },\n            {name:\"Italic\", className: \"btn-italic\", key:\"I\", openWith:\"<i>\", closeWith:\"</i>\"  },\n            {name:\"Underline\", className: \"btn-underline\", key:\"U\", openWith:\"<u>\", closeWith:\"</u>\" },\n            {name:\"Stroke through\", className: \"btn-stroke\", key:\"S\", openWith:\"<s>\", closeWith:\"</s>\" },\n            {separator:\"---------------\" },\n            {name:\"Bulleted List\", className: \"btn-bulleted\", openWith:\"	<li>\", closeWith:\"</li>\", multiline:true, openBlockWith:\"<ul>\\n\", closeBlockWith:\"\\n</ul>\"},\n            {name:\"Numeric List\", className: \"btn-numeric\", openWith:\"	<li>\", closeWith:\"</li>\", multiline:true, openBlockWith:\"<ol>\\n\", closeBlockWith:\"\\n</ol>\"},\n            {separator:\"---------------\" },\n            {name:\"Quote\", className: \"btn-quote\", openWith:\"<blockquote>\", closeWith:\"</blockquote>\"},\n            {name:\"Code\", className: \"btn-code\", openWith:\"<code>\", closeWith:\"</code>\"},\n            {name:\"Link\", className: \"btn-link\", openWith:\"<a href=\\\"[![Link:!:http://]!]\\\">\", closeWith:\"</a>\" },\n            {name:\"Picture\", className: \"btn-picture\", replaceWith:\"<img src=\\\"[![Source:!:http://]!]\\\" />\" },\n            {separator:\"---------------\" },\n            {name:\"Cut\", className: \"btn-cut\", openWith:\"<cut/>\" }\n        ]}',	'textarea',	'tickets',	'tickets.ticket',	NULL),
('tickets.editor_config.comment',	'{onTab: {keepDefault:false, replaceWith:\"	\"},\n        markupSet: [\n            {name:\"Bold\", className: \"btn-bold\", key:\"B\", openWith:\"<b>\", closeWith:\"</b>\" },\n            {name:\"Italic\", className: \"btn-italic\", key:\"I\", openWith:\"<i>\", closeWith:\"</i>\"  },\n            {name:\"Underline\", className: \"btn-underline\", key:\"U\", openWith:\"<u>\", closeWith:\"</u>\" },\n            {name:\"Stroke through\", className: \"btn-stroke\", key:\"S\", openWith:\"<s>\", closeWith:\"</s>\" },\n            {separator:\"---------------\" },\n            {name:\"Quote\", className: \"btn-quote\", openWith:\"<blockquote>\", closeWith:\"</blockquote>\"},\n            {name:\"Code\", className: \"btn-code\", openWith:\"<code>\", closeWith:\"</code>\"},\n            {name:\"Link\", className: \"btn-link\", openWith:\"<a href=\\\"[![Link:!:http://]!]\\\">\", closeWith:\"</a>\" },\n            {name:\"Picture\", className: \"btn-picture\", replaceWith:\"<img src=\\\"[![Source:!:http://]!]\\\" />\" }\n        ]}',	'textarea',	'tickets',	'tickets.comment',	NULL),
('tickets.default_template',	'',	'modx-combo-template',	'tickets',	'tickets.ticket',	NULL),
('tickets.snippet_prepare_comment',	'',	'textfield',	'tickets',	'tickets.comment',	NULL),
('tickets.comment_edit_time',	'600',	'numberfield',	'tickets',	'tickets.comment',	NULL),
('tickets.clear_cache_on_comment_save',	'',	'combo-boolean',	'tickets',	'tickets.comment',	NULL),
('tickets.private_ticket_page',	'0',	'numberfield',	'tickets',	'tickets.ticket',	NULL),
('tickets.unpublished_ticket_page',	'0',	'numberfield',	'tickets',	'tickets.ticket',	NULL),
('tickets.ticket_max_cut',	'1000',	'numberfield',	'tickets',	'tickets.ticket',	NULL),
('tickets.mail_from',	'',	'textfield',	'tickets',	'tickets.mail',	NULL),
('tickets.mail_from_name',	'',	'textfield',	'tickets',	'tickets.mail',	NULL),
('tickets.mail_queue',	'',	'combo-boolean',	'tickets',	'tickets.mail',	NULL),
('tickets.mail_bcc',	'',	'textfield',	'tickets',	'tickets.mail',	NULL),
('tickets.mail_bcc_level',	'1',	'numberfield',	'tickets',	'tickets.mail',	NULL),
('tickets.section_content_default',	'',	'textarea',	'tickets',	'tickets.section',	NULL),
('tickets.source_default',	'2',	'modx-combo-source',	'tickets',	'tickets.main',	'2017-09-03 14:33:13'),
('tickets.count_guests',	'',	'combo-boolean',	'tickets',	'tickets.ticket',	NULL),
('extension_packages',	'[{\"tickets\":{\"path\":\"[[++core_path]]components/tickets/model/\"}}]',	'textfield',	'core',	'system',	NULL),
('formit.recaptcha_public_key',	'',	'textfield',	'formit',	'recaptcha',	NULL),
('formit.recaptcha_private_key',	'',	'textfield',	'formit',	'recaptcha',	NULL),
('formit.recaptcha_use_ssl',	'0',	'combo-boolean',	'formit',	'recaptcha',	NULL),
('formit.exclude_contexts',	'mgr',	'combo-boolean',	'formit',	'system',	NULL),
('formit.form_encryptkey',	'modx59a558f2110b05.78753587',	'textfield',	'formit',	'system',	'2017-09-03 14:33:18'),
('ace.theme',	'twilight',	'textfield',	'ace',	'general',	'2017-09-03 14:34:08'),
('ace.font_size',	'13px',	'textfield',	'ace',	'general',	NULL),
('ace.word_wrap',	'',	'combo-boolean',	'ace',	'general',	NULL),
('ace.soft_tabs',	'1',	'combo-boolean',	'ace',	'general',	NULL),
('ace.tab_size',	'4',	'textfield',	'ace',	'general',	NULL),
('ace.fold_widgets',	'1',	'combo-boolean',	'ace',	'general',	NULL),
('ace.show_invisibles',	'0',	'combo-boolean',	'ace',	'general',	NULL),
('ace.snippets',	'',	'textarea',	'ace',	'general',	NULL),
('ace.height',	'',	'textfield',	'ace',	'general',	NULL),
('tinymcerte.plugins',	'advlist autolink lists modximage charmap print preview anchor visualblocks searchreplace code fullscreen insertdatetime media table contextmenu paste modxlink',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.toolbar1',	'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',	'textfield',	'tinymcerte',	'tinymcerte.toolbar',	NULL),
('tinymcerte.toolbar2',	'',	'textfield',	'tinymcerte',	'tinymcerte.toolbar',	NULL),
('tinymcerte.toolbar3',	'',	'textfield',	'tinymcerte',	'tinymcerte.toolbar',	NULL),
('tinymcerte.menubar',	'file edit insert view format table tools',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.statusbar',	'1',	'combo-boolean',	'tinymcerte',	'default',	NULL),
('tinymcerte.image_advtab',	'1',	'combo-boolean',	'tinymcerte',	'default',	NULL),
('tinymcerte.object_resizing',	'1',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.style_formats',	'[{\"title\": \"Headers\", \"items\": \"headers_format\"},{\"title\": \"Inline\", \"items\": \"inline_format\"},{\"title\": \"Blocks\", \"items\": \"blocks_format\"},{\"title\": \"Alignment\", \"items\": \"alignment_format\"}]',	'textarea',	'tinymcerte',	'tinymcerte.style_formats',	NULL),
('tinymcerte.headers_format',	'[{\"title\": \"Header 1\", \"format\": \"h1\"},{\"title\": \"Header 2\", \"format\": \"h2\"},{\"title\": \"Header 3\", \"format\": \"h3\"},{\"title\": \"Header 4\", \"format\": \"h4\"},{\"title\": \"Header 5\", \"format\": \"h5\"},{\"title\": \"Header 6\", \"format\": \"h6\"}]',	'textarea',	'tinymcerte',	'tinymcerte.style_formats',	NULL),
('tinymcerte.inline_format',	'[{\"title\": \"Bold\", \"icon\": \"bold\", \"format\": \"bold\"},{\"title\": \"Italic\", \"icon\": \"italic\", \"format\": \"italic\"},{\"title\": \"Underline\", \"icon\": \"underline\", \"format\": \"underline\"},{\"title\": \"Strikethrough\", \"icon\": \"strikethrough\", \"format\": \"strikethrough\"},{\"title\": \"Superscript\", \"icon\": \"superscript\", \"format\": \"superscript\"},{\"title\": \"Subscript\", \"icon\": \"subscript\", \"format\": \"subscript\"},{\"title\": \"Code\", \"icon\": \"code\", \"format\": \"code\"}]',	'textarea',	'tinymcerte',	'tinymcerte.style_formats',	NULL),
('tinymcerte.blocks_format',	'[{\"title\": \"Paragraph\", \"format\": \"p\"},{\"title\": \"Blockquote\", \"format\": \"blockquote\"},{\"title\": \"Div\", \"format\": \"div\"},{\"title\": \"Pre\", \"format\": \"pre\"}]',	'textarea',	'tinymcerte',	'tinymcerte.style_formats',	NULL),
('tinymcerte.alignment_format',	'[{\"title\": \"Left\", \"icon\": \"alignleft\", \"format\": \"alignleft\"},{\"title\": \"Center\", \"icon\": \"aligncenter\", \"format\": \"aligncenter\"},{\"title\": \"Right\", \"icon\": \"alignright\", \"format\": \"alignright\"},{\"title\": \"Justify\", \"icon\": \"alignjustify\", \"format\": \"alignjustify\"}]',	'textarea',	'tinymcerte',	'tinymcerte.style_formats',	NULL),
('tinymcerte.paste_as_text',	'',	'combo-boolean',	'tinymcerte',	'default',	NULL),
('tinymcerte.style_formats_merge',	'',	'combo-boolean',	'tinymcerte',	'tinymcerte.style_formats',	NULL),
('tinymcerte.link_class_list',	'',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.browser_spellcheck',	'',	'combo-boolean',	'tinymcerte',	'default',	NULL),
('tinymcerte.content_css',	'',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.image_class_list',	'',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.external_config',	'',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.skin',	'modx',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.relative_urls',	'1',	'combo-boolean',	'tinymcerte',	'default',	NULL),
('tinymcerte.remove_script_host',	'1',	'combo-boolean',	'tinymcerte',	'default',	NULL),
('tinymcerte.valid_elements',	'',	'textfield',	'tinymcerte',	'default',	NULL),
('tinymcerte.links_across_contexts',	'1',	'combo-boolean',	'tinymcerte',	'default',	NULL),
('fastuploadtv.translit',	'',	'combo-boolean',	'fastuploadtv',	'Default',	NULL),
('fastuploadtv.check_resid',	'1',	'combo-boolean',	'fastuploadtv',	'Default',	NULL),
('fastuploadtv.preview_width_max',	'150',	'textfield',	'fastuploadtv',	'Default',	NULL),
('fastuploadtv.preview_height_max',	'100',	'textfield',	'fastuploadtv',	'Default',	NULL),
('fastuploadtv.random_lenght',	'6',	'textfield',	'fastuploadtv',	'Default',	NULL),
('phpthumbof.use_resizer',	'',	'combo-boolean',	'phpthumbof',	'Images',	NULL),
('pthumb.global_defaults',	'',	'textfield',	'phpthumbof',	'Images',	NULL),
('phpthumbof.remote_timeout',	'5',	'textfield',	'phpthumbof',	'Other',	NULL),
('phpthumbof.postfix_property_hash',	'1',	'combo-boolean',	'phpthumbof',	'Cache [phpThumbOf]',	NULL),
('phpthumbof.cache_path',	'',	'textfield',	'phpthumbof',	'Cache [phpThumbOf]',	NULL),
('phpthumbof.cache_url',	'',	'textfield',	'phpthumbof',	'Cache [common]',	NULL),
('pthumb.clean_level',	'0',	'textfield',	'phpthumbof',	'Cache [common]',	NULL),
('pthumb.use_ptcache',	'',	'combo-boolean',	'phpthumbof',	'Cache [pThumb]',	NULL),
('pthumb.ptcache_location',	'assets/image-cache',	'textfield',	'phpthumbof',	'Cache [pThumb]',	NULL),
('pthumb.ptcache_images_basedir',	'assets',	'textfield',	'phpthumbof',	'Cache [pThumb]',	NULL),
('phpthumbof.check_mod_time',	'',	'combo-boolean',	'phpthumbof',	'Cache [common]',	'2017-09-03 14:33:53'),
('pthumb.s3_output',	'',	'textfield',	'phpthumbof',	'Amazon S3',	NULL),
('pthumb.s3_headers',	'',	'textarea',	'phpthumbof',	'Amazon S3',	NULL),
('pthumb.s3_multi_img',	'',	'combo-boolean',	'phpthumbof',	'Amazon S3',	NULL),
('pthumb.s3_cache_path',	'',	'textfield',	'phpthumbof',	'Amazon S3',	NULL),
('resizer.graphics_library',	'2',	'textfield',	'resizer',	'resizer',	NULL),
('ap_show_users',	'',	'textfield',	'adminpanel',	'ap_main',	NULL),
('ap_hide_templates',	'0',	'textfield',	'adminpanel',	'ap_main',	NULL),
('ap_controllers',	'default',	'textfield',	'adminpanel',	'ap_main',	NULL),
('ap_controllers_path',	'[[+corePath]]controllers/',	'textfield',	'adminpanel',	'ap_main',	NULL),
('ap_frontend_js',	'[[+assetsUrl]]js/default.js',	'textfield',	'adminpanel',	'ap_style',	NULL),
('ap_frontend_css',	'[[+assetsUrl]]css/default.css',	'textfield',	'adminpanel',	'ap_style',	NULL),
('ap_tpl_outer',	'tpl.AdminPanel.outer',	'textfield',	'adminpanel',	'ap_style',	NULL),
('ap_tpl_group',	'tpl.AdminPanel.group',	'textfield',	'adminpanel',	'ap_style',	NULL),
('ap_tpl_link',	'tpl.AdminPanel.link',	'textfield',	'adminpanel',	'ap_style',	NULL),
('ap_theme',	'dark',	'textfield',	'adminpanel',	'ap_style',	NULL),
('ap_inactive_opacity',	'9',	'numberfield',	'adminpanel',	'ap_style',	NULL),
('ap_active_opacity',	'10',	'numberfield',	'adminpanel',	'ap_style',	NULL);

DROP TABLE IF EXISTS `q777_tickets_authors`;
CREATE TABLE `q777_tickets_authors` (
  `id` int(10) unsigned NOT NULL,
  `rating` decimal(12,2) DEFAULT '0.00',
  `createdon` datetime DEFAULT NULL,
  `visitedon` datetime DEFAULT NULL,
  `tickets` int(10) unsigned DEFAULT '0',
  `comments` int(10) unsigned DEFAULT '0',
  `views` int(10) unsigned DEFAULT '0',
  `votes_tickets` decimal(12,2) DEFAULT '0.00',
  `votes_comments` decimal(12,2) DEFAULT '0.00',
  `stars_tickets` int(10) unsigned DEFAULT '0',
  `stars_comments` int(10) unsigned DEFAULT '0',
  `votes_tickets_up` int(10) unsigned DEFAULT '0',
  `votes_tickets_down` int(10) unsigned DEFAULT '0',
  `votes_comments_up` int(10) unsigned DEFAULT '0',
  `votes_comments_down` int(10) unsigned DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `rating` (`rating`),
  KEY `createdon` (`createdon`),
  KEY `visitedon` (`visitedon`),
  KEY `tickets` (`tickets`),
  KEY `comments` (`comments`),
  KEY `views` (`views`),
  KEY `votes` (`stars_comments`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_author_actions`;
CREATE TABLE `q777_tickets_author_actions` (
  `id` int(10) NOT NULL,
  `action` varchar(50) NOT NULL,
  `owner` int(10) NOT NULL DEFAULT '0',
  `rating` decimal(12,2) DEFAULT '0.00',
  `multiplier` int(10) DEFAULT '1',
  `ticket` int(10) NOT NULL DEFAULT '0',
  `section` int(10) NOT NULL DEFAULT '0',
  `createdby` int(10) NOT NULL DEFAULT '0',
  `createdon` datetime NOT NULL,
  `year` year(4) DEFAULT '0000',
  `month` int(2) DEFAULT '0',
  `day` int(2) DEFAULT '0',
  PRIMARY KEY (`id`,`action`,`owner`,`createdby`),
  KEY `createdon` (`createdon`),
  KEY `section` (`section`),
  KEY `ticket` (`ticket`),
  KEY `action` (`action`),
  KEY `owner` (`owner`),
  KEY `date` (`year`,`month`,`day`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_comments`;
CREATE TABLE `q777_tickets_comments` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `thread` int(10) unsigned NOT NULL DEFAULT '0',
  `parent` int(10) unsigned NOT NULL DEFAULT '0',
  `text` text NOT NULL,
  `raw` text NOT NULL,
  `name` varchar(255) NOT NULL DEFAULT '',
  `email` varchar(255) NOT NULL DEFAULT '',
  `ip` varchar(16) NOT NULL DEFAULT '0.0.0.0',
  `rating` smallint(5) DEFAULT '0',
  `rating_plus` smallint(5) DEFAULT '0',
  `rating_minus` smallint(5) DEFAULT '0',
  `createdon` datetime DEFAULT NULL,
  `createdby` int(10) unsigned NOT NULL DEFAULT '0',
  `editedon` datetime DEFAULT NULL,
  `editedby` int(10) unsigned NOT NULL DEFAULT '0',
  `published` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deletedon` datetime DEFAULT NULL,
  `deletedby` int(10) unsigned NOT NULL DEFAULT '0',
  `properties` text,
  PRIMARY KEY (`id`),
  KEY `thread` (`thread`),
  KEY `parent` (`parent`),
  KEY `deleted` (`deleted`),
  KEY `published` (`published`),
  KEY `rating` (`rating`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_files`;
CREATE TABLE `q777_tickets_files` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `parent` int(10) unsigned NOT NULL DEFAULT '0',
  `class` varchar(100) DEFAULT NULL,
  `source` int(10) unsigned DEFAULT '1',
  `name` varchar(255) NOT NULL,
  `description` text,
  `path` varchar(255) NOT NULL,
  `file` varchar(255) NOT NULL,
  `type` varchar(50) DEFAULT NULL,
  `size` int(10) unsigned NOT NULL DEFAULT '0',
  `createdon` datetime DEFAULT NULL,
  `createdby` int(10) unsigned NOT NULL DEFAULT '0',
  `url` varchar(255) NOT NULL,
  `thumb` varchar(255) NOT NULL,
  `thumbs` text,
  `deleted` tinyint(1) DEFAULT '0',
  `properties` text,
  `hash` char(40) DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `parent` (`parent`,`class`),
  KEY `source` (`source`),
  KEY `type` (`type`),
  KEY `deleted` (`deleted`),
  KEY `hash` (`hash`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_mail_queues`;
CREATE TABLE `q777_tickets_mail_queues` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `uid` int(10) unsigned NOT NULL DEFAULT '0',
  `subject` varchar(255) DEFAULT '',
  `body` text,
  `email` varchar(255) DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `uid` (`uid`),
  KEY `email` (`email`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_stars`;
CREATE TABLE `q777_tickets_stars` (
  `id` int(10) unsigned NOT NULL DEFAULT '0',
  `class` varchar(100) NOT NULL DEFAULT 'Ticket',
  `owner` int(10) unsigned NOT NULL DEFAULT '0',
  `createdon` datetime DEFAULT NULL,
  `createdby` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`,`createdby`,`class`),
  KEY `createdon` (`createdon`),
  KEY `owner` (`owner`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_threads`;
CREATE TABLE `q777_tickets_threads` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `resource` int(10) unsigned NOT NULL DEFAULT '0',
  `name` varchar(255) NOT NULL DEFAULT '',
  `subscribers` text NOT NULL,
  `createdon` datetime DEFAULT NULL,
  `createdby` int(10) unsigned NOT NULL DEFAULT '0',
  `closed` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deletedon` datetime DEFAULT NULL,
  `deletedby` int(10) unsigned NOT NULL DEFAULT '0',
  `comment_last` int(10) unsigned NOT NULL DEFAULT '0',
  `comment_time` datetime DEFAULT NULL,
  `comments` int(10) unsigned DEFAULT '0',
  `properties` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `resource` (`resource`),
  KEY `comment_last` (`comment_last`),
  KEY `comments` (`comments`),
  KEY `closed` (`closed`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_totals`;
CREATE TABLE `q777_tickets_totals` (
  `id` int(10) unsigned NOT NULL,
  `class` varchar(100) NOT NULL,
  `tickets` int(10) unsigned DEFAULT '0',
  `comments` int(10) unsigned DEFAULT '0',
  `views` int(10) unsigned DEFAULT '0',
  `stars` int(10) unsigned DEFAULT '0',
  `rating` smallint(5) DEFAULT '0',
  `rating_plus` smallint(5) unsigned DEFAULT '0',
  `rating_minus` smallint(5) unsigned DEFAULT '0',
  PRIMARY KEY (`id`,`class`),
  KEY `owner` (`rating`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_views`;
CREATE TABLE `q777_tickets_views` (
  `parent` int(10) unsigned NOT NULL DEFAULT '0',
  `uid` int(10) unsigned NOT NULL DEFAULT '0',
  `guest_key` char(32) NOT NULL DEFAULT '',
  `timestamp` datetime NOT NULL,
  PRIMARY KEY (`parent`,`uid`,`guest_key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_tickets_votes`;
CREATE TABLE `q777_tickets_votes` (
  `id` int(10) unsigned NOT NULL DEFAULT '0',
  `class` varchar(100) NOT NULL,
  `owner` int(10) unsigned NOT NULL DEFAULT '0',
  `value` tinyint(1) NOT NULL DEFAULT '0',
  `createdon` datetime DEFAULT NULL,
  `createdby` int(10) unsigned NOT NULL DEFAULT '0',
  `ip` varchar(16) DEFAULT '0.0.0.0',
  PRIMARY KEY (`id`,`createdby`,`class`),
  KEY `createdon` (`createdon`),
  KEY `owner` (`owner`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_transport_packages`;
CREATE TABLE `q777_transport_packages` (
  `signature` varchar(255) NOT NULL,
  `created` datetime NOT NULL,
  `updated` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `installed` datetime DEFAULT NULL,
  `state` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `workspace` int(10) unsigned NOT NULL DEFAULT '0',
  `provider` int(10) unsigned NOT NULL DEFAULT '0',
  `disabled` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `source` tinytext,
  `manifest` text,
  `attributes` mediumtext,
  `package_name` varchar(255) NOT NULL,
  `metadata` text,
  `version_major` smallint(5) unsigned NOT NULL DEFAULT '0',
  `version_minor` smallint(5) unsigned NOT NULL DEFAULT '0',
  `version_patch` smallint(5) unsigned NOT NULL DEFAULT '0',
  `release` varchar(100) NOT NULL DEFAULT '',
  `release_index` smallint(5) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`signature`),
  KEY `workspace` (`workspace`),
  KEY `provider` (`provider`),
  KEY `disabled` (`disabled`),
  KEY `package_name` (`package_name`),
  KEY `version_major` (`version_major`),
  KEY `version_minor` (`version_minor`),
  KEY `version_patch` (`version_patch`),
  KEY `release` (`release`),
  KEY `release_index` (`release_index`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_transport_packages` (`signature`, `created`, `updated`, `installed`, `state`, `workspace`, `provider`, `disabled`, `source`, `manifest`, `attributes`, `package_name`, `metadata`, `version_major`, `version_minor`, `version_patch`, `release`, `release_index`) VALUES
('console-2.2.1-beta-2',	'2017-08-30 01:27:41',	'2017-08-30 13:27:49',	'2017-08-30 13:27:49',	0,	1,	1,	0,	'console-2.2.1-beta-2.transport.zip',	NULL,	'a:36:{s:7:\"license\";s:0:\"\";s:6:\"readme\";s:134:\"Console\r\n=====================================================\r\n\r\nConsole allow to execute php-code at back-end by simple interface.\r\n\";s:9:\"changelog\";s:1202:\"Console-2.2.1-beta\r\n=============================================================\r\n- Added return result\r\n\r\nConsole-2.2.0-beta\r\n=============================================================\r\n- Added execution report\r\n\r\nConsole-2.1.0-beta\r\n=============================================================\r\n- Added a feature to save the console code to file and load from file.\r\n- Added a feature to save the console code to snippet and load from snippet.\r\n\r\nConsole-2.0.3-beta\r\n=============================================================\r\n- Added recursive queries;\r\n\r\nConsole-2.0.2-beta\r\n=============================================================\r\n- Renew appearance;\r\n- Two variants of result (formated and raw)\r\n\r\nConsole-2.0.1-beta\r\n=============================================================\r\n- Saving code in $_SESSION;\r\n\r\nConsole-2.0.0-rc\r\n=============================================================\r\n- Ace integration fix;\r\n\r\nConsole-1.2.0-rc\r\n=============================================================\r\n- Set default LogTarget(\'HTML\');\r\n- Set default LogLevel(xPDO::LOG_LEVEL_DEBUG);\r\n\r\nConsole-1.1.0-rc\r\n=============================================================\r\n\r\n- First release\";s:9:\"signature\";s:20:\"console-2.2.1-beta-2\";s:13:\"initialConfig\";s:15:\"[object Object]\";s:4:\"text\";s:20:\"Продолжить\";s:2:\"id\";s:19:\"package-install-btn\";s:6:\"hidden\";s:5:\"false\";s:7:\"handler\";s:1749:\"function (va){\n        var r;\n        var g = Ext.getCmp(\'modx-package-grid\');\n        if (!g) return false;\n        \n        if (va.signature != undefined && va.signature != \'\') {\n            r = {signature: va.signature};\n        } else {\n            r = g.menu.record.data ? g.menu.record.data : g.menu.record;\n        }\n		var topic = \'/workspace/package/install/\'+r.signature+\'/\';\n        g.loadConsole(Ext.getBody(),topic);\n\n		va = va || {};\n        Ext.apply(va,{\n            action: \'workspace/packages/install\'\n            ,signature: r.signature\n            ,register: \'mgr\'\n            ,topic: topic\n        });\n\n        MODx.Ajax.request({\n            url: MODx.config.connector_url\n            ,params: va\n            ,listeners: {\n                \'success\': {fn:function() {\n                    var bc = Ext.getCmp(\'packages-breadcrumbs\');\n                    var trail= bc.data.trail;\n                    trail.pop();\n\n                    if (trail.length > 1) {\n                        last = trail[trail.length - 1];\n\n                        if (last != undefined && last.rec != undefined) {\n                            bc.data.trail.pop();\n                            bc.data.trail.shift();\n                            bc.updateDetail(bc.data);\n\n                            var grid = Ext.getCmp(\'modx-package-grid\');\n                            grid.install(last.rec);\n                            return;\n                        }\n                    }\n\n                    this.activate();\n					Ext.getCmp(\'modx-package-grid\').refresh();\n                },scope:this}\n                ,\'failure\': {fn:function() {\n                    this.activate();\n                },scope:this}\n            }\n        });\n\n        return true;\n	}\";s:8:\"disabled\";s:5:\"false\";s:5:\"scope\";s:15:\"[object Object]\";s:9:\"autoWidth\";s:4:\"true\";s:10:\"autoHeight\";s:4:\"true\";s:8:\"minWidth\";s:2:\"75\";s:10:\"removeMode\";s:9:\"container\";s:10:\"hideParent\";s:4:\"true\";s:6:\"events\";s:15:\"[object Object]\";s:7:\"ownerCt\";s:15:\"[object Object]\";s:9:\"container\";s:15:\"[object Object]\";s:8:\"rendered\";s:4:\"true\";s:8:\"template\";s:15:\"[object Object]\";s:5:\"btnEl\";s:15:\"[object Object]\";s:4:\"mons\";s:15:\"[object Object]\";s:2:\"el\";s:15:\"[object Object]\";s:4:\"icon\";s:0:\"\";s:7:\"iconCls\";s:0:\"\";s:8:\"boxReady\";s:4:\"true\";s:11:\"useSetClass\";s:4:\"true\";s:6:\"oldCls\";s:12:\"x-btn-noicon\";s:3:\"doc\";s:15:\"[object Object]\";s:8:\"lastSize\";s:15:\"[object Object]\";s:19:\"monitoringMouseOver\";s:4:\"true\";s:6:\"action\";s:26:\"workspace/packages/install\";s:8:\"register\";s:3:\"mgr\";s:5:\"topic\";s:48:\"/workspace/package/install/console-2.2.1-beta-2/\";s:14:\"package_action\";i:0;}',	'Console',	'a:38:{s:2:\"id\";s:24:\"588491c3bc8dd393108b4567\";s:7:\"package\";s:24:\"50f2c1d3f2455468e4000049\";s:12:\"display_name\";s:20:\"console-2.2.1-beta-2\";s:4:\"name\";s:7:\"Console\";s:7:\"version\";s:5:\"2.2.1\";s:13:\"version_major\";s:1:\"2\";s:13:\"version_minor\";s:1:\"2\";s:13:\"version_patch\";s:1:\"1\";s:7:\"release\";s:5:\"beta2\";s:8:\"vrelease\";s:4:\"beta\";s:14:\"vrelease_index\";s:1:\"2\";s:6:\"author\";s:7:\"Fi1osof\";s:11:\"description\";s:300:\"Console allow to execute php-code at back-end by simple interface.<p>GitHub project: <a href=\"https://github.com/Fi1osof/modx-console\">https://github.com/Fi1osof/modx-console</a></p><p>Feel free ask any question on <a href=\"https://modxclub.ru/\" title=\"\" target=\"\">https://modxclub.ru/</a></p><p></p>\";s:12:\"instructions\";s:22:\"<p>Initial content</p>\";s:9:\"changelog\";s:1336:\"<p>Console-2.2.1-beta</p><p>=============================================================</p><p>- Added return result</p><p>Console-2.2.0-beta</p><p>=============================================================</p><p>- Added execution report</p><p>Console-2.1.0-beta</p><p>=============================================================</p><p>- Added a feature to save the console code to file and load from file.</p><p>- Added a feature to save the console code to snippet and load from snippet.</p><p>Console-2.0.3-beta</p><p>=============================================================</p><p>- Added recursive queries;</p><p>Console-2.0.2-beta</p><p>=============================================================</p><p>- Renew appearance;</p><p>- Two variants of result (formated and raw)</p><p>Console-2.0.1-beta</p><p>=============================================================</p><p>- Saving code in $_SESSION;</p><p>Console-2.0.0-rc</p><p>=============================================================</p><p>- Ace integration fix;</p><p>Console-1.2.0-rc</p><p>=============================================================</p><p>- Set default LogTarget(\'HTML\');</p><p>- Set default LogLevel(xPDO::LOG_LEVEL_DEBUG);</p><p>Console-1.1.0-rc</p><p>=============================================================</p><p>- First release</p>\";s:9:\"createdon\";s:24:\"2017-01-22T11:04:35+0000\";s:9:\"createdby\";s:7:\"Fi1osof\";s:8:\"editedon\";s:24:\"2017-08-30T13:26:22+0000\";s:10:\"releasedon\";s:24:\"2017-02-03T08:54:24+0000\";s:9:\"downloads\";s:5:\"19862\";s:8:\"approved\";s:4:\"true\";s:7:\"audited\";s:5:\"false\";s:8:\"featured\";s:5:\"false\";s:10:\"deprecated\";s:5:\"false\";s:7:\"license\";s:5:\"GPLv2\";s:7:\"smf_url\";s:0:\"\";s:10:\"repository\";s:24:\"4d4c3fa6b2b0830da9000001\";s:8:\"supports\";s:3:\"2.2\";s:8:\"location\";s:60:\"http://modx.com/extras/download/?id=588491c3bc8dd393108b4568\";s:9:\"signature\";s:20:\"console-2.2.1-beta-2\";s:11:\"supports_db\";s:12:\"mysql,sqlsrv\";s:16:\"minimum_supports\";s:3:\"2.2\";s:9:\"breaks_at\";s:8:\"10000000\";s:10:\"screenshot\";s:67:\"http://modx.s3.amazonaws.com/extras/50f2c1d3f2455468e4000049/14.jpg\";s:4:\"file\";a:7:{s:2:\"id\";s:24:\"588491c3bc8dd393108b4568\";s:7:\"version\";s:24:\"588491c3bc8dd393108b4567\";s:8:\"filename\";s:34:\"console-2.2.1-beta-2.transport.zip\";s:9:\"downloads\";s:4:\"5234\";s:6:\"lastip\";s:15:\"178.172.235.230\";s:9:\"transport\";s:4:\"true\";s:8:\"location\";s:60:\"http://modx.com/extras/download/?id=588491c3bc8dd393108b4568\";}s:17:\"package-signature\";s:20:\"console-2.2.1-beta-2\";s:10:\"categories\";s:29:\"administration,administration\";s:4:\"tags\";s:0:\"\";}',	2,	2,	1,	'beta',	0),
('dasite-1.0.1-beta',	'2017-09-03 14:27:59',	'2017-09-03 14:34:10',	'2017-09-03 14:34:08',	0,	1,	0,	0,	'dasite-1.0.1-beta.transport.zip',	NULL,	'a:5:{s:9:\"changelog\";b:0;s:7:\"license\";b:0;s:6:\"readme\";b:0;s:6:\"chunks\";a:0:{}s:13:\"setup-options\";s:35:\"dasite-1.0.1-beta/setup-options.php\";}',	'dasite',	NULL,	1,	0,	1,	'beta',	0),
('pdotools-2.9.2-pl1',	'2017-09-03 02:28:06',	'2017-09-03 14:30:45',	'2017-09-03 14:28:07',	0,	1,	2,	0,	'pdotools-2.9.2-pl1.transport.zip',	NULL,	'a:3:{s:9:\"changelog\";s:24954:\"Changelog for pdoTools.\n\n2.9.2 pl\n==============\n- [pdoParser] Proper traversal trough arrays fields of resources in fast tags.\n\n2.9.1 pl\n==============\n- [Fenom] Updated to version 2.11.8.\n\n2.9.0 pl\n==============\n- [pdoPage] Improved \"&pageLinkScheme\" logic.\n- [#249] A little improvement for resource modifier.\n- [#251] [pdoFetch] More compatibility with PHP 7.1.\n- [#253] [pdoPage] Fixing a missing pagination in Ajax mode.\n- [#254] [Fenom] Options of json modifiers must check version of PHP to proper work.\n\n2.8.6 pl\n==============\n- [pdoArchive] Ability to specify fields with regular dates in the \"&dateField\" parameter.\n- [Fenom] Added all options to json modifiers.\n\n2.8.5 pl\n==============\n- [#248] [pdoPage] Fixed E_WARNING with array values in GET parameters.\n\n2.8.4 pl\n==============\n- Ability to use file elements in core path outside base path.\n- Fixed bug with the caching of elements.\n\n2.8.3 pl\n==============\n- [Fenom] Fixed rare bug with the caching of scripts and styles that was registered via Fenom.\n- [pdoPage] Fixed the \"?page=1\" in the url when ajaxMode is enabled.\n- [pdoPage] Snippet will register \"canonical\" link if \"&setMeta\" is enabled.\n- [pdoPage] Fix processing of request with rawurldecode on some servers.\n- [pdoTools] Added passing of \"scriptProperties\" values into a \"&prepareSnippet\".\n\n2.8.2 pl\n==============\n- [pdoMenu] Fixed the checking of permissions for containers.\n- [pdoPage] Added the ability to run files as &element.\n- [pdoTools] The method runSnippet will return boolean false if snippet was not found.\n- [Fenom] Fixed the possible bugs of caching of scripts and styles.\n\n2.8.1 pl\n==============\n- [#244] Fixed possible duplicate of a container in the jquery.pdopage.js.\n- Added fallback class for the enable modParser.\n\n2.8.0 pl\n==============\n- Ability to use an arrays in the parameters of the snippets.\n- Replaced modX::toJSON and modX::fromJSON to native php functions.\n\n2.7.5 pl\n==============\n- Fenom is now managed via composer.\n- [Fenom] Modifier \"resource\" no longer checks fields of resources in their schema.\n- [Fenom] Modifier \"strrev\" now can work with arrays.\n- [Fenom] Improved modifier \"ismember\".\n\n2.7.4 pl\n==============\n- [#242] Added jquery.pdopage.js plugin and minified versions.\n- [#241] [Fenom] Improved the retrieving of TVs for a current resource.\n- [pdoFetch] Restored the checking of possible SQL injections in the &sortby with xPDO 2.5.1.\n\n2.7.3 pl\n==============\n- Improved compatibility with MODX 2.5.2.\n\n2.7.2 pl\n==============\n- [pdoFetch] Some security improvements.\n\n2.7.1 pl\n==============\n- Some security improvements in the connector.php.\n- Fixed bug with registering scripts in styles via Fenom introduced in version 2.7.0.\n\n2.7.0 pl\n==============\n- [Fenom] Updated to the version 2.11.4.\n- [Fenom] Fixed resource cache for scripts and styles registered by Fenom.\n- [Fenom] Added rand() and number_format() to an allowed PHP functions.\n- [Fenom] New output filter \"number\" (or \"number_format\").\n\n2.6.5 pl\n==============\n- Fixed undeclared variable (PHP 7.1)\n\n2.6.4 pl\n==============\n- Added escaping of a MODX tags that being processed in the &prepareSnippet.\n- [#239] Improved work of the &decodeJSON option.\n\n2.6.3 pl\n==============\n- Fixed possible E_NOTICE on line 305 pdofetch.class.php.\n- Fixed possible E_NOTICE when \"snippet\" and \"chunk\" Fenom modifiers was called.\n\n2.6.2 pl\n==============\n- Fixed possible E_NOTICE on line 1317 pdotools.class.php.\n\n2.6.1 pl\n==============\n- Improved compatibility with PHP 5.3.\n\n2.6.0 pl\n==============\n- [Fenom] The ability to extend Fenom via system event \"pdoToolsOnFenomInit\".\n\n2.5.6 pl\n==============\n- [pdoFetch] Ability to join TVs not only to the query main class.\n\n2.5.5 pl\n==============\n- Fixed parse of INLINE chunks with \"@\" symbols.\n\n2.5.4 pl\n==============\n- [#224] Added microMODX::cleanAlias().\n- [#226] [Fenom] Added \"declension\" modifier.\n\n2.5.3 pl\n==============\n- [#221] Fixed typo in month name.\n- [Fenom] Fixed path to compile dir.\n\n2.5.2 pl\n==============\n- [#220] Cache code of snippet with respect to property set.\n\n2.5.1 pl\n==============\n- Fixed cache of snippets in pdoTools::runSnippet().\n\n2.5.0 pl\n==============\n- Improved support of debugParser.\n- [#209] Improved loading of the models.\n- [Fenom] New modifiers: \"snippet\" and \"chunk\".\n- [Fenom] New elements provider: \"file\".\n- New method pdoTools::runSnippet().\n\n2.4.0 pl\n==============\n- Added snippet pdoArchive.\n- [pdoResources] Faster processing of additional snippet parameters to placeholders.\n- [#123] [pdoMenu] Fixed bug with &displayStart and unpublished root nodes.\n- [#207] [pdoMenu] Fixed &webLinkClass option.\n- [#193] [pdoNeighbors] Added parameter &wrapIfEmpty.\n- [#203] [Fenom] Added more PCRE modifiers.\n\n2.3.5 pl\n==============\n- [pdoFetch] Added escaping of columns names in query.\n\n2.3.4 pl\n==============\n- [#200] [pdoFetch] Fixed &sortbyTV with dot in name.\n\n2.3.3 pl\n==============\n- Added system plugin for \"autoload\" of main classes with respect to their paths in system settings.\n\n2.3.2 pl\n==============\n- [#196] [pdoPage] Added workaround to support ClientConfig tags in ajax mode.\n- [Fenom] Added general MODX output filters as Fenom modifiers.\n- [Fenom] Implemented autoload of modifiers from snippets.\n- [Fenom] Removed system setting \"pdotools_fenom_modifiers\".\n\n2.3.1 pl\n==============\n- [pdoSitemap] Lightning fast work chunks processing with &scheme=`uri`.\n- [Fenom] Improved check of syntax before processing.\n\n2.3.0 pl\n==============\n- Removed shortcuts from system core.\n- PSR-2.\n- [Fenom] Added default modifiers: \"url\" and \"lexicon\".\n- [pdoCrumbs] Changed default chunks to ul -> li.\n- [#190] [pdoSitemap] Changed date format to ISO 8601.\n\n2.2.8 pl\n==============\n- [Fenom] Use modResource::getContent() method to get content of current resource in {$_modx->resource}.\n\n2.2.7 pl\n==============\n- [pdoPage] Ability to get access to a javascript configs from 3rd party scripts.\n\n2.2.6 pl\n==============\n- [#184] [Fenom] Updated to version 2.8.2.\n\n2.2.5 pl\n==============\n- [#182] [pdoTitle] Added passing a parameters into nested pdoCrumbs.\n- [pdoSitemap] Added processing of MODX tags if needed.\n- Added method pdoTools::makeUrl().\n- [#181] New url schema type - \"uri\".\n\n2.2.4 pl\n==============\n- [Fenom] Fixed speed issues when MODX snippets are run as Fenom modifiers.\n- [pdoUsers] Fixed overwrite modUser.id by modUserProfile.id.\n\n2.2.3 pl\n==============\n- [pdoPage] Fixed processing of uncached conditions in chunks when ajax mode is enabled.\n\n2.2.2 pl\n==============\n- [pdoPage] Added new parameter &pageLinkScheme.\n\n2.2.1 pl\n==============\n- [#155] [pdoPage] Added new parameter &ajaxHistory.\n- [pdoPage] Added connector for requests in ajax mode.\n\n2.2.0 pl\n==============\n- [#175] [pdoFetch] Ability to specify sequence of table joins.\n- [#174] [Fenom] Ability to add Fenom modifiers into pdoParser.\n\n2.1.21 pl\n==============\n- [#175] [pdoFetch] Ability to specify sequence of table joins.\n- [#176] [pdoUsers] Fixed &toPlaceholders with &returnIds.\n\n2.1.20 pl\n==============\n- [pdoSitemap] Fixed default &cacheKey.\n\n2.1.19 pl\n==============\n- [Fenom] Disabled $options in cacheManager::set() due to security reasons.\n\n2.1.18 pl\n==============\n- [Fenom] Fixed ability to access to the modX object from {$_modx} variable.\n- [Fenom] Improved method {$_modx->runProcessor()}.\n\n2.1.17 pl\n==============\n- [Fenom] Added {$_modx->getResource($id, $options)}.\n- [Fenom] Added {$_modx->getResources($where, $options)}.\n- [Fenom] Improved support of debugParser.\n\n2.1.16 pl\n==============\n- [Fenom] Added {$_modx->isMember($groups, $matchAll)}.\n- [Fenom] Added {$_modx->getPlaceholders()}.\n\n2.1.15 pl\n==============\n- [pdoPage] Added parameter &strictMode.\n\n2.1.14 pl\n==============\n- [pdoSitemap] Added options for cache snippets results.\n- [pdoSitemap] Cache enabled by default.\n\n2.1.13 pl\n==============\n- [#163] Fixed ignoring of &idx in pdoResources and pdoUsers.\n\n2.1.12 pl\n==============\n- [pdoPage] [#161] Fixed support of arrays in hash when &ajaxMode is enabled.\n\n2.1.11 pl\n==============\n- [#150] [Fenom] Fixed processing of TVs values in a {$_modx->resource}.\n- [#147] [pdoSitemap] Fixed possible duplicates in sitemap.\n- [pdoPage] Support of arrays in hash when &ajaxMode is enabled.\n\n2.1.10 pl\n==============\n- [#157] [Fenom] Fixed pre-processing of Fenom tags in extending templates and chunks.\n- [#145] [pdoPage] Rolled back #81 due to issues with complicate forms.\n\n2.1.9 pl\n==============\n- [#144] [pdoParser] Leave unprocessed FastField tags so other components could parse them.\n- [pdoFetch] Updated syntax for \"SET SQL_BIG_SELECTS = 1\".\n\n2.1.8 pl\n==============\n- [Fenom] Ability to use id of chunks and templates in {include} and {extends}.\n- [Fenom] Added support of debugParser.\n- [Fenom] Added {$_modx->getChildIds()} and {$_modx->getParentIds()}.\n\n2.1.7 pl\n==============\n- Fixed work with integer values from system setting \"link_tag_scheme\".\n\n2.1.6 pl\n==============\n- [Fenom] Updated to version 2.8.0.\n- [Fenom] Improved check of syntax to process content of chunks.\n- [pdoParser] Fixed E_WARNING on line 50 introduced in previous version.\n\n2.1.5 pl\n==============\n- [Fenom] Fixed register of scripts and styles by cached snippets.\n\n2.1.4 pl\n==============\n- [Fenom] Fixed TVs in {$_modx->resource}\n- [Fenom] Added new method {$_modx->getInfo()}\n\n2.1.3 pl\n==============\n- Improved work of system setting \"pdotools_fenom_php\".\n\n2.1.2 pl\n==============\n- [Fenom] Replaced {$_modx->placeholders} to functions.\n\n2.1.1 pl\n==============\n- pdoParser enabled by default.\n- [Fenom] Fixed return content in {$_modx->getChunk}.\n- [Fenom] Added cache for snippets called through {$_modx->runSnippet}.\n- [pdoTools] Added processing of property sets for chunks.\n- [pdoResources] Set additionalPlaceholders in &tplWrapper\n\n2.1.0 pl\n==============\n- [Fenom] Updated Fenom to version 2.7.1.\n- [Fenom] Added safe system variable {$_modx}.\n- [Fenom] Added MODX template provider for chunks and templates.\n\n2.0.5 pl\n==============\n- [#132] Fixed possible E_WARNING on empty chunks.\n- [#122] Ability to use 3rd party pdoPage and pdoMenu classes.\n- [#118] [pdoPage] Fixed parameter &offset.\n- [pdoPage] Fixed default CSS classes in \"empty\" chunks.\n\n2.0.4 pl\n==============\n- Fixed processing of \"pdotools_fenom_cache\" system setting.\n\n2.0.3 pl\n==============\n- [#125] [pdoTitle] Fixed parameter &id.\n\n2.0.2 pl\n==============\n- Improved processing of @FILE binding.\n\n2.0.1 pl\n==============\n- Fixed possible E_WARNING on line 319 and 349 of pdoTools class.\n- Disabled system option \"pdotools_fenom_modx\" by default due to security issues.\n\n2.0.0 pl\n==============\n- New system settings to control the Fenom.\n- Ability to enable caching of Fenom compiled chunks.\n- Improved handling of parameter \"cache_key\".\n- [pdoMenu] Improved work when &cache is enabled.\n\n2.0.0 rc2\n==============\n- Compiled Fenom templates cached to RAM instead of HDD.\n- Removed plugin pdoTools.\n\n2.0.0 rc1\n==============\n- Added Fenom template engine.\n- Fenom enabled by default.\n- pdoParser uses Fenom to process pages.\n\n1.11.2 pl\n==============\n- [#116] [pdoTitle] Disabled &register_js by default.\n\n1.11.1 pl\n==============\n- [pdoSitemap] Fixed default url scheme after last update.\n\n1.11.0 pl1\n==============\n- [pdoTitle] Added new snippet.\n- [pdoPage] Added support of snippet pdoTitle when &ajaxMode is enabled.\n- [pdoPage] Prevent overwriting of scripts and styles of nested &element by default parameters.\n- [pdoPage] Added triggering javascript event \"pdopage_load\".\n\n1.10.2 pl1\n==============\n- [#112] Parameter &scheme was set to system default in all snippets.\n- [#111] [pdoPage] Added ability to set \"prev\" & \"next\" meta tags.\n- [#107] [pdoNeighbors] Added ability to specify &parents for work.\n- [#106] [pdoMenu] Fixed \"hereClass\" and \"selfClass\" enabled &useWeblinkUrl parameter.\n- [#104] [pdoMenu] Snippet now using \"pagetitle\" for link titles if \"titleOfLinks\" is empty.\n\n1.10.1 pl\n==============\n- [#108] [pdoFetch] Fixed E_ERROR when using &sortbyTV.\n- [pdoFetch] Added new parameter &sortbyTVType.\n- [pdoFetch] If &sortdirTV is not set it will be equal to &sortdir.\n\n1.10.0 pl\n==============\n- [pdoMenu] Returned and fixed parameter &showDeleted.\n- [pdoPage] Improved default javascript.\n- [pdoPage] Fixed overwriting &frontend_js and &frontend_css parameters when &ajax is disabled.\n- [pdoFetch] Ability to specify functions in select fields.\n- [pdoTools] Ability to use compound quick placeholders.\n\n1.10.0 beta4\n==============\n- [pdoPage] Ajax pagination out from the box.\n- [pdoFetch] Improved log of getCollection.\n- [pdoTools] Added tplOperator \"contains\".\n\n1.9.7 pl\n==============\n- [#99] [pdoFetch] Fixed returning of primary key in \"ids\" mode.\n- [#97] [pdoTools] Fixed default tplPath for @FILE chunks.\n- [#85] [pdoFetch] Added function getChildIds().\n- [pdoFetch] Disabled \"total\" placeholder for &return=`ids`.\n\n1.9.6 pl2\n==============\n- [pdoFetch] Fixed exclusion of field \"id\" in custom classes.\n- [pdoMenu] Improved parameter &countChildren.\n- [#100] [pdoMenu] Removed parameter &showDeleted because it not working.\n\n1.9.6 rc\n==============\n- Added execution of SQL_BIG_SELECTS = 1 before query.\n- [pdoPage] Added parameter &ajax for supporting of ajax requests.\n\n1.9.5 pl1\n==============\n- Rolled back #72 due to issues in pdoMenu.\n\n1.9.5 pl\n==============\n- Added ability to return JSON or serialized string from pdoFetch::run().\n- [#83] [pdoMenu] Added level placeholder to outer templates.\n- [#82] [pdoFetch] Added support for complex &where parameter.\n- [#81] [pdoPage] Improved handling of arrays in url.\n- [#77] Fixed making of url for modWebLink to another context.\n- [#72] [pdoTools] Fixed order for children of excluded parents in buildTree.\n- [#60] [pdoMenu] Fixed parameter &tplCategoryFolder.\n- [#57] [pdoMenu] Improved placeholder [[+children]].\n- [#57] [pdoMenu] Added parameter &countChildren.\n\n1.9.4 pl1\n==============\n- [#78] [pdoNeighbors] Added parameter &loop=`1` for looping links.\n- [pdoSitemap] Fixed possible E_FATAL php-apc.\n\n1.9.3 pl1\n==============\n- [pdoTools] Ability to specify value for empty quick placeholders.\n- [pdoTools] Ability to use INLINE snippets and filters.\n- [pdoFetch] Improved loading of 3rd party models.\n- [pdoPage] Fixed E_WARNING when &limit=`0`.\n\n1.9.2 pl2\n==============\n- [#56] [pdoParser] Fixed wrong links processing.\n- [#53] Improved loading of classes.\n- [pdoField] Rolled back to original logic of \"top\" and \"topLevel\" parameters due to issues.\n- [pdoField] Added parameter \"ultimate\" to emulate logic of UltimateParent.\n\n1.9.1 pl6\n==============\n- [pdoFetch] Adding alias of main class of query to \"sortby\" if no alias exists.\n- [pdoFetch] Improved selecting of all fields of class with specified alias.\n- [pdoField] Parameter \"topLevel\" works exactly as in UltimateParent.\n- [pdoField] Parameter \"top\" without \"topLevel\" returns parent on \"top\" level.\n\n1.9.1 pl\n==============\n- [#47] [pdoMenu] Fixed processing &tplOuter when output is empty.\n- [#46] [pdoParser] Fixed processing of TVs with dots in name.\n- [#44] [pdoMenu] Improved handling of Wayfinder parameters \"includeDocs\" and \"excludeDocs\".\n- [#37] [pdoField] get the default, only if the field was empty.\n- [#34] Fixed processing of \"modSymLink\" documents.\n- [#32] Improved cache methods.\n- [#26] Replaced FIND_IN_SET() to FIELD().\n- [pdoFetch] Ability to work with objects, that has multiple primary keys.\n- [pdoPage] New parameter &cacheAnonymous.\n- [pdoMenu] New parameter &cacheAnonymous.\n- Added aliases for sort query in order of specified &resources: \"ids\" or \"resources\".\n- Removed unnecessary query in pdoFetch::getCollection().\n- Improved pdoFetch::getCollection().\n- Renamed pdoFetch::getObject() to getArray(). Now it uses getCollection for retrieve results.\n- pdoTools::setCache() now returns cacheKey.\n- pdoFetch::getObject() is now alias of pdoFetch::getArray().\n\n1.9.0 pl2\n==============\n- [pdoMenu] Chunks of parents and categories are now depends on the descendants and ignores parameter isfolder.\n- [pdoNeighbors] Speed improvements.\n- [#27] Ability to specify custom pdoFetch and pdoTools classes through FQN system settings.\n- [pdoParser] Handles TVs in resource tags.\n- [pdoParser] Handles output filters.\n- [pdoFetch] Improved method \"addTVFilters\", that used by \"tvFilters\" parameter in pdoResources.\n- [pdoSitemap] Pass the whole row so we can use more columns.\n\n1.9.0 rc\n==============\n- Improved method pdoTools::getChunk().\n- Improved method pdoTools::parseChunk().\n- Improved method pdoTools::fastProcess().\n- Improved method pdoTools::makePlaceholders().\n- Accelerated snippet pdoNeighbors.\n- Fixed bug in pdoUsers when usersgroups was specified by names.\n- getObject and getCollection() runs in separate instance.\n- Added pdoParser with FastField tags.\n- [pdoPage] Changed default value of parameter \"totalVar\" due to issues.\n- [#24] Fixed prepareTVs and empty tvPrefix.\n- [#23] [pdoResources] Ability to return ids to placeholder.\n- Fixed warning when getObject returns false.\n- Fixed placeholders prefix in recursive makePlaceholders.\n\n1.8.9 pl4\n==============\n- Added german lexicon.\n- [#20] Ability to specify not JSON string in &where=``.\n- [pdoPage] Added parameter \"pageCountVar\" for specifying name of variable with number of pages.\n- [pdoPage] Support Bootstrap3.\n- [pdoField] Ability to specify class for fetching field.\n- Improved joining of tables in pdoFetch.\n- Added preparing and processing TVs in getObject and getCollection methods.\n- Improved load of 3rd party models.\n\n1.8.8 pl2\n==============\n- Rewrited cache of snippets \"pdoMenu\" and \"pdoPage\".\n- New methods pdoTools::getCache() and pdoTools::setCache().\n- [pdoMenu] Fixed parameter \"tplParentRowActive\".\n- [#18] Fixed \"idx\" in pdoTools::defineChunk().\n\n1.8.7 pl\n==============\n- Added boolean parameter \"decodeJSON\" to specify whether or not decode JSON in results rows.\n- Removed default \"sortby\" and \"sortdir\" from class pdoFetch for better work of getCollection() method.\n\n1.8.6 pl2\n==============\n- Fixed possibly E_NOTICE when site has no extension packages installed.\n- [#17] [pdoMenu] Added placeholder [[+wf.menutitle]].\n- [#16] [pdoMenu] Disabled status verification of specified parents.\n- [#13] [pdoMenu] Improved work with root of multiple contexts.\n- [pdoMenu] Fixed bug when specified parent has only the one child.\n- [pdoResources] Added parameter \"&useWeblink\" and placeholder \"[[+link]]\". It is disabled by default.\n\n1.8.5 pl\n==============\n- [#15] [pdoPage] Improved generation of links to pages.\n- [pdoMenu] Improved processing of classes \"modSymlink\" and \"modWeblink\".\n- [pdoBreadcrumbs] Improved processing of classes \"modSymlink\" and \"modWeblink\". Added parameter \"&useWeblink\".\n- [pdoNeighbors] Added parameter \"&useWeblink\" and placeholder \"[[+link]]\".\n- [pdoSitemap] Added parameter \"&useWeblink\" and proper processing of classes \"modSymlink\" and \"modWeblink\".\n\n1.8.4 pl\n==============\n- [pdoCrumbs] Added ability to specify the crumbs root (defaulting to site_start)\n- [pdoCrumbs] Added ability to specify class_key (ie. to generate crumbs only for derivative classes)\n- More accuracy when try to decode json in fetch results.\n\n1.8.3 pl3\n==============\n- Improved preparation of template variables.\n- Improved transfer of additional parameters from snippet to results.\n- [pdoMenu] Added lexicon entries for parameters.\n- [pdoMenu] Allow to specify \"limit\" and \"offset\".\n- [#12] Added parameter \"toPlaceholder\".\n- Increased accuracy of timings log.\n\n1.8.1 pl2\n==============\n- Accelerated method pdoTools::getChunk().\n- Added snippet pdoMenu.\n- Added support for tags [^qt^] and [^q^].\n\n1.8.0 pl\n==============\n- [#10] [pdoPage] Added placeholder \"page\".\n- [#9] [pdoPage] Added placeholder \"pageCount\".\n- [#8] Improved support of big numbers when sorting by TVs.\n- Fixed work of pdoPage when it called multiple times on page.\n- Fixed mistype in pdoFetch::getCollection().\n\n1.8.0 rc5\n==============\n- Added processing of JSON fields. For example, you can use [[+extended.keyname]] in chunks of pdoUsers.\n- pdoTools was removed from system extension packages, but you can still use \"$modx->getService(\'pdoFetch\');\".\n- Fixed getting chunk without any parameters.\n- Added snippet pdoPage.\n\n1.8.0 beta1\n==============\n- Improved handling of \"default_text\" parameter in TVs.\n- Fixed and improved method pdoTools::buildTree().\n- The logic of build the conditions of the query moved into new method pdoFetch::additionalConditions().\n- Improved method pdoFetch::addSelects().\n- Improved method pdoFetch::addSort().\n- Improved some snippets in accordance to new abilities of pdoFetch: pdoResources, pdoNeighbors and pdoSitemap.\n\n1.7.4 pl\n==============\n- [#7] [pdoSitemap] Fixed hidden parameters \"&sortBy\" and \"&sortDir\" that used for compatibility with GoogleSiteMap.\n\n1.7.3 pl1\n==============\n- [pdoCrumbs] Fixed possible E_NOTICE on line 157.\n- [pdoCrumbs] Fixed generation of link to site start in relative mode.\n- [#6] pdoCrumbs and pdoNeighbors are now uses \"menutitle\" by default. If it is empty, will be used \"pagetitle\".\n\n1.7.2 pl1\n==============\n- [pdoField] Added new parameters: \"default=``\" and \"&field=``\".\n- [pdoField] Improved logic of \"&top=``\" and \"&topLevel=``\".\n- Added 2 new methods: pdoFetch::getObject() and pdoFetch::getCollection().\n- Ability to send arrays into common config parameters. JSON is still supported.\n- Improved select of default values in TVs.\n\n1.7.1 pl\n==============\n- [pdoCrumbs] Fixed work with \"modSymLink\" and \"modWebLink\" resources.\n\n1.7.0 pl1\n==============\n- New snippet pdoCrumbs.\n- New snippet pdoField.\n- New snippet pdoSitemap.\n- New snippet pdoNeighbors.\n- Ability to specify snippet for preparation of fetched rows by parameter \"&prepareSnippet=``\".\n- Added method pdoTools::checkPermissions() for checking user privileges to view the results.\n- Added @TEMPLATE binding. You can use name or id of any template. If empty - will use template of each row.\n- [pdoResources] Improved parameter \"&context\".\n- [pdoResources] Script properties are now passed to chunks. You can send any placeholders to it.\n\n1.6.0 pl1\n==============\n- Fixed compatibility issues in PHP < 5.3.\n\n1.6.0 pl\n==============\n- Added parameter \"&loadModels\" for comma-separated list of 3rd party components that needed for query.\n- Added parameters \"&prepareTVs\" and \"&processTVs\".\n- Added parameters \"&tvFilters\", \"&tvFiltersAndDelimiter\" and \"&tvFiltersAndDelimiter\".\n- Added support of parameters \"&sortbyTV\" and \"&sortdirTV\" for compatibility with getResources.\n- Added ability to use @INLINE and @FILE bindings in all template parameters.\n- Removed method pdoTools::getPlaceholders.\n\n1.5.0 pl2\n==============\n- Fixed sort of decimals in TVs.\n\n1.5.0 pl1\n==============\n- Added processing of simple [[~id]] placeholders in fastMode.\n- Added support of default value for TVs.\n- Improved sort by TVs of types \"number\" and \"date\".\n\n1.5.0 rc\n==============\n- [pdoUsers] Added new snippet \"pdoUsers\".\n- [pdoResources] Fixed \"toSeparatePlaceholders\".\n- [pdoResources] Parameter \"parents\" now supports dash prefix for excluding resources from query by parent.\n- [pdoResources] Fixed issue when snippet runs multiple times at one page.\n\n1.4.1 pl1\n==============\n- Improved \"context\" processing.\n- Fixed \"idx\" when multiple snippets called at one page.\n- Fixed default sortby when joined tables exists.\n\n1.4.1 beta3\n==============\n- Added parameters \"tplCondition\", \"tplOperator\" and \"conditionalTpls\".\n- Added parameter \"select\" for specifying needed columns of selected tables. Can be a JSON string with array.\n- Added parameter \"toSeparatePlaceholders\".\n- Improved \"pdoResources\" snippet.\n\n1.4.0 beta1\n==============\n- Ability to specify JSON string in \"sortby\", for example \"&sortby=`{\"pagetitle\":\"asc\",\"createdon\":\"desc\"}`\"\n- Added automatic replacement of tvs in \"where\" and \"having\" parameters.\n- Added automatic replacement of tvs in \"sortby\" parameter.\n- Removed example snippet\n- Added snippet \"pdoResources\", that could replace \"getResources\".\n- Added method pdoTools::defineChunk() for chunk of given idx.\n- Added \"memory usage\" in log.\n\n1.3.0\n==============\n- Improved placeholders processing when fastMode is enabled.\n- Added support of \"having\" conditions.\n\n1.2.1\n==============\n- Fixed not working \"includeTVs\" when \"leftJoin\" is empty.\n\n1.2.0\n==============\n- Native render of quick placeholders, such as \"<!--pdotools_introtext <blockquote>[[+introtext]]</blockquote>-->\".\n- Added joining of TVs in pdoFetch. Use parameter \"includeTVs\" with comma-separated list of template variables.\n- Added method pdoFetch::setConfig() for proper setting options when you run multiple pdoTools snippets at the one page.\n- Method pdoTools::makeArray is now recursive, for processing a multidimensional arrays of values.\n\n1.1.0\n==============\n- Improved getChunk function.\n\n1.0.1\n==============\n- Fixed setting total in \"chunks\" mode.\n- Improved displaying \"where\" condition in log.\n\n1.0.0\n==============\n- Initial release.\";s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:646:\"--------------------\npdoTools\n--------------------\nAuthor: Vasiliy Naumkin <bezumkin@yandex.ru>\n--------------------\n\nSmall library for creating fast snippets for MODX Revolution that works through PDO.\n\nRequired by Tickets and miniShop2.\n\nMain features\n- Builds queries with xPDO.\n- Retrieve results with PDO.\n- Improved pdoTools::getChunk() function, that processing placeholders faster, than original modX::getChunk().\n\npdoTools snippets will work so faster, than more fields you will retrieve from database at one query.\n\n--------------------\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttp://github.com/bezumkin/pdoTools/issues\n\";}',	'pdoTools',	NULL,	2,	9,	2,	'pl',	1),
('ytranslit-1.2.0-pl',	'2017-09-03 02:28:08',	'2017-09-03 14:30:46',	'2017-09-03 14:28:09',	0,	1,	2,	0,	'ytranslit-1.2.0-pl.transport.zip',	NULL,	'a:3:{s:9:\"changelog\";s:885:\"Changelog for yTranslit.\n\n1.2.0 pl (16.01.2016)\n============\n- [#3] [#4] Fixed wrong log entries in MODX 2.4.2\n- Code refactor to PSR-2.\n- Correct save and restore existing translit system settings.\n\n1.1.2 pl (05.12.2014)\n============\n- Updated description of ytranslit_key setting.\n\n1.1.1 pl (25.01.2014)\n============\n- Improved processing of filenames.\n\n1.1.0 pl1 (04.01.2014)\n============\n- Some small fixes\n\n1.1.0 pl1 (08.09.2013)\n============\n- Fixed ExtJS type of system setting \"ytranslit_timeout\".\n\n1.1.0 pl (05.08.2013)\n============\n- Support of Yandex translate api 1.5. Api key is now required!\n\n1.0.1 pl (19.09.2012)\n============\n- Added system parameter friendly_alias_ytranslit_timeout, for CURL timeout\n- Added system parameter friendly_alias_ytranslit_exclude, for those pagetitle, that will not be send on service.\n\n1.0.0 pl (18.09.212)\n============\n- Initial release.\";s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:427:\"--------------------\nyTranslit\n--------------------\n\nThis extension generates an alias to the resource through a translate service from Yandex.\n\nThe principle of operation is similar to the component translit. \nTo start working specify the correct direction of the translation in a system parameter \"friendly_alias_ytranslit_url\" by changing the parameter in the $_GET &lang=ru-en.\n\nThe default direction of translate is ru-en.\";}',	'yTranslit',	NULL,	1,	2,	0,	'pl',	0),
('jevix-1.2.2-pl',	'2017-09-03 02:33:06',	'2017-09-03 14:34:12',	'2017-09-03 14:33:07',	0,	1,	2,	0,	'jevix-1.2.2-pl.transport.zip',	NULL,	'a:3:{s:9:\"changelog\";s:848:\"Changelog for Jevix.\n\n1.2.2 pl\n==============\n- Added new parameter escapeTags, disabled by default.\n\n1.2.1 pl\n==============\n- Improved default cfgSetAutoPregReplace for support of YouTube https.\n\n1.2.0 pl2\n==============\n- Fixed the punctuation at the end of the link.\n- Fixed nested tags in a preformatted blocks.\n- Support for MODX tags in a preformatted blocks.\n- Improved checking of urls.\n- Main class refactor.\n\n1.1.1\n==============\n- Fixed errors handling\n\n1.1.0\n==============\n- Updated Jevix class from LiveStreet CMS\n- New parameter cfgSetTagBlockType for tags which do not need to insert <br> after.\n- New parameter cfgSetAutoPregReplace for auto replace with support of regular expressions.\n- Tuned default properties, enabled tables.\n- Links are now supports modx tags, e.g. [[~1]], [[+link]]\n\n1.0.0\n==============\n- Initial release.\";s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:248:\"--------------------\nJevix\n--------------------\nVersion: 1.0.0\nAuthor: John Doe <john@doe.com>\n--------------------\n\nA basic Extra for MODx Revolution.\n\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttp://github.com/username/Jevix/issues\";}',	'Jevix',	NULL,	1,	2,	2,	'pl',	0),
('tickets-1.8.1-pl',	'2017-09-03 02:33:08',	'2017-09-03 14:34:16',	'2017-09-03 14:33:13',	0,	1,	2,	0,	'tickets-1.8.1-pl.transport.zip',	NULL,	'a:5:{s:9:\"changelog\";s:22846:\"Changelog for Tickets.\n\n1.8.1 pl\n==========\n- Added \"kbd\" to allowed preformatted tags.\n- [#149] Fixed loading rich text editors in controllers (especially TinyMCE).\n- [#148] [TicketComments] Fixed the loading of all comments when &thread is not specified.\n- [#147] Added an javascript events on save and preview comments and tickets.\n- [#135] [TicketComments] Added ability to custom \"error\" element nesting in javascript.\n\n1.8.0 pl\n==========\n- Added support of ms2Gallery 2.0.\n- TicketFile thumbnails now stored in a separate folder.\n- Improved update of ticket form by data from server.\n\n1.7.6 pl\n==========\n- Fixed the work of TicketMeta with usual resources.\n- Removed broken option \"&permissions\" from snippet TicketForm.\n- Fixed possible E_WARNING in plugin at line 50.\n\n1.7.5 pl\n==========\n- Fixed \"total_rating\" placeholders in a chunks.\n- The TicketMeta snippet now updates document variables on load.\n\n1.7.4 pl\n==========\n- Fixed bug with dynamic override ticket section on save.\n\n1.7.3 pl\n==========\n- Some security fixes.\n\n1.7.2 pl\n==========\n- Fixed the counting of comments of a ticket.\n\n1.7.1 pl\n==========\n- Updated jQuery.jGrowl to the latest version.\n- Fixed the clearing of cache of a resource on save from manager.\n\n1.7.0 pl\n==========\n- Requires MODX 2.3+\n- PSR-2\n- System setting \"section_content_default\" is now empty by default.\n- [#139] Added return of id of the saved ticket.\n- Added new plugin events: OnBeforeTicketVote, OnBeforeCommentVote, OnBeforeTicketStar, OnBeforeTicketUnStar, OnBeforeCommentStar and OnBeforeCommentUnStar.\n- Ability to limit the number of days to vote for a tickets and comments in a sections.\n- Ability to require the minimum rating to create a tickets and comments in a section.\n- New object \"TicketTotal\" that stores total values of sections and tickets: rating, comments, views, etc.\n- Improved the speed of processing sections with a big number of tickets and comments.\n\n1.6.17 pl\n==========\n- Updated model for MySQL 5.7.\n\n1.6.16 pl\n==========\n- [#134] [TicketMeta] Added ability to specify &thread.\n\n1.6.15 pl\n==========\n- Improved load of pdoTools.\n\n1.6.14 pl\n==========\n- [#133] Added trailing semicolon for inline scripts.\n- [#132] Unset service \"action\" property before object save.\n\n1.6.13 pl\n==========\n- Fixed save of TicketAuthorAction with empty rating.\n\n1.6.12 pl\n==========\n- [#130] Respect section settings on ticket create in manager.\n\n1.6.11 pl\n==========\n- Chunks of emails now use the lexicons.\n\n1.6.10 pl\n==========\n- Added escaping of Fenom tags\n\n1.6.9 pl\n==========\n- [mgr] Added search by author of ticket in tickets list.\n- Added new events: OnCommentVote and OnTicketVote.\n- Added new events: OnCommentStar, OnCommentUnStar, OnTicketStar, OnTicketUnStar.\n\n1.6.8 pl\n==========\n- [getTickets] Fixed counting wrong number of views.\n\n1.6.7 pl\n==========\n- Fixed typo in redirect rule of plugin.\n- Returned missing Jevix property sets.\n- Improved tables resolver for update really old versions.\n- Added autoload of Prettify in default.js\n\n1.6.6 pl\n==========\n- Improved installation script for MODX 2.4.\n\n1.6.5 pl\n==========\n- [#126] Fixed possible issue with thread latest comment\n\n1.6.4 pl\n==========\n- [#125] fixed deletion of dependent objects.\n\n1.6.3 pl\n==========\n- Improved performance of installer.\n- Fixed possibility to create a new comment with specified rating.\n- [getTickets] Fixed parameter &toSeparatePlaceholders.\n\n1.6.2 pl\n==========\n- [mgr] Fixed special checkboxes handling in Ticket panel.\n- Improved performance of Tickets saving.\n\n1.6.1 pl\n==========\n- Improved counting of totals in AuthorProfile.\n- More ratings in AuthorProfile.\n- [mgr] Improved authors page.\n\n1.6.0 pl3\n==========\n- [#113] Added ratings for the authors.\n- [#122] [TicketComments] Added parameter &requiredFields for snippet.\n- [#122] [TicketComments] Improved frontend errors handling.\n- [#111] Ability to load any js and css files on Tickets initialization.\n- [#87] Added new tab with the all tickets of the site.\n- [#83] Improved extension of TicketsSection page.\n- [#84] Added profiles of authors.\n- [#83] Improved extension of Ticket page.\n- [#61] Ability to specify url of comments thread for opening from manager.\n- [mgr] Improved Tickets grid on TicketsSection page.\n- [mgr] Improved Threads grid.\n- [mgr] Improved Comments grid.\n- [mgr] More Comments events.\n- [mgr] More Threads events.\n- [mgr] New method Tickets::loadManagerFiles for 3rd party components.\n- Updated MarkItUp to version 1.1.14.\n- Updated Plupload to version 2.1.2.\n- Added system settings with tree icons for MODX 2.3.\n- Code reformat.\n- [#120] Fixed permissions in comments processors.\n- [#119] Fixed pagination in comments grid.\n- [#118] Tickets::sanitizeString can process simple arrays.\n- [#117] Fixed work with \"tvs_below_content\".\n- [#114] [getComments] Fixed showDeleted parameter.\n- [#108] Improved method TicketThread::buildTree.\n- [#107] Fixed missing tag \"bad\".\n- [getComments] Fixed displaying deleted comments.\n- [#93] [TicketComments] Fixed notices about unpublished comments to admins.\n- [#81] [TicketForm] Added parameter &bypassFields.\n\n1.5.1 pl\n==========\n- Improved editing html entities in page titles.\n\n1.5.0 pl\n==========\n- Ability to specify multiple previews for uploaded images in media source.\n- [#115] Fixed tickets uri generation.\n- [#110] Fixed aggregate connection to modUser in TicketComment.\n- [#95] Ability to remove user files for members of group \"Administrator\".\n- Ability to count guests views of pages. New system setting \"tickets.count_guests\".\n\n1.4.2 pl1\n==========\n- Improved sanitization of MODX tags in snippet TicketForm.\n\n1.4.2 rc2\n==========\n- Changed Gravatar url to https protocol.\n- Fixed work with MODX 2.3.\n- Fixed sort of tickets grid.\n- [#100] Fixed tables resolver.\n- Fixed rare bug with users combo on advanced site configuration.\n\n1.4.1 pl\n==========\n- Improved redirect of NotFound tickets in plugin.\n\n1.4.0 pl1\n==========\n- Fixed bug with listing of all comments in empty section.\n- Fixed processing of \"tickets.ticket_max_cut\" in tickets processor.\n- Comments are now using users photo if exists.\n- Added parameter \"resources\" for TicketForm.\n\n1.4.0 pl\n==========\n- Added section settings.\n- Removed system settings \"ticket_id_as_alias\" and \"section_id_as_alias\".\n- System settings \"ticket_show_in_tree_default\", \"ticket_isfolder_force\" and \"ticket_hidemenu_force\" moved to section settings.\n- System settings \"default_template\", \"disable_jevix_default\", \"process_tags_default\" moved to section settings.\n- Added ability to specify custom uris for children tickets.\n- Added subscriptions for sections of tickets.\n- Added chunks \"tpl.Tickets.ticket.email.subscription\" and \"tpl.Tickets.sections.wrapper\".\n- New methods: TicketsSection:Subscribe() and TicketsSection::isSubscribed().\n- Added new system setting \"ticket_max_cut\". Now you can specify length of text without tag \"cut\".\n- Added ability to add tickets and comments into favorites.\n- Added new snippet \"getComments\".\n- Added new snippet \"getStars\".\n- Added ability to publish and unpublish tickets.\n- Added new system setting \"unpublished_ticket_page\".\n- Added ability to upload files for tickets.\n- Added permissions for work with files.\n- Improved contexts support.\n- Improved parameter \"returnIds\" in snippets.\n- Improved handling of \"ticketForm\" properties and sections verification.\n- Improved notifications about unpublished comments and tickets.\n- Improved vote for any resource with TicketMeta.\n- Improved list chunks.\n- [TicketForm] Added ability to disable sisyphus for any fields by setting class \"disable-sisyphus\".\n- [TicketComments] Added parameter \"autoPublishGuest\" for more flexible management of comments.\n- [#80] Fixed innerJoin in getTickets.\n- [#76] Fixed auto publication of tickets.\n- [#75] Ability to vote for any resource.\n- [#74] Fixed ticket panel for new versions of MODX.\n- [#72] Fixed handling TVs.\n- [#64] Fixed forced processing of introtext by Jevix.\n- [mgr] Disabled ability to delete comment via update form.\n- Fixed default template on ticket creation.\n- Fixed saving ticket properties.\n\n1.3.0 rc3\n==========\n- [#59] Added changing of opacity of bad comments.\n- [#58] Fixed switching the document class from modDocument to Ticket.\n- [#57] Added more user placeholders to preview and create comment.\n- [#56] Added field \"description\".\n- [#55] Fixed changing of alias when user edit ticket from frontend.\n- Added placeholder [[+idx]] to comments.\n- Added rating of comments.\n- Added rating of tickets.\n- Added new snippet TicketMeta.\n- Added moving to the parent comment and back.\n- Improved snippet TicketLatest.\n- Improved clearing of cache right after ticket creation.\n- Added checkbox \"show_in_tree\" in the panel of Ticket.\n- Added system setting \"ticket_show_in_tree_default\".\n- Changed some default system setting.\n- Added column \"owner\" to \"TicketVote\" for select rating of users.\n- Added hotkeys for preview and submit tickets and comments.\n- Added anonymous comments.\n- Added simple math captcha for anonymous users.\n- Removed inline onclick events.\n- Fixed checking of \"requiredFields\" in TicketForm.\n- Fixed restoring of old data in new ticket form by Sisyphus.\n- Improved javascript for Internet Explorer.\n- Improved snippets because closed thread can contain comments.\n\n1.2.4 rc5\n==========\n- Improved update chunks on package upgrade.\n- Fixed word \"Array\" when no tickets in section.\n- Added requirement of pdoTools 1.9.x.\n- Thread and comments are removed along with the page.\n- Added aggregate relationship \"Resource\" for TicketThread.\n- Added parameter \"context\" in snippet \"TicketForm\".\n- Action.php works with respect to contexts.\n- Fixed web/sections/getlist processor.\n- Changed permission in mgr/comment/update from \"update_document\" to \"comment_save\".\n\n1.2.4 rc1\n==========\n- Added two system settings: \"section_id_as_alias\" and \"ticket_id_as_alias\".\n- Added \"uri_override\" checkbox.\n- Improved snippets getTickets and getTicketsSection.\n- Improved snippet \"TicketForm\" - see new properties.\n- Improved chunks for working on iOS.\n- Updated chunks for Bootstrap 3.\n- Ability to update chunks on package upgrade.\n- Removed chunk \"tpl.Tickets.form.section.row\".\n- Fixed placeholder [[+children]] when fastMode = 0 in TicketComments.\n- Ability to move comment from one thread to another.\n- Improved check of users authentication.\n- [#54] Field idx in TicketsSection.\n- [#47] Auto hide \"new comment\" button.\n- [#43] Parameter &redirectUnpublished in TicketForm.\n\n1.2.3 pl3\n==========\n- Fixed requirement of TicketThread in snippet TicketLatest for showing last tickets.\n- Improved snippet TicketLatest.\n- [#52] Fixed checkboxes, again.\n- Fixed duplicate replies in TicketComments when fastMode = 0.\n- Removed user and email inputs in comment window in manager.\n\n1.2.2 pl\n==========\n- Fixed load of CMP scripts\n\n1.2.1 pl1\n==========\n- Fixed page with TicketsSection in manager for work in php 5.5.\n\n1.2.0 pl\n==========\n- Replaced virtual field \"comment\" in TicketThread to real.\n- Optimized snippet \"getTicketsSections\" for work on big sites.\n\n1.1.3 pl\n==========\n- [#50] Added button for ticket duplicate in section grid.\n- Improved two comboboxes in manager: \"createdon\" and \"parent\".\n\n1.1.2 pl\n==========\n- [#51] Fixed work of checkboxes in manager.\n\n1.1.1 pl\n==========\n- Improved load of pdoTools.\n- Improved registration of javascript on frontend.\n- Updated jQuery to version 1.10.2.\n- Updated jQuery.Form to version 20131017.\n- Added jQuery.Sisyphus for persisting your forms data in a browsers local storage.\n- [#49] Added action fields to Ticket actions for more Form Customization.\n- [#44] Fixed time format in tickets list.\n\n1.1.0 pl\n==========\n- Added parameter \"cacheTime\" for TicketLatest.\n- Fixed method Ticket::toArray().\n- Added placeholder [[+date_ago]] to class \"Ticket\". You can use $ticket->get(\'date_ago\');\n- Added new system parameter \"section_content_default\".\n- Fixed blank template when create new ticket if no \"tickets.default_template\" set.\n- Added more checkboxes for Ticket in manager.\n- Added new system parameters \"ticket_hidemenu_force\" and \"ticket_isfolder_force\". You can disable them.\n- If user edits ticket which was moved in the category into which the user has no rights, this category will be saved.\n\n1.1.0 rc2\n==========\n- Fixed snippets for work with pdoTools 1.8.0.\n\n1.1.0 rc1\n==========\n- Improved send of emails.\n- Fixed unsubscription message.\n- Email notifications are not sent to the authors of events.\n\n1.1.0 beta2\n==========\n- Unread comments class removes only when it refreshed manually.\n- Added JSON field \"properties\" to \"TicketComment\". Now you can store additional data in comments.\n- Functions json_encode() and json_decode() replaced to modX::toJSON() and modX::fromJSON().\n- Snippet \"TicketForm\" was completely rewrited.\n- Added parameters \"allowedFields\" and \"requiredFields\" to snippet \"TicketForm\". You can use TVs names.\n- Tickets created and updated through ajax without reload of form.\n- Error messages is not sticky anymore.\n\n1.1.0 beta\n==========\n- Added system setting \"tickets.mail_from\"\n- Added system setting \"tickets.mail_from_name\"\n- Added system setting \"tickets.mail_bcc\" for sending notifications for site admins.\n- Added system setting \"tickets.mail_bcc_level\" for setting level of admin notifications.\n- Added chunk \"tpl.Tickets.ticket.email.bcc\" for admin notification about new ticket.\n- Added chunk \"tpl.Tickets.comment.email.bcc\" for admin notification about new comment.\n- Added chunk \"tpl.Tickets.comment.email.subscription\" for notification of thread subscribers.\n- Improved responses from server through ajax.\n- New class \"TicketQueue\" for mail queue.\n- New methods: Tickets::addQueue(), TicketThread:isSubscribed() and Tickets::Subscribe() that using TicketThread::Subscribe().\n- Added system setting \"tickets.mail_queue\" for specifying whether to use delayed send of mail.\n- [#37] Fixed issue with loading incorrect TVs when create new Ticket.\n- [#35] Fixed javascript bug in comments, when \"autoPublish=0\".\n- [#34] Unprocessed placeholders are now removed from preview.\n- [#30] TicketsSection now has its own context menu in manager.\n- [#29] Fixed errors when snippet \"TicketLatest\" called before \"TicketComments\".\n- Fixed issue with change template when create new Ticket.\n- Fixed issue with hidden new comment, when you reply to another one, and it was changed while you typing.\n\n1.0.0 pl1 (requires pdoTools 1.4.1 or later)\n==========\n- Add ukrainian lang for frontend.\n- Improved all snippets.\n- Fixed parameter \"parents\" in \"TicketLatest\".\n\n1.0.0 rc4\n==========\n- Fixed comments bugs when work in limited depth mode.\n- Smooth scroll to just created comment.\n- Improved ajax update of comments.\n\n1.0.0 rc3\n==========\n- Comments fixes and improvements\n\n1.0.0 rc2\n==========\n- Added comments level dots in default css.\n- Added indication of unseen comments.\n- Added ajax navigation through new comments.\n- Added ajax fetching of new comments.\n- Fixed primary keys in model of component.\n- Added \"mode\" indication in comment save: \"preview\" or \"create\".\n- Improved gravatar hash generation.\n\n1.0.0 rc1\n==========\n- Improved snippet TicketLatest for displaying latest comments of user\n\n1.0.0 rc (requires pdoTools 1.2.0 or later)\n==========\n- Fixed default parameters of snippets. \"showLog\" and \"fastMode\" are now really disabled by default.\n- Rewrited snippet \"getTickets\". See snippet properties for details.\n- Rewrited snippet \"getTicketsSections\". See snippet properties for details.\n- Rewrited snippet \"TicketLatest\". See snippet properties for details.\n- Rewrited snippet \"TicketComments\". See snippet properties for details.\n- Updated awesome html editor \"MarkItUp\" to version 1.1.14.\n- Added system parameters \"tickets.frontend_js\" and \"tickets.frontend_css\" for loading scripts and styles.\n- Merged and rewrited default frontend styles and scripts.\n- Replaced Tickets::getChunk() by pdoTools::getChunk().\n- Added \"jGrowl\" script for frontend notifications.\n- [#5] Fixed bug with no field \"resource\" when preview comment.\n- [#6] Added parameter \"depth\" to snippet \"TicketComments\" for limitation thread depth.\n- [#7] Added parameter \"formBefore\" to snippet \"TicketComments\" for specify where to show form, before or after.\n- [#8] Sorting of thread comments depends from parameter \"formBefore\".\n- [#11], [#12] Added checking of parent comment status when you reply on it.\n- [#15] Added comments moderation. Check new parameter \"autoPublish\" of snippet \"TicketComments\".\n- [#18] Parameters of thread now saving in \"TicketThread\" object and updates on page refresh.\n- [mgr] Added ability to \"close\" thread. When thread is closed, comments are shown but adding new is disabled.\n- [mgr] Added ability to \"publish\" and \"unpublish\" comments.\n\n0.9.4\n==========\n- Fixed bug with ignoring default template of ticket on frontend.\n\n0.9.3\n==========\n- [mgr] Template fix on ticket create\n- [mgr] Fixed permissions for manage comments\n- [mgr] Fixed non-install of some system parameters\n- Improved snippets for calling them multiple times on one page\n- Improved verification of ticket fields when create\n- Fixed endless redirect on unpublished or deleted tickets\n- Parameter \"showLog\" is now disabled by default in snippets\n- Improved lexicons\n\n0.9.2\n==========\n- [mgr] Fixed bug with no refresh on ticket create.\n- Fixed alias of ticket, created from front.\n\n0.9.1\n==========\n- [mgr] Fixed bug with no changing author of the ticket when creating it in manager.\n- [mgr] Ability to change parent of the comment.\n- [mgr] Ability to specify alias of the ticket.\n- [mgr] Fixed empty dates in comment window.\n- Placeholder [[+date_ago]] in snippet TicketLatest now created from \"createdon\" property.\n\n0.9.0\n==========\n- Fixes for PHP 5.4\n- Fix error when update ticket with disabled \"automatic_alias\".\n- Deleted /component/tickets/pdotools/.\n- Automatic installation of pdoTools from MODX repository.\n- 2 new snippets: getTickets and getSections.\n- getTickets is set by default for empty Section content.\n- Changed chunk tpl.Tickets.list.row for displaying unread comments count.\n- New chunk tpl.Tickets.sections.row.\n\n0.8.3\n==========\n- MarkitUp javascript is now loadings at the bottom of web page.\n- Private tickets. If ticket has this param, users will must be have permission \"ticket_view_private\" for reading it. Otherwise they will be redirected to \"tickets.private_ticket_page\".\n- Fix processing MODX tags when edit comment.\n- Little chunks fixes because of ajax issue in some browsers.\n- Added parameter \"toPlaceholder\" to snippet TicketLatest.\n\n0.8.2\n==========\n- Fixed bug with empty string after Jevix sanitization, if there was some html entities, such as &_nbsp; or &_raquo;.\n- Added virtual field \"comments\" to class TicketThread. Now you can get it as they were natural with TicketThread::get() or TicketThread::toArray().\n- Update last comment id and last comment time in thread on comment remove.\n\n0.8.1\n==========\n- Added clearing cache of ticket on comments create\\update\\delete\\remove. Now you can call [[TicketComments]] cached and do not forget to activate next parameter.\n- New system parameter \"tickets.clear_cache_on_comment_save\". If false, tickets cache will not be cleared on comment. Use it with uncached snippet call.\n- No email notices on comments update.\n- Improved redirect to tickets in plugin. Now it understands any nesting level.\n\n0.8.0\n==========\n- [mgr] Added changing section of the ticket.\n- [mgr] Added tab with all comments.\n- Added editing of comments by author.\n- New system parameter \"tickets.comment_edit_time\". You can set number of seconds during which comment can be edited.\n- Added pretty dates formatting - Tickets::formatDate().\n- Added placeholder [[+date_ago]] to comments chunks.\n- Added placeholder [[+date_ago]] to last tickets and last comments chunks.\n- Added virtual fields \"comments\" and \"views\" to class TicketsSection. Now you can get it as they were natural with TicketsSection::get() or TicketsSection::toArray().\n- Improved chunks processing.\n- Normal MODX tags when update ticket on frontend. [[*id]] instead of &#091;&#091;*id&#093;&#093;\n- When you request ticket, that was moved into another section, with old url - user will be redirected to right page.\n\n0.7.0\n==========\n- [mgr] Fixed default settings when create new ticket.\n- Added placeholders of user profile in comments chunks.\n- Added plugins events\n- New system setting \"snippet_prepare_comment\" for custom prepare data of the comment.\n\n0.6.0\n==========\n- [mgr] Added Custom Manager Page for manage comments. Now you can use TicketComments without Tickets.\n- [mgr] Fixed selecting default template on ticket create.\n- Improved handling of MODX tags in Ticket::getContent.\n- Improved frontend javascript files for tickets and comments.\n- Removed parameters &useJs=`` and &useCss=`` from snippet TicketComments.\n- Added counting of ticket views by users.\n- Latest comments now respects status of resource. It must be published and not deleted.\n- Added disabling comments to ticket by setting flag \"deleted\" to comments thread.\n- Added virtual fields \"comments\" and \"views\" to class Ticket. Now you can get it as they were natural with Ticket::get() or Ticket::toArray().\n- Removed snippet getCommentsCount. Just use placeholder [[+comments]] or [[+views]] in chunks.\n- Added placeholders [[+comments]] and [[+views]] to ticket page.\n- Localized chunks.\n- Chunks and snippets now are static by default.\n\n0.5.0\n==========\n- [mgr] #2 Added support of TinyMCE\n- [mgr] Fixed maximize comment window.\n- [mgr] New ticket option \"disable Jevix\". If true - all content of the page will be displayed without filtration.\n- [mgr] New ticket option \"process MODX tags\". If true - all tags on ticket page will be processed by MODX parser.\n- [mgr] New system parameter \"disable_jevix_default\". Sets default value for new ticket.\n- [mgr] New system parameter \"process_tags_default\". Sets default value for new ticket.\n- Auto generation of introtext field by cutting text before tag <cut/> in ticket.\n- When displaying tickets, tag <cut/> transformed into anchor <a name=\"cut\"></a>\n- Improved getLatestComments - now much more faster.\n\n0.4.1\n==========\n- Added default content for TicketsSection in manager\n\n0.4.0\n==========\n- Fixed installer\n- Automatic installation of Jevix and creation of property sets for filter comments and tickets\n\n0.3.3\n==========\n- Improved Ticket class, for better work with its cache\n- Fixed work with dates on Ticket update\n\n0.3.2\n==========\n- Custom manager page for Ticket\n\n0.3.1\n==========\n- Security fixes\n- comment_save permission is enabled in TicketsUserPolicy by default\n- Snippet tagCut\n\n0.3.0\n==========\n- Custom manager page for TicketsSection\n\n0.2.0\n==========\n- Removed dependency on Quip. Now comments are very fast and handy.\n- Various improvements and bug fixes\n\n0.1.0\n==========\n- First beta\";s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:251:\"--------------------\nTickets\n--------------------\nAuthor: Vasiliy Naumkin <bezumkin@yandex.ru>\n--------------------\n\nTickets system for MODX Revolution.\n\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttp://github.com/bezumkin/Tickets/issues\";s:6:\"chunks\";a:28:{s:29:\"tpl.Tickets.comment.email.bcc\";s:230:\"[[%ticket_comment_email_bcc_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_view]]</a>\n\";s:31:\"tpl.Tickets.comment.email.owner\";s:232:\"[[%ticket_comment_email_owner_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_reply]]</a>\";s:31:\"tpl.Tickets.comment.email.reply\";s:308:\"[[%ticket_comment_email_reply_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_reply]]</a>\n<br/><br/>\n\n[[%ticket_comment_email_reply_text]]\n<pre>[[+parent_text]]</pre>\";s:38:\"tpl.Tickets.comment.email.subscription\";s:238:\"[[%ticket_comment_email_subscription_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+resource]]?scheme=`full`]]#comment-[[+id]]\">[[%ticket_email_view]]</a>\";s:37:\"tpl.Tickets.comment.email.unpublished\";s:213:\"[[%ticket_comment_email_unpublished_intro?\n&name=`[[+name]]`\n&resource=`[[+resource]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre>[[+text]]</pre>\n<br/><br/>\n\n<a href=\"[[+manager_url]]\">[[%ticket_email_all_comments]]</a>\";s:24:\"tpl.Tickets.comment.form\";s:1034:\"<h4 id=\"comment-new-link\">\n    <a href=\"#\" class=\"btn btn-default\">[[%ticket_comment_create]]</a>\n</h4>\n\n<div id=\"comment-form-placeholder\">\n    <form id=\"comment-form\" action=\"\" method=\"post\" class=\"well\">\n        <div id=\"comment-preview-placeholder\"></div>\n        <input type=\"hidden\" name=\"thread\" value=\"[[+thread]]\"/>\n        <input type=\"hidden\" name=\"parent\" value=\"0\"/>\n        <input type=\"hidden\" name=\"id\" value=\"0\"/>\n\n        <div class=\"form-group\">\n            <label for=\"comment-editor\"></label>\n            <textarea name=\"text\" id=\"comment-editor\" cols=\"30\" rows=\"10\" class=\"form-control\"></textarea>\n        </div>\n\n        <div class=\"form-actions\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_comment_preview]]\"\n                   title=\"Ctrl + Enter\"/>\n            <input type=\"submit\" class=\"btn btn-primary submit\" value=\"[[%ticket_comment_save]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n            <span class=\"time\"></span>\n        </div>\n    </form>\n</div>\";s:30:\"tpl.Tickets.comment.form.guest\";s:1841:\"<h4 id=\"comment-new-link\">\n    <a href=\"#\" class=\"btn btn-default\">[[%ticket_comment_create]]</a>\n</h4>\n\n<div id=\"comment-form-placeholder\">\n    <form id=\"comment-form\" action=\"\" method=\"post\" class=\"well\">\n        <div id=\"comment-preview-placeholder\"></div>\n        <input type=\"hidden\" name=\"thread\" value=\"[[+thread]]\"/>\n        <input type=\"hidden\" name=\"parent\" value=\"0\"/>\n        <input type=\"hidden\" name=\"id\" value=\"0\"/>\n\n        <div class=\"form-group\">\n            <label for=\"comment-name\">[[%ticket_comment_name]]</label>\n            <input type=\"text\" name=\"name\" value=\"[[+name]]\" id=\"comment-name\" class=\"form-control\"/>\n            <span class=\"error\"></span>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"comment-email\">[[%ticket_comment_email]]</label>\n            <input type=\"text\" name=\"email\" value=\"[[+email]]\" id=\"comment-email\" class=\"form-control\"/>\n            <span class=\"error\"></span>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"comment-editor\"></label>\n            <textarea name=\"text\" id=\"comment-editor\" cols=\"30\" rows=\"10\" class=\"form-control\"></textarea>\n        </div>\n\n        [[+captcha]]\n\n        <div class=\"form-actions\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_comment_preview]]\"\n                   title=\"Ctrl + Enter\"/>\n            <input type=\"submit\" class=\"btn btn-primary submit\" value=\"[[%ticket_comment_save]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n            <span class=\"time\"></span>\n        </div>\n    </form>\n</div>\n\n<!--tickets_captcha\n<div class=\"form-group\">\n    <label for=\"comment-captcha\" id=\"comment-captcha\">[[+captcha]]</label>\n    <input type=\"text\" name=\"captcha\" value=\"\" id=\"comment-captcha\" class=\"form-control\" />\n    <span class=\"error\"></span>\n</div>\n-->\";s:26:\"tpl.Tickets.comment.latest\";s:462:\"<div class=\"tickets-latest-row[[+guest]]\">\n    <span class=\"user\"><i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]</span> <span\n            class=\"date\">[[+date_ago]]</span>\n    <br/>\n    <span class=\"ticket\">\n        <a href=\"[[~[[+ticket.id]]]]#comment-[[+id]]\">[[+ticket.pagetitle]]</a>\n    </span>\n    <nobr><i class=\"glyphicon glyphicon-comment\"></i> <span class=\"comments\">[[+comments]]</span></nobr>\n</div>\n<!--tickets_guest  ticket-comment-guest-->\";s:28:\"tpl.Tickets.comment.list.row\";s:2279:\"<div class=\"ticket-comment-row ticket-comment\" id=\"comment-[[+id]]\" data-id=\"[[+id]]\">\n    <div class=\"ticket-comment-body[[+guest]]\">\n        <div class=\"ticket-comment-header\">\n            <img src=\"[[+avatar]]\" class=\"ticket-avatar\" alt=\"\"/>\n            <span class=\"ticket-comment-author\">[[+fullname]]</span>\n            <span class=\"ticket-comment-createdon\">[[+date_ago]]</span>[[+comment_was_edited]]\n            <span class=\"ticket-comment-link\"><a href=\"[[+url]]#comment-[[+id]]\">#</a></span>\n            <span class=\"ticket-comment-star[[+can_star]]\">[[+stared]][[+unstared]]</span>\n\n            <span class=\"ticket-comment-rating[[+can_vote]][[+cant_vote]]\">\n                <span class=\"rating[[+rating_positive]][[+rating_negative]]\"\n                      title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>\n                <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\"><i\n                            class=\"glyphicon glyphicon-arrow-up\"></i></span>\n                <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\"><i\n                            class=\"glyphicon glyphicon-arrow-down\"></i></span>\n            </span>\n        </div>\n        <div class=\"ticket-comment-text\">\n            [[+text]]\n        </div>\n    </div>\n\n    <a href=\"[[~[[+section.id]]]]\" class=\"ticket-comment-section\"><i class=\"glyphicon glyphicon-folder-open\"></i>\n        [[+section.pagetitle]]</a> &rarr;\n    <a href=\"[[~[[+ticket.id]]]]\" class=\"ticket-comment-ticket\">[[+ticket.pagetitle]]</a> &nbsp;\n    <span class=\"ticket-comment-comments\"><i class=\"glyphicon glyphicon-comment\"></i> [[+comments]]</span>\n</div>\n<!--tickets_comment_was_edited <span class=\"ticket-comment-edited\">([[%ticket_comment_was_edited]])</span>-->\n<!--tickets_can_vote  active-->\n<!--tickets_cant_vote  inactive-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_guest  ticket-comment-guest-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->\";s:25:\"tpl.Tickets.comment.login\";s:99:\"<div class=\"ticket-comments alert alert-warning\">\n    <p>[[%ticket_comment_err_no_auth]]</p>\n</div>\";s:28:\"tpl.Tickets.comment.one.auth\";s:2709:\"<li class=\"ticket-comment[[+comment_new]]\" id=\"comment-[[+id]]\" data-parent=\"[[+parent]]\"\n    data-newparent=\"[[+new_parent]]\" data-id=\"[[+id]]\">\n    <div class=\"ticket-comment-body[[+guest]][[+bad]]\">\n        <div class=\"ticket-comment-header\">\n            <div class=\"ticket-comment-dot-wrapper\">\n                <div class=\"ticket-comment-dot\"></div>\n            </div>\n            <img src=\"[[+avatar]]\" class=\"ticket-avatar\" alt=\"\"/>\n            <span class=\"ticket-comment-author\">[[+fullname]]</span>\n            <span class=\"ticket-comment-createdon\">[[+date_ago]]</span>[[+comment_was_edited]]\n            <span class=\"ticket-comment-link\"><a href=\"[[+url]]#comment-[[+id]]\">#</a></span>\n            <span class=\"ticket-comment-star[[+can_star]]\">[[+stared]][[+unstared]]</span>\n            [[+has_parent]]\n            <span class=\"ticket-comment-down\"><a href=\"#\" data-child=\"\">&darr;</a></span>\n            <span class=\"ticket-comment-rating[[+can_vote]][[+cant_vote]]\">\n                <span class=\"rating[[+rating_positive]][[+rating_negative]]\"\n                      title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>\n                <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\"><i\n                            class=\"glyphicon glyphicon-arrow-up\"></i></span>\n                <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\"><i\n                            class=\"glyphicon glyphicon-arrow-down\"></i></span>\n            </span>\n        </div>\n        <div class=\"ticket-comment-text\">\n            [[+text]]\n        </div>\n    </div>\n    <div class=\"comment-reply\">\n        <a href=\"#\" class=\"reply\">[[%ticket_comment_reply]]</a>\n        [[+comment_edit_link]]\n    </div>\n    <ol class=\"comments-list\">[[+children]]</ol>\n</li>\n<!--tickets_comment_edit_link <a href=\"#\" class=\"edit\">[[%ticket_comment_edit]]</a>-->\n<!--tickets_comment_was_edited <span class=\"ticket-comment-edited\">([[%ticket_comment_was_edited]])</span>-->\n<!--tickets_comment_new  ticket-comment-new-->\n<!--tickets_can_vote  active-->\n<!--tickets_cant_vote  inactive-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_guest  ticket-comment-guest-->\n<!--tickets_has_parent <span class=\"ticket-comment-up\"><a href=\"[[+url]]#comment-[[+parent]]\" data-id=\"[[+id]]\" data-parent=\"[[+parent]]\">&uarr;</a></span>-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->\n\";s:31:\"tpl.Tickets.comment.one.deleted\";s:214:\"<li class=\"ticket-comment\" id=\"comment-[[+id]]\">\n    <div class=\"ticket-comment-body alert alert-warning\">\n        [[%ticket_comment_deleted_text]]\n    </div>\n    <ol class=\"comments-list\">[[+children]]</ol>\n</li>\n\";s:29:\"tpl.Tickets.comment.one.guest\";s:1605:\"<li class=\"ticket-comment\" id=\"comment-[[+id]]\">\n    <div class=\"ticket-comment-body[[+bad]]\">\n        <div class=\"ticket-comment-header\">\n            <div class=\"ticket-comment-dot-wrapper\">\n                <div class=\"ticket-comment-dot\"></div>\n            </div>\n            <img src=\"[[+avatar]]\" class=\"ticket-avatar\" alt=\"\"/>\n            <span class=\"ticket-comment-author\">[[+fullname]]</span>\n            <span class=\"ticket-comment-createdon\">[[+date_ago]]</span>\n            <span class=\"ticket-comment-link\"><a href=\"[[+url]]#comment-[[+id]]\">#</a></span>\n\n            [[+has_parent]]\n            <span class=\"ticket-comment-down\"><a href=\"#\" data-child=\"\">&darr;</a></span>\n\n            <span class=\"ticket-comment-rating inactive\">\n                <span class=\"rating[[+rating_positive]][[+rating_negative]]\">\n                    [[+rating]]\n                </span>\n                <span class=\"plus\" title=\"[[%ticket_like]]\">\n                    <i class=\"glyphicon glyphicon-arrow-up\"></i>\n                </span>\n                <span class=\"minus\" title=\"[[%ticket_dislike]]\">\n                    <i class=\"glyphicon glyphicon-arrow-down\"></i>\n                </span>\n            </span>\n        </div>\n        <div class=\"ticket-comment-text\">\n            [[+text]]\n        </div>\n    </div>\n    <ol class=\"comments-list\">[[+children]]</ol>\n</li>\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_has_parent <span class=\"ticket-comment-up\"><a href=\"[[+url]]#comment-[[+parent]]\" data-id=\"[[+id]]\" data-parent=\"[[+parent]]\">&uarr;</a></span>-->\";s:27:\"tpl.Tickets.comment.wrapper\";s:700:\"<div class=\"comments\">\n    [[+modx.user.id:isloggedin:is=`1`:then=`\n    <span class=\"comments-subscribe pull-right\">\n        <label for=\"comments-subscribe\" class=\"checkbox\">\n            <input type=\"checkbox\" name=\"\" id=\"comments-subscribe\" value=\"1\" [[+subscribed]]/> [[%ticket_comment_notify]]\n        </label>\n    </span>\n    `:else=``]]\n\n    <h3 class=\"title\">[[%comments]] (<span id=\"comment-total\">[[+total]]</span>)</h3>\n\n    <div id=\"comments-wrapper\">\n        <ol class=\"comment-list\" id=\"comments\">[[+comments]]</ol>\n    </div>\n\n    <div id=\"comments-tpanel\">\n        <div id=\"tpanel-refresh\"></div>\n        <div id=\"tpanel-new\"></div>\n    </div>\n</div>\n\n<!--tickets_subscribed checked-->\n\";s:23:\"tpl.Tickets.form.create\";s:1545:\"<form class=\"well create\" method=\"post\" action=\"\" id=\"ticketForm\">\n    <div id=\"ticket-preview-placeholder\"></div>\n\n    <input type=\"hidden\" name=\"tid\" value=\"0\"/>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-sections\">[[%tickets_section]]</label>\n        <select name=\"parent\" class=\"form-control\" id=\"ticket-sections\">[[+sections]]</select>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-pagetitle\">[[%ticket_pagetitle]]</label>\n        <input type=\"text\" class=\"form-control\" placeholder=\"[[%ticket_pagetitle]]\" name=\"pagetitle\" value=\"\"\n               maxlength=\"50\" id=\"ticket-pagetitle\"/>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <textarea class=\"form-control\" placeholder=\"[[%ticket_content]]\" name=\"content\" id=\"ticket-editor\"\n                  rows=\"10\"></textarea>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"ticket-form-files\">\n        [[+files]]\n    </div>\n\n    <div class=\"form-actions row\">\n        <div class=\"col-md-6\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_preview]]\" title=\"Ctrl + Enter\"/>\n        </div>\n        <div class=\"col-md-6 move-right\">\n            <input type=\"button\" class=\"btn btn-primary publish\" name=\"publish\" value=\"[[%ticket_publish]]\" title=\"\"/>\n            <input type=\"submit\" class=\"btn btn-danger draft\" name=\"draft\" value=\"[[%ticket_draft]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n        </div>\n    </div>\n</form>\";s:21:\"tpl.Tickets.form.file\";s:848:\"<div class=\"ticket-file[[+deleted]][[+new]]\" data-id=\"[[+id]]\">\n    <a href=\"[[+url]]\" class=\"ticket-file-link\" title=\"[[+file]]\" target=\"_blank\">\n        <div class=\"ticket-file-image-wrapper\">\n            [[+file]]\n        </div>\n    </a>\n    <div class=\"ticket-file-meta\">\n        <a href=\"#\" class=\"ticket-file-delete\">[[%ticket_file_delete]]</a>\n        <a href=\"#\" class=\"ticket-file-restore\">[[%ticket_file_restore]]</a>\n        <br/>\n        <a href=\"#\" class=\"ticket-file-insert\">[[%ticket_file_insert]]</a>\n        <br/>\n        <span class=\"ticket-file-size\">[[+size]] Kb</span>\n    </div>\n    <div class=\"ticket-file-template\">\n        <a href=\"[[+url]]\">\n            [[+name]]\n        </a>\n    </div>\n</div>\n<!--tickets_thumb <img src=\"[[+thumb]]\" class=\"ticket-file-image\" />-->\n<!--tickets_deleted  deleted-->\n<!--tickets_new  new-->\";s:22:\"tpl.Tickets.form.files\";s:454:\"<div id=\"ticket-files-list\">\n    [[+files]]\n    <div class=\"clearfix\"></div>\n</div>\n\n<div id=\"ticket-files-container\" data-action=\"ticket/file/upload\">\n    <a id=\"ticket-files-select\" href=\"javascript:;\">[[%ticket_file_select]]</a>\n    <div id=\"ticket-files-progress\">\n        <span id=\"ticket-files-progress-count\">0/0</span>\n        <span id=\"ticket-files-progress-percent\">0%</span>\n        <div id=\"ticket-files-progress-bar\"></div>\n    </div>\n</div>\";s:22:\"tpl.Tickets.form.image\";s:848:\"<div class=\"ticket-file[[+deleted]][[+new]]\" data-id=\"[[+id]]\">\n    <a href=\"[[+url]]\" class=\"ticket-file-link\" title=\"[[+file]]\" target=\"_blank\">\n        <div class=\"ticket-file-image-wrapper\">\n            <img src=\"[[+thumb]]\" class=\"ticket-file-image\"/>\n        </div>\n    </a>\n    <div class=\"ticket-file-meta\">\n        <a href=\"#\" class=\"ticket-file-delete\">[[%ticket_file_delete]]</a>\n        <a href=\"#\" class=\"ticket-file-restore\">[[%ticket_file_restore]]</a>\n        <br/>\n        <a href=\"#\" class=\"ticket-file-insert\">[[%ticket_file_insert]]</a>\n        <br/>\n        <span class=\"ticket-file-size\">[[+size]] Kb</span>\n    </div>\n    <div class=\"ticket-file-template\">\n        <a href=\"[[+url]]\" title=\"[[+name]]\">\n            <img src=\"[[+thumb]]\"/>\n        </a>\n    </div>\n</div>\n<!--tickets_deleted  deleted-->\n<!--tickets_new  new-->\";s:24:\"tpl.Tickets.form.preview\";s:140:\"<h3 class=\"title\">[[+pagetitle]]</h3>\n<div class=\"content\">[[+content]]</div>\n<h5 class=\"author\">[[+modx.user.id:userinfo=`username`]]</h5>\n\";s:23:\"tpl.Tickets.form.update\";s:1863:\"<form class=\"well update\" method=\"post\" action=\"\" id=\"ticketForm\">\n    <div id=\"ticket-preview-placeholder\"></div>\n\n    <input type=\"hidden\" name=\"tid\" value=\"[[+id]]\"/>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-sections\">[[%tickets_section]]</label>\n        <select name=\"parent\" class=\"form-control\" id=\"ticket-sections\">[[+sections]]</select>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <label for=\"ticket-pagetitle\">[[%ticket_pagetitle]]</label>\n        <input type=\"text\" class=\"form-control\" placeholder=\"[[%ticket_pagetitle]]\" name=\"pagetitle\"\n               value=\"[[+pagetitle]]\" maxlength=\"50\" id=\"ticket-pagetitle\"/>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"form-group\">\n        <textarea class=\"form-control\" placeholder=\"[[%ticket_content]]\" name=\"content\" id=\"ticket-editor\" rows=\"10\">[[+content]]</textarea>\n        <span class=\"error\"></span>\n    </div>\n\n    <div class=\"ticket-form-files\">\n        [[+files]]\n    </div>\n\n    <div class=\"form-actions row\">\n        <div class=\"col-md-6\">\n            <input type=\"button\" class=\"btn btn-default preview\" value=\"[[%ticket_preview]]\" title=\"Ctrl + Enter\"/>\n        </div>\n        <div class=\"col-md-6 move-right\">\n            [[!+published:is=`1`:then=`\n            <a href=\"[[~[[+id]]?scheme=`full`]]\" class=\"btn btn-default btn-xs\" target=\"_blank\">[[%ticket_open]]</a>\n            <input type=\"button\" class=\"btn btn-danger draft\" name=\"draft\" value=\"[[%ticket_draft]]\" title=\"\"/>\n            `:else=`\n            <input type=\"button\" class=\"btn btn-primary publish\" name=\"publish\" value=\"[[%ticket_publish]]\" title=\"\"/>\n            `]]\n            <input type=\"submit\" class=\"btn btn-default save\" name=\"save\" value=\"[[%ticket_save]]\"\n                   title=\"Ctrl + Shift + Enter\"/>\n        </div>\n    </div>\n</form>\";s:20:\"tpl.Tickets.list.row\";s:2357:\"<div class=\"tickets-row\">\n    <h3 class=\"title\"><a href=\"[[~[[+id]]]]\">[[+pagetitle]]</a></h3>\n    <div class=\"content\">\n        [[+introtext]]<br/>\n        <a href=\"[[~[[+id]]]]#cut\" class=\"btn btn-default ticket-read-more\">[[%ticket_read_more]]</a>\n    </div>\n    <div class=\"ticket-meta row\" data-id=\"[[+id]]\">\n        <span class=\"col-md-5\">\n            <i class=\"glyphicon glyphicon-calendar\"></i> [[+date_ago]]\n            &nbsp;&nbsp;\n            <i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]\n        </span>\n        <span class=\"col-md-2\"><a href=\"[[~[[+section.id]]]]\"><i class=\"glyphicon glyphicon-folder-open\"></i> [[+section.pagetitle]]</a></span>\n        <span class=\"col-md-3\">\n            <span class=\"ticket-star[[+can_star]]\">[[+stared]][[+unstared]] <span\n                        class=\"ticket-star-count\">[[+stars]]</span></span>\n            &nbsp;&nbsp;\n            <i class=\"glyphicon glyphicon-eye-open\"></i> [[+views]]\n            &nbsp;&nbsp;\n            <i class=\"glyphicon glyphicon-comment\"></i> [[+comments]]  [[+new_comments]]\n        </span>\n        <span class=\"col-md-2 pull-right ticket-rating[[+active]][[+inactive]]\">\n            <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\"><i class=\"glyphicon glyphicon-arrow-up\"></i></span>\n            [[+can_vote]][[+cant_vote]]\n            <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\"><i\n                        class=\"glyphicon glyphicon-arrow-down\"></i></span>\n        </span>\n    </div>\n</div>\n<!--tickets_can_vote <span class=\"vote rating\" title=\"[[%ticket_refrain]]\"><i class=\"glyphicon glyphicon-minus\"></i></span>-->\n<!--tickets_cant_vote <span class=\"rating[[+rating_positive]][[+rating_negative]]\" title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>-->\n<!--tickets_new_comments <span class=\"ticket-new-comments\">+[[+new_comments]]</span>-->\n<!--tickets_active  active-->\n<!--tickets_inactive  inactive-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->\";s:16:\"tpl.Tickets.meta\";s:1976:\"<div class=\"ticket-meta row\" data-id=\"[[+id]]\">\n    <span class=\"col-md-5\">\n        <i class=\"glyphicon glyphicon-calendar\"></i> [[+date_ago]]\n        &nbsp;&nbsp;\n        <i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]\n    </span>\n    <span class=\"col-md-2\"><a href=\"[[~[[+section.id]]]]\">\n            <i class=\"glyphicon glyphicon-folder-open\"></i> [[+section.pagetitle]]</a>\n    </span>\n    <span class=\"col-md-2\">\n        <span class=\"ticket-star[[+can_star]]\">[[+stared]][[+unstared]] <span\n                    class=\"ticket-star-count\">[[+stars]]</span></span>\n        &nbsp;&nbsp;\n        <i class=\"glyphicon glyphicon-eye-open\"></i> [[+views]]\n    </span>\n    <span class=\"pull-right ticket-rating[[+active]][[+inactive]]\">\n        <span class=\"vote plus[[+voted_plus]]\" title=\"[[%ticket_like]]\">\n            <i class=\"glyphicon glyphicon-arrow-up\"></i>\n        </span>\n        [[+can_vote]][[+cant_vote]]\n        <span class=\"vote minus[[+voted_minus]]\" title=\"[[%ticket_dislike]]\">\n            <i class=\"glyphicon glyphicon-arrow-down\"></i>\n        </span>\n    </span>\n</div>\n[[+has_files]]\n\n<!--tickets_can_vote <span class=\"vote rating\" title=\"[[%ticket_refrain]]\"><i class=\"glyphicon glyphicon-minus\"></i></span>-->\n<!--tickets_cant_vote <span class=\"rating[[+rating_positive]][[+rating_negative]]\" title=\"[[%ticket_rating_total]] [[+rating_total]]: ↑[[+rating_plus]] [[%ticket_rating_and]] ↓[[+rating_minus]]\">[[+rating]]</span>-->\n<!--tickets_active  active-->\n<!--tickets_inactive  inactive-->\n<!--tickets_voted_plus  voted-->\n<!--tickets_voted_minus  voted-->\n<!--tickets_rating_positive  positive-->\n<!--tickets_rating_negative  negative-->\n<!--tickets_has_files\n<ul class=\"ticket-files\">\n    <strong>[[%ticket_uploaded_files]]:</strong>\n    [[+files]]\n</ul>-->\n<!--tickets_can_star  active-->\n<!--tickets_stared <i class=\"glyphicon glyphicon-star stared star\"></i>-->\n<!--tickets_unstared <i class=\"glyphicon glyphicon-star unstared star\"></i>-->\";s:21:\"tpl.Tickets.meta.file\";s:76:\"<li>\n    <a href=\"[[+url]]\" target=\"_blank\">[[+name]]</a> [[+size]] kb\n</li>\";s:24:\"tpl.Tickets.sections.row\";s:486:\"<div class=\"section-row\">\n    <h3 class=\"title\"><a href=\"[[~[[+id]]]]\">[[+pagetitle]]</a></h3>\n    <div class=\"content\">\n        [[+introtext]]\n    </div>\n    <div class=\"section-meta row\">\n        <div class=\"col-md-1\"><i class=\"glyphicon glyphicon-th-list\"></i> [[+tickets]]</div>\n        <div class=\"col-md-1\"><i class=\"glyphicon glyphicon-eye-open\"></i> [[+views]]</div>\n        <div class=\"col-md-1\"><i class=\"glyphicon glyphicon-comment\"></i> [[+comments]]</div>\n    </div>\n</div>\";s:28:\"tpl.Tickets.sections.wrapper\";s:391:\"[[+modx.user.id:isloggedin:is=`1`:then=`\n<span class=\"tickets-subscribe pull-right\">\n    <label for=\"tickets-subscribe\" class=\"checkbox\">\n        <input type=\"checkbox\" name=\"\" id=\"tickets-subscribe\" value=\"1\" data-id=\"[[*id]]\"\n               [[+subscribed:notempty=`checked`]]/> [[%tickets_section_notify]]\n    </label>\n</span>\n`:else=``]]\n\n<div class=\"tickets-list\">\n    [[+output]]\n</div>\";s:28:\"tpl.Tickets.ticket.email.bcc\";s:264:\"[[%ticket_email_bcc_intro?\n&fullname=`[[+user.fullname]]`\n&email=`[[+user.email]]`\n&id=`[[+id]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre style=\"background-color:#efefef;\">[[+introtext]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+id]]?scheme=`full`]]\">[[%ticket_email_view]]</a>\";s:37:\"tpl.Tickets.ticket.email.subscription\";s:313:\"[[%ticket_email_subscribed_intro?\n&id=`[[+id]]`\n&fullname=`[[+user.fullname]]`\n&section=`[[+section.id]]`\n&section_title=`[[+section.pagetitle]]`\n&pagetitle=`[[+pagetitle]]`\n]]\n\n<pre style=\"background-color:#efefef;\">[[+introtext]]</pre>\n<br/><br/>\n\n<a href=\"[[~[[+id]]?scheme=`full`]]\">[[%ticket_email_view]]</a>\";s:25:\"tpl.Tickets.ticket.latest\";s:582:\"<div class=\"tickets-latest-row\">\n    <span class=\"user\"><i class=\"glyphicon glyphicon-user\"></i> [[+fullname]]</span> <span\n            class=\"date\">[[+date_ago]]</span>\n    <br/>\n    <span class=\"section\">\n        <i class=\"glyphicon glyphicon-folder-open\"></i> <a href=\"[[~[[+section.id]]]]\">[[+section.pagetitle]]</a> <span\n                class=\"arrow\">&rarr;</span>\n    </span>\n    <span class=\"ticket\">\n        <a href=\"[[~[[+id]]]]\">[[+pagetitle]]</a>\n    </span>\n    <nobr><i class=\"glyphicon glyphicon-comment\"></i> <span class=\"comments\">[[+comments]]</span></nobr>\n</div>\";}s:13:\"setup-options\";s:34:\"tickets-1.8.1-pl/setup-options.php\";}',	'Tickets',	NULL,	1,	8,	1,	'pl',	0),
('formit-3.0.2-pl',	'2017-09-03 02:33:16',	'2017-09-03 14:34:11',	'2017-09-03 14:33:19',	0,	1,	1,	0,	'formit-3.0.2-pl.transport.zip',	NULL,	'a:4:{s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:213:\"--------------------\nSnippet: FormIt\n--------------------\nAuthor: Shaun McCormick <shaun@modx.com>\n\nA form processing Snippet for MODx Revolution.\n\nOfficial Documentation:\nhttp://rtfm.modx.com/display/ADDON/FormIt\";s:9:\"changelog\";s:14730:\"Changelog for FormIt.\n\nFormIt 3.0.2\n====================================\n- Fix encryption in formitsaveform snippet to save correct encryption_type\n- Fix bug in forms grid when decrypting encrypted forms fail\n- Fix migration to check if decrypted data is correct\n\nFormIt 3.0.1\n====================================\n- Store file uploads in tmp folder to prevent file uploads getting lost in multistep forms\n- Add checks for OpenSSL in classes and encryption CMP tab\n- Add method_exists check to plugin to prevent errors when method not exists\n- Update context-menu in forms-encryption grid to show only encrypt or decrypt\n- Set placeholders for file upload $_FILES array\n- Add option to FormItCountryOptions snippet to limit country list to selected countries only (PR#123) - thanks to gadgetto\n\nFormIt 3.0.0\n====================================\n- PLEASE NOTE: THIS UPDATE CONTAINS A MIGRATION SCRIPT FOR ENCRYPTED FORMS - Read more about it at https://github.com/Sterc/FormIt\n- Mcrypt encryption/decryption methods replaced with openssl due to mcrypt being deprecated in PHP 7.1\n- Add default file-based chunks as objects\n- Add support for pdoTools getChunk method, thanks to soulcreate and bezumkin (PR#89)\n- Add French countries for FormItCountryOptions, thanks to beau-gosse (PR#109)\n- Add Dutch countries for FormItCountryOptions, thanks to visvoer (PR#110)\n- Add extjs stateful parameters to CMP tabs\n\nFormIt 2.2.11\n====================================\n- Added storeLocation property to FormIt and FormItRetriever. (issue #95, PR #105#106#107)\n- Changed default behaviour of emailReplyTo parameter to fallback to email field in form (issue #101)\n- Changed math hook to store values in session, preventing easy bypass of math hook (issue #64)\n- Add GPM config\n- Fix bug with multiple file upload (PR #104)\n- Add \'hash\' field to FormItSaveForm to allow updating of previously saved forms (PR #94)\n- Add FormItLoadSavedForm snippet to retrieve saved forms (PR #94)\n- Fix for export with datefilter (issue #96, PR #97)\n- Add fiarRequired property (PR#83)\n- Update resolver to check for current version to prevent errors on upgrade\n- Add system setting for form_encryptkey, to not rely on site_id (issue #68)\n- Fix saved forms export when using encrypted forms (issue #48)\n\nFormIt 2.2.10\n====================================\n- Merged PR#58: Added BOM for Excel to understand UTF-8 non-latin symbols properly. (thanks to govza)\n- Merged PR#73: JSON output options for errors and hooks\n- Merged PR#79: Create German lexicon for FormIt-CMP (thanks to sebastian-marinescu)\n\nFormIt 2.2.9\n====================================\n- Merging PR#74 from Jako which solves multiple issues.\n- Fix XSS vulnerabilities\n- Javascript code cleanup\n- Fix empty math operator after form submission #d782c29\n\nFormIt 2.2.8\n====================================\n- Fixed export limit and added form dropdown paging #60\n- Fixed typo property lexicons #57\n- Added templates path to config #63\n- Added loading lexicons in ficountryoptions class #21\n- Added ability to dynamically set formName by setting placeholder inside formName equal to an existing form field key #45\n\nFormIt 2.2.7\n====================================\n- Optimised export\n\nFormIt 2.2.6\n====================================\n- Fixed empty placeholder for file field in autoresponder\n\nFormIt 2.2.5\n====================================\n- Fixed creating table on update\n- Added new tab inside CMP for managing encryption\n- Added missing br on auto emailTpl\n\nFormIt 2.2.4\n====================================\n- Fixed bug inside FormItSaveForm and PR #43\n\nFormIt 2.2.3\n====================================\n- Added encryption to saved forms\n- Added formname to grid\n- Saved form is now returned from the hook\n- Export unlimited items\n- Add RU translation\n\nFormIt 2.2.2\n====================================\n- Added CMP for the saved forms\n- Fixed whitespace PR on required checkboxes\n\nFormIt 2.2.1\n====================================\n- Updated numbers generation for math captcha #5\n- German translation #10\n- Added missing formit.not_regexp lexicon #15\n- Specify explicitely return-path fixes #19 #20\n- fix addAttachment() typo #23\n- Fixed typo in adding of the attachments #24\n- Add the possibility of redirectTo=`formfield` #26\n- Added attachments for auto-reply and Added ability to use @CODE as tpl #29\n- Update snippet.formitisselected.php #12\n- Canadian options for FormitStateOptions\n\nFormIt 2.2.0\n====================================\n- [#8382] Prevent issue with checkboxes/radios causing text-parsing problems with required validator\n- Fixed issue with custom error message for vTextPasswordConfirm not respected\n- [#9457] Fixed issue with commas in values causing errors with FormItIsChecked & FormItIsSelected\n- [#9576] Add ability to translate country options\n- Add check for preHook errors before processing postHooks\n- Add option, defaulting true, to trim spaces from sides of values before validation\n- [#8785] Fix E_STRICT error in fiDictionary\n\nFormIt 2.1.2\n====================================\n- Various language updates\n- [#7250] Fix issue with 0 not passing :required filter\n\nFormIt 2.1.1\n====================================\n- [#8204] Fix issue with FormItAutoResponder and processing of MODX tags\n\nFormIt 2.1.0\n====================================\n- [#7620] Allow for MODX tags in email templates, as well as pass-through of snippet properties to tpl\n- [#7502] Add ability to find type of hook by using $hook->type\n- [#8151] More sanity checking for FormItAutoResponder and replyTo addresses\n- Fix useIsoCode issue in FormItCountryOptions\n- Update German translation\n- Enhance validation templating for validationErrorBulkTpl\n- Add &country option to FormItStateOptions to allow loading of non-US states (currently us/de)\n\nFormIt 2.0.3\n====================================\n- Update Czech translation\n- Fix issue with French accents in translation\n- [#6021] Refactor Russian reCaptcha translations\n- [#6618] Standardize XHTML in reCaptcha usage\n\nFormIt 2.0.2\n====================================\n- [#4864] Fix issue with isNumber not allowing blank fields\n- [#5404] Fix issues with checkboxes and array fields in FormItAutoResponder\n- [#5269] Fix issues with checkboxes in various forms in emails\n- [#5792] Update reCaptcha URLs\n\nFormIt 2.0.1\n====================================\n- [#5525] Add &allowFiles property, that when set to 0, prevents file submissions on form\n- [#5484] Fix issue with double validation error spans\n- Fix issue where config was not passed to hooks\n- Update German translation\n\nFormIt 2.0.0\n====================================\n- [#3514] Add ability to customize validator error messages per FormIt form and per field\n- [#4705] Add regexp validator\n- [#5454] Fix issue with customValidators property in 2.0.0-rc2\n- Major reworking of main FormIt script to be OOP\n- Add over 150 unit tests to prevent regression\n- [#5388], [#5240] Fix issue with FormItCountryOptions and &useIsoCode\n- Fix issue with FormItStateOptions and &useAbbr\n- [#5267] Fix issue with FormItRetriever and array fields\n\nFormIt 1.7.0\n====================================\n- Add ability to have \"Frequent Visitors\" optgroup in FormItCountryOptions, moving specified countries to the top of the list in an optgroup\n- Add missing property translations for FormItStateOptions snippet\n- Fix small issue with stored values after validation of fields\n- Add FormItStateOptions snippet for easy U.S. state dropdowns\n- Add FormItCountryOptions snippet for easy country dropdowns\n- [#5101] Fix issue with emailMultiSeparator and emailMultiWrapper default values\n- Fix issue with bracketed field names being added as extra fields post-validation with . prefix\n\nFormIt 1.6.0\n====================================\n- [#4708] Add support for bracketed fields, such as contact[name]\n- [#5038] Fix uninitialized variable warnings in reCaptcha service\n- [#4993] Add Italian translation and fix recaptcha links\n- Fix issue where fields could be removed via DOM from form and be bypassed\n- Add &emailMultiSeparator and &emailMultiWrapper for handling display of checkboxes/multi-selects in email hook\n\nFormIt 1.5.6\n====================================\n- [#4564] Fix redirectTo with non-web contexts\n\nFormIt 1.5.5\n====================================\n- [#4168] Add emailConvertNewlines property for handling newlines in HTML emails\n- [#4057] Prevent math hook from generating similar numbers\n- [#4302] Cleanups to FormItAutoResponder snippet\n- [#3991] Fix issue with checkbox values in emails\n\nFormIt 1.5.4\n====================================\n- Fix issue with math hook where error placeholders were incorrect\n- Fix issue where emailHtml property was not respected in email hook\n- Fix issue where hooks were not passed customProperties array\n- [#51] Allow blank fields to be passed with :email validator\n- [#55] Allow all fields to be accessed in custom validators\n\nFormIt 1.5.3\n====================================\n- [#40] Add ability to display all error messages in bulk at top, added validationErrorBulkTpl for templating each one\n- [#52] Add a general validation error message property, validationErrorMessage, that shows when validation fails\n- [#53] Fix bug that prevented recaptcha options from working\n- Add a generic validation error placeholder in FormIt to allow for general messages\n- [#50] Trim each hook specification in hooks calls\n- [#49] Ensure reCaptcha service instance is unique for each FormIt instance\n- [#47] Ensure email validator checks for empty string\n- [#42] Can now include field names in error strings via `field` placeholder\n- [#39] Fix issue with FormItIsChecked/Selected to prevent output from occurring if not checked\n- [#37] Fix allowTags validator to work, and work with parameters encapsulated by ^\n\nFormIt 1.5.2\n====================================\n- Fixed security vulnerability\n- Added math hook, allowing anti-spam math field measure\n- Added more debugging info to email hook\n\nFormIt 1.5.1\n====================================\n- Fixed issue where &store was not respecting values set in post-hooks\n- Redirect hook now redirects *after* all other hooks execute\n\nFormIt 1.5.0\n====================================\n- Fixed bug with redirectParams not parsing placeholders in the params\n- Added redirectParams property, which allows a JSON object of params to be passed when using redirect hook\n- Added spamCheckIp property, defaults to false, to check IP as well in spam hook\n- Fixed incorrect default param for fiarSender\n- Fixed error reporting for FormItAutoResponder\n- Added sanity checks to form attachments when dealing with missing names\n- Fixed invalid offset error in checkbox validation\n- Added recaptchaJS to allow for custom JS overriding of reCaptcha options var\n\nFormIt 1.4.1\n====================================\n- Added sanity check for emailHtml property on email hook\n- Added sanity check for replyto/cc/bcc emails on email hook\n- Added ability to change language via &language parameter\n\nFormIt 1.4.0\n====================================\n- Fixed bug with recaptcha and other hooks error display messages\n- Introduced &validate parameter for more secure validation parameters to prevent POST injection\n- Added FormItIsChecked and FormItIsSelected custom output filters for easier checkbox/radio/select handling of selected values\n- Added &placeholderPrefix for FormIt snippet, defaults to `fi.`\n\nFormIt 1.3.0\n====================================\n- Fixed issue with isNumber validator\n- Added FormItRetriever snippet to get data from a FormIt submission for thank you pages\n- Added extra API methods for custom hooks for easier data grabbing\n- Added FormItAutoResponder snippet to use as a custom hook for auto-responses\n- Added &successMessage and &successMessagePlaceholder properties for easier success message handling\n- Fixed ordering for &emailFrom property\n- Added width/height for reCaptcha, however, reCaptcha APIs prevent resizing via calls\n\nFormIt 1.2.1\n====================================\n- Added recaptchaTheme property, which allows theming of reCaptcha hook\n\nFormIt 1.2.0\n====================================\n- Added preHooks property to allow for custom snippets to pre-fill fields\n- Added clearFieldsOnSuccess property to clear fields after a successful form submission without a redirect\n- Allow placeholders of fields in all email properties\n- Added customValidators property to FormIt snippet to restrict custom validators to only specified validators to prevent brute force snippet loading\n- Added fiValidator::addError for easier error loading for custom validators\n- Added German translation\n\nFormIt 1.1.7\n====================================\n- Added bcc and cc properties for email hook\n\nFormIt 1.1.6\n====================================\n- i18n of Snippet properties\n- Added emailReplyToName and emailReplyTo properties for email hook\n- Removed SMTP settings as those are now in Revo\n- Fixed bug in html emails where linebreaks were being ignored\n- Added islowercase and isuppercase validators\n- Added multibyte support to validators\n\nFormIt 1.1.5\n====================================\n- Added Russian translation\n- Updated copyright information\n\nFormIt 1.1.4\n====================================\n- Fixed bug with isDate check\n- Migrated FormIt to Git\n- Fixed bug that caused validators to not fire\n- Fixed bug where custom validators were wonky, added \'errors\' references to custom hooks/validators\n- [#ADDON-147] Added support for validation and emailing of file fields\n- Added stripTags to all fields by default (unless \'allowTags\' hook is passed\') to prevent XSS\n- Added in missing settings\n- Added reCaptcha support via the recaptcha hook\n- Adjusted copyright information to reflect current year\n\nFormIt 1.0\n====================================\n- Fixed bug with emailFrom property getting overwritten\n- [#ADDON-122] Fixed incorrect message in spam lexicon item\n- Added \'spam\' hook that utilizes StopForumSpam spam filter. Will filter the fields in the property &spamEmailFields\n- Ensure hooks errors are set as placeholders\n- Aded fi.success placeholder to be set on a successful form submission if no redirect hook is specified\n- Added default to emailTpl property so that it is now no longer required. Will send out email with just field names and values.\n- Added Dutch translation\n- Added missing formit.contains lexicon entry\n- Fixed possible loophole with $this->fields and referencing in multiple hooks\n- Fixed bug on hooks due to !== and != difference\n- Added SMTP support to FormIt email hook\n- Fixed bug with emailFrom in email hook\n- Added emailUseFieldForSubject property to FormIt snippet\n- Fixed bug on email hook where if subject was passed through form, it wouldn\'t set it as email subject\n- Added changelog\n\";s:13:\"setup-options\";s:33:\"formit-3.0.2-pl/setup-options.php\";}',	'FormIt',	NULL,	3,	0,	2,	'pl',	0),
('ajaxform-1.1.9-pl',	'2017-09-03 02:33:21',	'2017-09-03 14:34:09',	'2017-09-03 14:33:21',	0,	1,	2,	0,	'ajaxform-1.1.9-pl.transport.zip',	NULL,	'a:3:{s:9:\"changelog\";s:2282:\"Changelog for AjaxForm.\n\n1.1.9-pl\n==============\n- [#40] Improved javascript initialization of a form.\n\n1.1.8-pl\n==============\n- Updated jGrowl to version 1.4.5.\n\n1.1.7-pl\n==============\n- Fixed possible blind SQL injection in action file.\n\n1.1.6-pl\n==============\n- [#33] Improved the processing of javascript errors.\n\n1.1.5-pl\n==============\n- [#30] Improved support of ReCaptcha.\n- PSR-2.\n- Default chunk optimized for Twitter Bootstrap 3.\n\n1.1.4-pl\n==============\n- [#27] Support of single quotes in attributes of form.\n- Case-insensitive check of attributes of form.\n\n1.1.3-pl\n==============\n- Improved validation of files.\n\n1.1.2-pl\n==============\n- Compatibility with FormIt ReCaptcha.\n- Small code format.\n\n1.1.1-pl\n==============\n- Improved checking of availability of pdoTools.\n\n1.1.0-pl\n==============\n- Improved registration of frontend javascript.\n- Added parameter &formSelector for specifying name of CSS class of form.\n- Added parameter &objectName for specifying name of javascript object to initialize.\n\n1.0.7-pl\n==============\n- Added loading source resource to modX::resource in action.php.\n\n1.0.6-pl\n==============\n- [#15] Fixed work in different contexts.\n\n1.0.5-pl\n==============\n- Remove error class from fields on before form submit.\n\n1.0.4-pl\n==============\n- Added checking of global js var \"afValidated\" before form submit.\n\n1.0.3-pl\n==============\n- [#8] Improved regular expression.\n- Improved compatibility with parameter \"submitVar\" in snippet FormIt.\n\n1.0.2-pl\n==============\n- Added jQuery event \"af_complete\" on form submit.\n- [#4] Ability to use @INLINE chunk in parameter &form, if you have pdoTools installed.\n- [#3] Ability to set placeholders in form by specifying them into script parameters.\n- [#2] Script will add class \"error\" to elements with \".error_[name_of_field]\" elements in form.\n\n1.0.1-pl\n==============\n- Possibly fix for Error 500 on some hosts.\n\n1.0.0-pl\n==============\n- Call end snippet on page load for preparation of form. Now you can use hook \"math\".\n\n1.0.0-rc\n==============\n- Force attribute \"method=post\" to form.\n- Added support for sending form without javascript.\n\n1.0.0-beta1\n==============\n- Improved adding class \"ajax_form\" to form.\n- Improved snippet parameters.\n\n1.0.0-beta0\n==============\n- Initial release.\n\";s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:636:\"--------------------\nAjaxForm\n--------------------\nAuthor: Vasiliy Naumkin <bezumkin@yandex.ru>\n--------------------\n\nSimple component for MODX Revolution, that allows you to send any form through ajax.\n\n\nQuick start\n1. Create new chunk with name \"myForm\".\n2. Add form into that chunk.\n3. Call AjaxForm at any page [[!AjaxForm?form=`myForm`&snippet=`FormIt`]]\n\nYou can specify any parameters for end snippet:\n[[!AjaxForm?\n	&form=`myForm`\n	&snippet=`FormIt`\n	&hooks=`email`\n	&emailto=`info@mysite.com`\n	&etc=`...`\n]]\n\n--------------------\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttp://github.com/bezumkin/AjaxForm/issues\";}',	'AjaxForm',	NULL,	1,	1,	9,	'pl',	0),
('ace-1.6.5-pl',	'2017-09-03 02:33:23',	'2017-09-03 14:34:09',	'2017-09-03 14:33:24',	0,	1,	2,	0,	'ace-1.6.5-pl.transport.zip',	NULL,	'a:3:{s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:271:\"--------------------\nExtra: Ace\n--------------------\nSince: March 29th, 2012\nAuthor: Danil Kostin <danya.postfactum@gmail.com>\nLicense: GNU GPLv2 (or later at your option)\n\nIntegrates Ace Code Editor into MODx Revolution.\n\nPress Ctrl+Alt+H to see all available shortcuts.\";s:9:\"changelog\";s:3767:\"Changelog for Ace integration into MODx Revolution.\n\nAce 1.6.5\n====================================\n- Added: \"Twig\" syntax for support of Twig in chunks.\n- Changed: Plugin is not static anymore.\n\nAce 1.6.4\n====================================\n- Fixed: Support of emmet in smarty mode. Again.\n\nAce 1.6.3\n====================================\n- Fixed: Support of emmet in smarty mode.\n\nAce 1.6.2\n====================================\n- Fixed: Editor mode handling.\n- Added: \"Markdown\" syntax for mime type \"text/x-markdown\".\n\nAce 1.6.1\n====================================\n- Fixed : Work with enabled system setting \"compress_js\".\n\nAce 1.6.0\n====================================\n- Added: \"Smarty\" syntax for support of Fenom in chunks.\n- Updated: Ace to version 1.2.0.\n\nAce 1.5.1\n====================================\n- Fixed: Bug with narrowing of the textarea.\n\nAce 1.5.0\n====================================\n- Changed: Assets are moved back to /assets/\n- Fixed: MODx tag completions (was completely broken)\n- Added: Editor height setting\n\nAce 1.4.3\n====================================\n- Added: MODx tag completions (Ctrl+Space)\n- Fixed: Issue caused AjaxManager (MODx Manager speed booster plugin) tree drag\'n\'drop bug\n\nAce 1.4.2\n====================================\n- Added: Undo coalescing\n- Changed: Mac fullscreen command is bound to Command+F12\n- Added: Drag delay (allow to start new selection inside current one) for Mac\n- Fixed: Use file extension of static chunks to detect code syntax\n\n\nAce 1.4.1\n====================================\n- Fixed: Tab handling\n- Fixed: Emmet shortcut listing by Ctr+Alt+H\n- Added: Expandable snippets support (see ace.snippets setting)\n- Added: Emmet wrap_with_abbreviation command (Alt+W)\n\nAce 1.4.0\n====================================\n- Added: Emmet (aka Zen Coding) support\n- Added: Terminal dark theme\n- Added: Hotkey table (Ctrl+Alt+H)\n- Fixed: Resource overview fatal error\n- Changed: Assets are moved to /manager/assets/components/\n\nAce 1.3.3\n====================================\n- Added: PHP live syntax check\n- Added: Chaos dark theme\n- Added: Setting show_invisibles\n\n\nAce 1.3.2\n====================================\n- Fixed: The bug while installing the Ace\n- Fixed: Broken word_wrap setting\n- Added: Tab settings (tab size, soft tab)\n- Added: Now completele compatible with AjaxManager extra\n\n\nAce 1.3.1\n====================================\n- Changed: Plugin content now is stored in static file\n\n\nAce 1.3.0\n====================================\n- Added: German translation\n- Added: MODx tags highlighting\n- Added: Ambiance and xcode themes\n- Added: less/scss syntax highlighting\n- Added: Fullwindow mode (Ctrl + F11)\n- Changed: Editor now ignores `wich_editor` setting. Set `use_editor` to false to use ACE for Resources.\n\n\nAce 1.2.1\n====================================\n- Changed: Assets are moved to manager folder\n- Added: Font size setting\n- Added: \"GitHub\" theme\n- Added: Support of html5 drag\'n\'drop (accepting of dropped text)\n- Added: XML / HTML tag autoclosing\n- Fixed: broken en lexicon and php 5.3 incompatibility\n\n\nAce 1.2.0\n====================================\n- Removed: Some unnecessary options\n- Changed: Editor options are moved to system settings\n- Fixed: Multiple little editor bugs\n- Added: Add missing \"OnFileEditFormPrerender\" event to MODx\n- Added: Multiline editing\n- Added: Advanced find/replace window\n\n\nAce 1.1.0\n====================================\n- Fixed: Fatal error on document create event\n- Fixed: Changing of properties has no effect\n- Added: File edition support\n- Added: MODx tree elements drag\'n\'drop support\n- Added: Auto-assigning which_element_editor to Ace\n\n\nAce 1.0.0\n====================================\n- Added: Plugin properties to adjust how Ace behaves\n- Initial commit\";}',	'Ace',	NULL,	1,	6,	5,	'pl',	0),
('tinymcerte-1.2.0-pl',	'2017-09-03 02:33:29',	'2017-09-03 14:34:17',	'2017-09-03 14:33:32',	0,	1,	1,	0,	'tinymcerte-1.2.0-pl.transport.zip',	NULL,	'a:3:{s:7:\"license\";s:15504:\"GNU GENERAL PUBLIC LICENSE\r\n   Version 2, June 1991\r\n--------------------------\r\n\r\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\r\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n\r\nEveryone is permitted to copy and distribute verbatim copies\r\nof this license document, but changing it is not allowed.\r\n\r\nPreamble\r\n--------\r\n\r\n  The licenses for most software are designed to take away your\r\nfreedom to share and change it.  By contrast, the GNU General Public\r\nLicense is intended to guarantee your freedom to share and change free\r\nsoftware--to make sure the software is free for all its users.  This\r\nGeneral Public License applies to most of the Free Software\r\nFoundation\'s software and to any other program whose authors commit to\r\nusing it.  (Some other Free Software Foundation software is covered by\r\nthe GNU Library General Public License instead.)  You can apply it to\r\nyour programs, too.\r\n\r\n  When we speak of free software, we are referring to freedom, not\r\nprice.  Our General Public Licenses are designed to make sure that you\r\nhave the freedom to distribute copies of free software (and charge for\r\nthis service if you wish), that you receive source code or can get it\r\nif you want it, that you can change the software or use pieces of it\r\nin new free programs; and that you know you can do these things.\r\n\r\n  To protect your rights, we need to make restrictions that forbid\r\nanyone to deny you these rights or to ask you to surrender the rights.\r\nThese restrictions translate to certain responsibilities for you if you\r\ndistribute copies of the software, or if you modify it.\r\n\r\n  For example, if you distribute copies of such a program, whether\r\ngratis or for a fee, you must give the recipients all the rights that\r\nyou have.  You must make sure that they, too, receive or can get the\r\nsource code.  And you must show them these terms so they know their\r\nrights.\r\n\r\n  We protect your rights with two steps: (1) copyright the software, and\r\n(2) offer you this license which gives you legal permission to copy,\r\ndistribute and/or modify the software.\r\n\r\n  Also, for each author\'s protection and ours, we want to make certain\r\nthat everyone understands that there is no warranty for this free\r\nsoftware.  If the software is modified by someone else and passed on, we\r\nwant its recipients to know that what they have is not the original, so\r\nthat any problems introduced by others will not reflect on the original\r\nauthors\' reputations.\r\n\r\n  Finally, any free program is threatened constantly by software\r\npatents.  We wish to avoid the danger that redistributors of a free\r\nprogram will individually obtain patent licenses, in effect making the\r\nprogram proprietary.  To prevent this, we have made it clear that any\r\npatent must be licensed for everyone\'s free use or not licensed at all.\r\n\r\n  The precise terms and conditions for copying, distribution and\r\nmodification follow.\r\n\r\n\r\nGNU GENERAL PUBLIC LICENSE\r\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\r\n---------------------------------------------------------------\r\n\r\n  0. This License applies to any program or other work which contains\r\na notice placed by the copyright holder saying it may be distributed\r\nunder the terms of this General Public License.  The \"Program\", below,\r\nrefers to any such program or work, and a \"work based on the Program\"\r\nmeans either the Program or any derivative work under copyright law:\r\nthat is to say, a work containing the Program or a portion of it,\r\neither verbatim or with modifications and/or translated into another\r\nlanguage.  (Hereinafter, translation is included without limitation in\r\nthe term \"modification\".)  Each licensee is addressed as \"you\".\r\n\r\nActivities other than copying, distribution and modification are not\r\ncovered by this License; they are outside its scope.  The act of\r\nrunning the Program is not restricted, and the output from the Program\r\nis covered only if its contents constitute a work based on the\r\nProgram (independent of having been made by running the Program).\r\nWhether that is true depends on what the Program does.\r\n\r\n  1. You may copy and distribute verbatim copies of the Program\'s\r\nsource code as you receive it, in any medium, provided that you\r\nconspicuously and appropriately publish on each copy an appropriate\r\ncopyright notice and disclaimer of warranty; keep intact all the\r\nnotices that refer to this License and to the absence of any warranty;\r\nand give any other recipients of the Program a copy of this License\r\nalong with the Program.\r\n\r\nYou may charge a fee for the physical act of transferring a copy, and\r\nyou may at your option offer warranty protection in exchange for a fee.\r\n\r\n  2. You may modify your copy or copies of the Program or any portion\r\nof it, thus forming a work based on the Program, and copy and\r\ndistribute such modifications or work under the terms of Section 1\r\nabove, provided that you also meet all of these conditions:\r\n\r\n    a) You must cause the modified files to carry prominent notices\r\n    stating that you changed the files and the date of any change.\r\n\r\n    b) You must cause any work that you distribute or publish, that in\r\n    whole or in part contains or is derived from the Program or any\r\n    part thereof, to be licensed as a whole at no charge to all third\r\n    parties under the terms of this License.\r\n\r\n    c) If the modified program normally reads commands interactively\r\n    when run, you must cause it, when started running for such\r\n    interactive use in the most ordinary way, to print or display an\r\n    announcement including an appropriate copyright notice and a\r\n    notice that there is no warranty (or else, saying that you provide\r\n    a warranty) and that users may redistribute the program under\r\n    these conditions, and telling the user how to view a copy of this\r\n    License.  (Exception: if the Program itself is interactive but\r\n    does not normally print such an announcement, your work based on\r\n    the Program is not required to print an announcement.)\r\n\r\nThese requirements apply to the modified work as a whole.  If\r\nidentifiable sections of that work are not derived from the Program,\r\nand can be reasonably considered independent and separate works in\r\nthemselves, then this License, and its terms, do not apply to those\r\nsections when you distribute them as separate works.  But when you\r\ndistribute the same sections as part of a whole which is a work based\r\non the Program, the distribution of the whole must be on the terms of\r\nthis License, whose permissions for other licensees extend to the\r\nentire whole, and thus to each and every part regardless of who wrote it.\r\n\r\nThus, it is not the intent of this section to claim rights or contest\r\nyour rights to work written entirely by you; rather, the intent is to\r\nexercise the right to control the distribution of derivative or\r\ncollective works based on the Program.\r\n\r\nIn addition, mere aggregation of another work not based on the Program\r\nwith the Program (or with a work based on the Program) on a volume of\r\na storage or distribution medium does not bring the other work under\r\nthe scope of this License.\r\n\r\n  3. You may copy and distribute the Program (or a work based on it,\r\nunder Section 2) in object code or executable form under the terms of\r\nSections 1 and 2 above provided that you also do one of the following:\r\n\r\n    a) Accompany it with the complete corresponding machine-readable\r\n    source code, which must be distributed under the terms of Sections\r\n    1 and 2 above on a medium customarily used for software interchange; or,\r\n\r\n    b) Accompany it with a written offer, valid for at least three\r\n    years, to give any third party, for a charge no more than your\r\n    cost of physically performing source distribution, a complete\r\n    machine-readable copy of the corresponding source code, to be\r\n    distributed under the terms of Sections 1 and 2 above on a medium\r\n    customarily used for software interchange; or,\r\n\r\n    c) Accompany it with the information you received as to the offer\r\n    to distribute corresponding source code.  (This alternative is\r\n    allowed only for noncommercial distribution and only if you\r\n    received the program in object code or executable form with such\r\n    an offer, in accord with Subsection b above.)\r\n\r\nThe source code for a work means the preferred form of the work for\r\nmaking modifications to it.  For an executable work, complete source\r\ncode means all the source code for all modules it contains, plus any\r\nassociated interface definition files, plus the scripts used to\r\ncontrol compilation and installation of the executable.  However, as a\r\nspecial exception, the source code distributed need not include\r\nanything that is normally distributed (in either source or binary\r\nform) with the major components (compiler, kernel, and so on) of the\r\noperating system on which the executable runs, unless that component\r\nitself accompanies the executable.\r\n\r\nIf distribution of executable or object code is made by offering\r\naccess to copy from a designated place, then offering equivalent\r\naccess to copy the source code from the same place counts as\r\ndistribution of the source code, even though third parties are not\r\ncompelled to copy the source along with the object code.\r\n\r\n  4. You may not copy, modify, sublicense, or distribute the Program\r\nexcept as expressly provided under this License.  Any attempt\r\notherwise to copy, modify, sublicense or distribute the Program is\r\nvoid, and will automatically terminate your rights under this License.\r\nHowever, parties who have received copies, or rights, from you under\r\nthis License will not have their licenses terminated so long as such\r\nparties remain in full compliance.\r\n\r\n  5. You are not required to accept this License, since you have not\r\nsigned it.  However, nothing else grants you permission to modify or\r\ndistribute the Program or its derivative works.  These actions are\r\nprohibited by law if you do not accept this License.  Therefore, by\r\nmodifying or distributing the Program (or any work based on the\r\nProgram), you indicate your acceptance of this License to do so, and\r\nall its terms and conditions for copying, distributing or modifying\r\nthe Program or works based on it.\r\n\r\n  6. Each time you redistribute the Program (or any work based on the\r\nProgram), the recipient automatically receives a license from the\r\noriginal licensor to copy, distribute or modify the Program subject to\r\nthese terms and conditions.  You may not impose any further\r\nrestrictions on the recipients\' exercise of the rights granted herein.\r\nYou are not responsible for enforcing compliance by third parties to\r\nthis License.\r\n\r\n  7. If, as a consequence of a court judgment or allegation of patent\r\ninfringement or for any other reason (not limited to patent issues),\r\nconditions are imposed on you (whether by court order, agreement or\r\notherwise) that contradict the conditions of this License, they do not\r\nexcuse you from the conditions of this License.  If you cannot\r\ndistribute so as to satisfy simultaneously your obligations under this\r\nLicense and any other pertinent obligations, then as a consequence you\r\nmay not distribute the Program at all.  For example, if a patent\r\nlicense would not permit royalty-free redistribution of the Program by\r\nall those who receive copies directly or indirectly through you, then\r\nthe only way you could satisfy both it and this License would be to\r\nrefrain entirely from distribution of the Program.\r\n\r\nIf any portion of this section is held invalid or unenforceable under\r\nany particular circumstance, the balance of the section is intended to\r\napply and the section as a whole is intended to apply in other\r\ncircumstances.\r\n\r\nIt is not the purpose of this section to induce you to infringe any\r\npatents or other property right claims or to contest validity of any\r\nsuch claims; this section has the sole purpose of protecting the\r\nintegrity of the free software distribution system, which is\r\nimplemented by public license practices.  Many people have made\r\ngenerous contributions to the wide range of software distributed\r\nthrough that system in reliance on consistent application of that\r\nsystem; it is up to the author/donor to decide if he or she is willing\r\nto distribute software through any other system and a licensee cannot\r\nimpose that choice.\r\n\r\nThis section is intended to make thoroughly clear what is believed to\r\nbe a consequence of the rest of this License.\r\n\r\n  8. If the distribution and/or use of the Program is restricted in\r\ncertain countries either by patents or by copyrighted interfaces, the\r\noriginal copyright holder who places the Program under this License\r\nmay add an explicit geographical distribution limitation excluding\r\nthose countries, so that distribution is permitted only in or among\r\ncountries not thus excluded.  In such case, this License incorporates\r\nthe limitation as if written in the body of this License.\r\n\r\n  9. The Free Software Foundation may publish revised and/or new versions\r\nof the General Public License from time to time.  Such new versions will\r\nbe similar in spirit to the present version, but may differ in detail to\r\naddress new problems or concerns.\r\n\r\nEach version is given a distinguishing version number.  If the Program\r\nspecifies a version number of this License which applies to it and \"any\r\nlater version\", you have the option of following the terms and conditions\r\neither of that version or of any later version published by the Free\r\nSoftware Foundation.  If the Program does not specify a version number of\r\nthis License, you may choose any version ever published by the Free Software\r\nFoundation.\r\n\r\n  10. If you wish to incorporate parts of the Program into other free\r\nprograms whose distribution conditions are different, write to the author\r\nto ask for permission.  For software which is copyrighted by the Free\r\nSoftware Foundation, write to the Free Software Foundation; we sometimes\r\nmake exceptions for this.  Our decision will be guided by the two goals\r\nof preserving the free status of all derivatives of our free software and\r\nof promoting the sharing and reuse of software generally.\r\n\r\nNO WARRANTY\r\n-----------\r\n\r\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\r\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\r\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\r\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\r\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\r\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\r\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\r\nREPAIR OR CORRECTION.\r\n\r\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\r\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\r\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\r\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\r\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\r\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\r\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\r\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\r\nPOSSIBILITY OF SUCH DAMAGES.\r\n\r\n---------------------------\r\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:193:\"---------------------------------------\nTinyMCE Rich Text Editor\n---------------------------------------\nVersion: 1.1.1\nAuthor: John Peca <john@modx.com>\n---------------------------------------\";s:9:\"changelog\";s:1063:\"Changelog for TinyMCE Rich Text Editor.\n\nTinyMCE Rich Text Editor 1.2.0\n==============\n- Added `relative_urls` & `remove_script_host` settings\n- Plugin now makes use of `modManagerController::addJavascript` instead of `modX::regClientStartupScript`\n- Added system setting to define \'valid_elements\'\n- Added \'links_across_contexts\' setting to limit links to the current context resources\n- Added support for configured default Media Source in context settings\n- CMPs can now pass any TinyMCE configuration property using the `OnRichTextEditorInit` system event\n- Upgraded to TinyMCE 4.5.7\n\nTinyMCE Rich Text Editor 1.1.1\n==============\n- Allow base path parsing in the external_config system setting\n- Add tel: prefix\n- Add modximage - left/right image positioning\n- Sync tinymce and textarea\n- Add modx skin (Credits goes to fourroses666)\n- Add skin system setting\n\nTinyMCE Rich Text Editor 1.1.0\n==============\n- Add autocomplete search for links\n- Add external config\n- Support for link classes\n\nTinyMCE Rich Text Editor 1.0.0\n==============\n- Initial release.\n\";}',	'TinyMCE Rich Text Editor',	NULL,	1,	2,	0,	'pl',	0),
('migx-2.11.0-pl',	'2017-09-03 02:33:41',	'2017-09-03 14:34:12',	'2017-09-03 14:33:45',	0,	1,	1,	0,	'migx-2.11.0-pl.transport.zip',	NULL,	'a:4:{s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:1392:\"--------------------\nMIGX\n--------------------\nVersion: 2.1.0\nAuthor: Bruno Perner <b.perner@gmx.de>\n--------------------\n\n* MIGX (multiItemsGridTv for modx) is a custom-tv-input-type for adding multiple items into one TV-value and a snippet for listing this items on your frontend.\n* It has a configurable grid and a configurable tabbed editor-window to add and edit items.\n* Each item can have multiple fields. For each field you can use another tv-input-type.\n\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttp://github.com/Bruno17/multiItemsGridTV/issues\n\nInstallation:\n\ninstall by package-management.\nCreate a new menu:\nSystem -> Actions \n\nActions-tree:\nmigx -> right-click -> create Acton here\ncontroller: index\nnamespace: migx\nlanguage-topics: migx:default,file\n\nmenu-tree:\nComponents -> right-click -> place action here\nlexicon-key: migx\naction: migx - index\nparameters: &configs=migxconfigs||packagemanager||setup\n\nclear cache\ngo to components -> migx -> setup-tab -> setup\n\nIf you are upgrading from MIGX - versions before 2.0\ngo to tab upgrade. click upgrade.\nThis will add a new autoincrementing field MIGX_id to all your MIGX-TV-items\nThe getImageList-snippet needs this field to work correctly.\n\n\nAllways after upgrading MIGX of any Version:\ngo to components -> migx -> setup-tab -> setup\n\nthis will upgrade the migx-configs-table and add new fields, if necessary.\n\n\n\";s:9:\"changelog\";s:10221:\"Changelog for MIGX.\n\nMIGX 2.11.0\n==============\ngroupingfield, preparesnippet, _total, _count, improve @CODE\nhooksnippet beforecreateform\n\nMIGX 2.10.0\n==============\nhooksnippet getcustomconfigs for importcsvmigx\nsupport layout-rows/columns in formtabs\ncontextmenu \'flat formtabs\'\nmultiupload to db, resizeOnUpload - plugin\n[packagemanager] Add Extension Package - feature\nrespect joinalias in export.php and handlepositionselector.php\npossible to use TV-value in migxresourcemediapath - snippet\n[getImageList] inherit_children_tvname\nMIGXdb add item before/after\n\nMIGX 2.9.7\n==============\nadd emtpyTpl\nfix some MIGX-grid width - issues\nimport csv to MIGX\n\nMIGX 2.9.6\n==============\nhooksnippet getcustomconfigs for export-processor\nfix missing formtabs after saving\n\nMIGX 2.9.5\n==============\ncolumn-actionbuttons also for MIGX\nexport/import MIGX-items from/into MIGX-TV\nget tinymcewrapper working\nmore config-options for combo-filter\nFix and simplify Redactor implementation to use MODx.loadRTE()\n\nMIGX 2.9.4\n==============\n[migxResourcemediapath] add context_key as path option\nbutton for \'alter fields from schema\'\nfix MIGX-grid width\ncustom grid for MIGX-TV\nrespect context-default-media-source - setting\n\nMIGX 2.9.3\n==============\nbasic support for new TinyMCE RTE\nfix assetsUrl/connectorUrl - settings\nMIGX-TV MODX multifile-uploader/autocreate items  \nMIGX-TV configurable contextmenues\n\nMIGX 2.9.2\n==============\nsome smaller fixes\n\nMIGX 2.9.1\n==============\nadd hook-snippet setting\nsome handleRelated - update - functions\ndestroy updatewindow on close\n\nMIGX 2.9\n==============\n[migxLoopCollection] allow use of foreign database\nSottwell\'s improvements on migxresourcemediapath\nnew snippet: migxGetCollectionTree\naccess to foreign database from default processors\nimprovements on multiple formtabs\nmake inline-editing for MIGX - grid possible\noption to add MIGX-items directly without modal\nlistbox-cell-editor\nmovetotop,movetobottom - buttons for MIGX-grid\ncell-editing for MIgXdb - grids\noption to add MIGXdb-items directly without modal\n[getImageList] &inheritFrom - inherit MIGX-items from parents or other resources\nsome migxredactor - fixes \n\nMIGX 2.8.1\n==============\nlets disable the \'Add Item\' - button\nnew configs gridperpage and sortconfig\nwrapperTpl for getImageList and migxLoopCollection\n\nMIGX 2.8.0\n==============\nresolve tables on install\nrender cross, also when empty string\nreusable activaterelations - processors\n[migxLoopCollection] tpl_nN\n[#154] clean TV-value, if no MIGX-items \nadditional db-storage of formtabs and fields\nget menue working in MODX 2.3\nimprove description_is_code \n\n\nMIGX 2.6.8\n==============\nsome other small fixes\nrestrictive condition by processed MIGX-tags for formfields\nFilter-Button for Reset all filters to default-value\nextend date-filter\nmake cmp main caption translatable \nMigx::prepareJoins - optional rightjoin \n\nMIGX 2.6.7\n==============\nadd date - filter \nadd handlepositionselector - processor \nadd snippet exportmigx2db\n\nMIGX 2.6.6\n==============\nfixes only\n\nMIGX 2.6.5\n==============\nfixes only\n\nMIGX 2.6.4\n==============\n[redactor-field] get and use file-properties from a redactor-inputTV\nadd renderImageFromHtml - renderer\n\nMIGX 2.6.3\n==============\nconfigurable redactor-field with configs-configuration, make redactor work in MIGXdb - CMP\n\nMIGX 2.6.2\n==============\nfix issue with imported configs-field, if not an array \n\nMIGX 2.6.1\n==============\nMake Formfields translatable\n\nMIGX 2.6\n==============\n[getImageList] output inner arrays as json-string\nadded polish translation\n[getImageList] splits, build summaries\n make grid-columns translatable, let user add custom-lexicons from custom php-config-files \n\n\nMIGX 2.5.11\n==============\nadd simple MIGXdb - validation (only required for now)\nsome fixes\n\n\nMIGX 2.5.9\n==============\nlet us create new indexes, with altered field-def from schema \noptimize input-option-values-handling, see:http://forums.modx.com/thread/79757/sortable-editable-list-of-checkboxes?page=4#dis-post-483240\n\n\nMIGX 2.5.8\n\n==============\nAdded \'showScreenshot\' (big image in popup) \nAdded template-field for direct template-input for renderChunk\nAdded position - selector for new MIGX - items\nFix for not removed rte-editors when using formswitcher\nsend current store-params to iframe-window\n\n\nMIGX 2.5.6\n\n==============\n\nAdd support for the modmore.com Redactor editor \nsome work on multiuploader for MIGXdb\nmore eNotice - fixes\n\n\nMIGX 2.5.2\n\n==============\nread input-options into MIGX-TV\nrespect filter in default - export.php\nfix for empty value in TV - configs not loading renderers etc.\nfix changed processaction-param after export2csv \nstopEvent() by onClick - event\n\nMIGX 2.5.1\n\n==============\nfix bug with renderChunk - renderer\n\nMIGX 2.5\n\n==============\nget different rtes working - support for tinymce, ckeditor \nsome settings for MIGXfe\ncs - lexicons, \nsome eNotice - fixes\nfix with to big integers on TV-id (set phptype to string)\nlimit MIGX-record-count\n\n\nMIGX 2.4.2\n\n==============\ncolumnButtons for the migx - grid \nlittle form-layout-mods\nadded the option to have the first formtab outside the other tabs above of them.\n\nadded the option to use the TV-description-field as parsed code-areas in the formtabs, modx-tags are parsed there - \nsnippets, chunks, output-filters can be used there. All fields of the record can be used as placeholders.\n\nmigxupdate for MIGXfe\ndefault-values for MIGXdb-filters\nupdate co_id in iframe-window\nadd a searchbox to MIGX-Configurator\nread configs directly from exported configs-files from custom-packages - directory by using configname:packagename - configs\n\n\nMIGX 2.4.1\n\n==============\nsome new snippets:\ngetDayliMIGXrecord\nmigxgetrelations\n\nadded beta treecombo-filter-option for example to filter resources in MIGXdb by resourcetree\nadd window-title configuration, make window-caption dynamic (its possible to use placeholders now)\nhide tabs in form, when only one tab\nadded selectposition - renderer\n\n\nMIGX 2.4.0\n\n==============\nnew renderer - switchStatusOptions\nnew renderer - renderChunk\ngetImageList - added \'contains\' and \'snippet\' - where-filters\nadd duplicate-contextmenue to MIGXdb \nnew property for getImageList: &reverse\ngive TVs in each CMP-tab a unique id\nrefresh grid after closing iframe-window\nadded tpl_n{n} tplFirst tplLast tpl_n tpl_oneresult properties to getImageList\nexport jsonarray-fields as separate fields in csv-export\nalias, breadcrumb and ultimateparent for migxREsourceMediaPath\nAdded TV - description - field to configuration\n\n\nMIGX 2.3.1\n\n==============\nsome eNotice - error - fixes\nadd type - configuration to gridcolumns, now its possible to sort also numeric on the MIGX - grid: see https://github.com/Bruno17/MIGX/issues/41\n\nMIGX 2.3.0\n\n==============\nadd multifile - uploader, upload to MIGX - mediasource\nadd load from mediasource - button to MIGX\nadd migxResourcePath - snippet\nadd iframe - support - its now possible to create chunks with snippet-calls and show the result in an iframe-window. used by multifile-uploader.\n\n\nMIGX 2.2.3\n\n==============\nconfirmation before overriding schema-files\nsome additions for childresources-management by MIGXdb\nswitch between multiple forms - configurations\nadd renderDate - renderer , thanks to Jako\nadditional send all store-baseParams when opening the form-window. This way we can have different forms depending on filters for example.\nadd parent-property for dynamic filter-comboboxes\nadd getliste-where for default getlist-processor\nexport formtabs as clean json in editraw-mode\n\n\nMIGX 2.2.2\n\n==============\nadd migxLoopCollection-snippet\nmove prepareJoins into a migx-method\nconfirmation before remove db-record, getcombo did not use idfield \nallow empty prefix \nadd possibility to use tables without \'deleted\' - field and default-getlist-processor\nfix Call-time pass-by-reference errors\nget tinyMCE to work on richtext-TV-inputs in MIGXdb - CMPs \nfix prefix not sended to writeSchema\ngrid add cls \'main-wrapper\' to give it a bit padding, thanks to jako\n\n\nMIGX 2.2.0\n\n==============\n\nexport/import configuration-objects as json to/from files in custom-package-directories \nnew configs: getlist - defaultsort, joins, gridload_mode (by button, auto) \ngrid-smarty-template now can be also in custom-package-directories\nreworked handling of joined objects in default update-php \nadd connected_object_id baseparam to migx-grid\nadded snippet migxLoopCollection\n\n\nMIGX 2.1.1\n\n==============\n\n  fix for migx-snippet not working with multiple calls on one page\n  resource_id as script-property for getlist-processor when used with migx-snippet\n\nMIGX 2.1.0\n\n==============\n\n  add &sort to the getImageList - snippet\n  add new snippet \'migx\' to get items from db-tables, can use the same configurations and getList - processors as the MIGXdb - manager\n  make it possible to have config-files for grids and processors in another package-folder for easier packaging together custom - packages\n  more MIGXdb - configurations\n\n\nMIGX 2.0.1\n\n==============\n\n  more E_NOTICE - Error - fixes\n  Fix Missing Add - Item - Replacement - String \n\nMIGX 2.0.0\n\n==============\n\n- pl\n\n  fix for Revo 2.2.2\n  fix some E_NOTICE - errors\n\n- new in beta5\n\n  Configure multiple CMP - tabs\n  packagemanager ported to extjs - tab\n  added MIGX-setup/upgrade - tab\n  added configurable text and combo - filterboxes\n\n- new in beta3\n\n  This is a preview-version of MIGXdb\n  MIGXdb can now also be used as configurable CMP\n  MIGX - configurator for tabs, columns, MIGXdb-TV and MIGXdb-CMP\n  Package-manager, create and edit schemas and package-tables\n\n- new:\n  better compatibility with revo 2.2\n  working with mediasources\n  introduced MIGXdb\n\n\nMIGX 1.2.0\n==============\n- new:\n  merge scriptProperties to Placeholders \n  basic compatibility for modx 2.2 \n  autoinc-field: MIGX_id\n  autoResourceFolders - functionality, autoCreate directory for each resource\n  \n  \n- fixed:\n  url-TV support\n  context-based base_path issues\n  remove remaining []\n  remove Tiny-instances when switching form\n  enter on textarea closes window\n  fireResourceFormChange for drag,remove,duplicate \n\nMIGX 1.1.0\n==============\n- new:\n  &docidVarKey\n  &processTVs\n  \n- fixed:\n  context-filepath-issue\n\nMIGX 1.0.0\n==============\n- Initial release.\";s:13:\"setup-options\";s:32:\"migx-2.11.0-pl/setup-options.php\";}',	'MIGX',	NULL,	2,	11,	0,	'pl',	0),
('fastuploadtv-1.0.0-pl',	'2017-09-03 02:33:47',	'2017-09-03 14:34:11',	'2017-09-03 14:33:48',	0,	1,	1,	0,	'fastuploadtv-1.0.0-pl.transport.zip',	NULL,	'a:3:{s:7:\"license\";s:15502:\"GNU GENERAL PUBLIC LICENSE\r\n   Version 2, June 1991\r\n--------------------------\r\n\r\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\r\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n\r\nEveryone is permitted to copy and distribute verbatim copies\r\nof this license document, but changing it is not allowed.\r\n\r\nPreamble\r\n--------\r\n\r\n  The licenses for most software are designed to take away your\r\nfreedom to share and change it.  By contrast, the GNU General Public\r\nLicense is intended to guarantee your freedom to share and change free\r\nsoftware--to make sure the software is free for all its users.  This\r\nGeneral Public License applies to most of the Free Software\r\nFoundation\'s software and to any other program whose authors commit to\r\nusing it.  (Some other Free Software Foundation software is covered by\r\nthe GNU Library General Public License instead.)  You can apply it to\r\nyour programs, too.\r\n\r\n  When we speak of free software, we are referring to freedom, not\r\nprice.  Our General Public Licenses are designed to make sure that you\r\nhave the freedom to distribute copies of free software (and charge for\r\nthis service if you wish), that you receive source code or can get it\r\nif you want it, that you can change the software or use pieces of it\r\nin new free programs; and that you know you can do these things.\r\n\r\n  To protect your rights, we need to make restrictions that forbid\r\nanyone to deny you these rights or to ask you to surrender the rights.\r\nThese restrictions translate to certain responsibilities for you if you\r\ndistribute copies of the software, or if you modify it.\r\n\r\n  For example, if you distribute copies of such a program, whether\r\ngratis or for a fee, you must give the recipients all the rights that\r\nyou have.  You must make sure that they, too, receive or can get the\r\nsource code.  And you must show them these terms so they know their\r\nrights.\r\n\r\n  We protect your rights with two steps: (1) copyright the software, and\r\n(2) offer you this license which gives you legal permission to copy,\r\ndistribute and/or modify the software.\r\n\r\n  Also, for each author\'s protection and ours, we want to make certain\r\nthat everyone understands that there is no warranty for this free\r\nsoftware.  If the software is modified by someone else and passed on, we\r\nwant its recipients to know that what they have is not the original, so\r\nthat any problems introduced by others will not reflect on the original\r\nauthors\' reputations.\r\n\r\n  Finally, any free program is threatened constantly by software\r\npatents.  We wish to avoid the danger that redistributors of a free\r\nprogram will individually obtain patent licenses, in effect making the\r\nprogram proprietary.  To prevent this, we have made it clear that any\r\npatent must be licensed for everyone\'s free use or not licensed at all.\r\n\r\n  The precise terms and conditions for copying, distribution and\r\nmodification follow.\r\n\r\n\r\nGNU GENERAL PUBLIC LICENSE\r\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\r\n---------------------------------------------------------------\r\n\r\n  0. This License applies to any program or other work which contains\r\na notice placed by the copyright holder saying it may be distributed\r\nunder the terms of this General Public License.  The \"Program\", below,\r\nrefers to any such program or work, and a \"work based on the Program\"\r\nmeans either the Program or any derivative work under copyright law:\r\nthat is to say, a work containing the Program or a portion of it,\r\neither verbatim or with modifications and/or translated into another\r\nlanguage.  (Hereinafter, translation is included without limitation in\r\nthe term \"modification\".)  Each licensee is addressed as \"you\".\r\n\r\nActivities other than copying, distribution and modification are not\r\ncovered by this License; they are outside its scope.  The act of\r\nrunning the Program is not restricted, and the output from the Program\r\nis covered only if its contents constitute a work based on the\r\nProgram (independent of having been made by running the Program).\r\nWhether that is true depends on what the Program does.\r\n\r\n  1. You may copy and distribute verbatim copies of the Program\'s\r\nsource code as you receive it, in any medium, provided that you\r\nconspicuously and appropriately publish on each copy an appropriate\r\ncopyright notice and disclaimer of warranty; keep intact all the\r\nnotices that refer to this License and to the absence of any warranty;\r\nand give any other recipients of the Program a copy of this License\r\nalong with the Program.\r\n\r\nYou may charge a fee for the physical act of transferring a copy, and\r\nyou may at your option offer warranty protection in exchange for a fee.\r\n\r\n  2. You may modify your copy or copies of the Program or any portion\r\nof it, thus forming a work based on the Program, and copy and\r\ndistribute such modifications or work under the terms of Section 1\r\nabove, provided that you also meet all of these conditions:\r\n\r\n    a) You must cause the modified files to carry prominent notices\r\n    stating that you changed the files and the date of any change.\r\n\r\n    b) You must cause any work that you distribute or publish, that in\r\n    whole or in part contains or is derived from the Program or any\r\n    part thereof, to be licensed as a whole at no charge to all third\r\n    parties under the terms of this License.\r\n\r\n    c) If the modified program normally reads commands interactively\r\n    when run, you must cause it, when started running for such\r\n    interactive use in the most ordinary way, to print or display an\r\n    announcement including an appropriate copyright notice and a\r\n    notice that there is no warranty (or else, saying that you provide\r\n    a warranty) and that users may redistribute the program under\r\n    these conditions, and telling the user how to view a copy of this\r\n    License.  (Exception: if the Program itself is interactive but\r\n    does not normally print such an announcement, your work based on\r\n    the Program is not required to print an announcement.)\r\n\r\nThese requirements apply to the modified work as a whole.  If\r\nidentifiable sections of that work are not derived from the Program,\r\nand can be reasonably considered independent and separate works in\r\nthemselves, then this License, and its terms, do not apply to those\r\nsections when you distribute them as separate works.  But when you\r\ndistribute the same sections as part of a whole which is a work based\r\non the Program, the distribution of the whole must be on the terms of\r\nthis License, whose permissions for other licensees extend to the\r\nentire whole, and thus to each and every part regardless of who wrote it.\r\n\r\nThus, it is not the intent of this section to claim rights or contest\r\nyour rights to work written entirely by you; rather, the intent is to\r\nexercise the right to control the distribution of derivative or\r\ncollective works based on the Program.\r\n\r\nIn addition, mere aggregation of another work not based on the Program\r\nwith the Program (or with a work based on the Program) on a volume of\r\na storage or distribution medium does not bring the other work under\r\nthe scope of this License.\r\n\r\n  3. You may copy and distribute the Program (or a work based on it,\r\nunder Section 2) in object code or executable form under the terms of\r\nSections 1 and 2 above provided that you also do one of the following:\r\n\r\n    a) Accompany it with the complete corresponding machine-readable\r\n    source code, which must be distributed under the terms of Sections\r\n    1 and 2 above on a medium customarily used for software interchange; or,\r\n\r\n    b) Accompany it with a written offer, valid for at least three\r\n    years, to give any third party, for a charge no more than your\r\n    cost of physically performing source distribution, a complete\r\n    machine-readable copy of the corresponding source code, to be\r\n    distributed under the terms of Sections 1 and 2 above on a medium\r\n    customarily used for software interchange; or,\r\n\r\n    c) Accompany it with the information you received as to the offer\r\n    to distribute corresponding source code.  (This alternative is\r\n    allowed only for noncommercial distribution and only if you\r\n    received the program in object code or executable form with such\r\n    an offer, in accord with Subsection b above.)\r\n\r\nThe source code for a work means the preferred form of the work for\r\nmaking modifications to it.  For an executable work, complete source\r\ncode means all the source code for all modules it contains, plus any\r\nassociated interface definition files, plus the scripts used to\r\ncontrol compilation and installation of the executable.  However, as a\r\nspecial exception, the source code distributed need not include\r\nanything that is normally distributed (in either source or binary\r\nform) with the major components (compiler, kernel, and so on) of the\r\noperating system on which the executable runs, unless that component\r\nitself accompanies the executable.\r\n\r\nIf distribution of executable or object code is made by offering\r\naccess to copy from a designated place, then offering equivalent\r\naccess to copy the source code from the same place counts as\r\ndistribution of the source code, even though third parties are not\r\ncompelled to copy the source along with the object code.\r\n\r\n  4. You may not copy, modify, sublicense, or distribute the Program\r\nexcept as expressly provided under this License.  Any attempt\r\notherwise to copy, modify, sublicense or distribute the Program is\r\nvoid, and will automatically terminate your rights under this License.\r\nHowever, parties who have received copies, or rights, from you under\r\nthis License will not have their licenses terminated so long as such\r\nparties remain in full compliance.\r\n\r\n  5. You are not required to accept this License, since you have not\r\nsigned it.  However, nothing else grants you permission to modify or\r\ndistribute the Program or its derivative works.  These actions are\r\nprohibited by law if you do not accept this License.  Therefore, by\r\nmodifying or distributing the Program (or any work based on the\r\nProgram), you indicate your acceptance of this License to do so, and\r\nall its terms and conditions for copying, distributing or modifying\r\nthe Program or works based on it.\r\n\r\n  6. Each time you redistribute the Program (or any work based on the\r\nProgram), the recipient automatically receives a license from the\r\noriginal licensor to copy, distribute or modify the Program subject to\r\nthese terms and conditions.  You may not impose any further\r\nrestrictions on the recipients\' exercise of the rights granted herein.\r\nYou are not responsible for enforcing compliance by third parties to\r\nthis License.\r\n\r\n  7. If, as a consequence of a court judgment or allegation of patent\r\ninfringement or for any other reason (not limited to patent issues),\r\nconditions are imposed on you (whether by court order, agreement or\r\notherwise) that contradict the conditions of this License, they do not\r\nexcuse you from the conditions of this License.  If you cannot\r\ndistribute so as to satisfy simultaneously your obligations under this\r\nLicense and any other pertinent obligations, then as a consequence you\r\nmay not distribute the Program at all.  For example, if a patent\r\nlicense would not permit royalty-free redistribution of the Program by\r\nall those who receive copies directly or indirectly through you, then\r\nthe only way you could satisfy both it and this License would be to\r\nrefrain entirely from distribution of the Program.\r\n\r\nIf any portion of this section is held invalid or unenforceable under\r\nany particular circumstance, the balance of the section is intended to\r\napply and the section as a whole is intended to apply in other\r\ncircumstances.\r\n\r\nIt is not the purpose of this section to induce you to infringe any\r\npatents or other property right claims or to contest validity of any\r\nsuch claims; this section has the sole purpose of protecting the\r\nintegrity of the free software distribution system, which is\r\nimplemented by public license practices.  Many people have made\r\ngenerous contributions to the wide range of software distributed\r\nthrough that system in reliance on consistent application of that\r\nsystem; it is up to the author/donor to decide if he or she is willing\r\nto distribute software through any other system and a licensee cannot\r\nimpose that choice.\r\n\r\nThis section is intended to make thoroughly clear what is believed to\r\nbe a consequence of the rest of this License.\r\n\r\n  8. If the distribution and/or use of the Program is restricted in\r\ncertain countries either by patents or by copyrighted interfaces, the\r\noriginal copyright holder who places the Program under this License\r\nmay add an explicit geographical distribution limitation excluding\r\nthose countries, so that distribution is permitted only in or among\r\ncountries not thus excluded.  In such case, this License incorporates\r\nthe limitation as if written in the body of this License.\r\n\r\n  9. The Free Software Foundation may publish revised and/or new versions\r\nof the General Public License from time to time.  Such new versions will\r\nbe similar in spirit to the present version, but may differ in detail to\r\naddress new problems or concerns.\r\n\r\nEach version is given a distinguishing version number.  If the Program\r\nspecifies a version number of this License which applies to it and \"any\r\nlater version\", you have the option of following the terms and conditions\r\neither of that version or of any later version published by the Free\r\nSoftware Foundation.  If the Program does not specify a version number of\r\nthis License, you may choose any version ever published by the Free Software\r\nFoundation.\r\n\r\n  10. If you wish to incorporate parts of the Program into other free\r\nprograms whose distribution conditions are different, write to the author\r\nto ask for permission.  For software which is copyrighted by the Free\r\nSoftware Foundation, write to the Free Software Foundation; we sometimes\r\nmake exceptions for this.  Our decision will be guided by the two goals\r\nof preserving the free status of all derivatives of our free software and\r\nof promoting the sharing and reuse of software generally.\r\n\r\nNO WARRANTY\r\n-----------\r\n\r\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\r\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\r\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\r\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\r\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\r\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\r\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\r\nREPAIR OR CORRECTION.\r\n\r\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\r\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\r\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\r\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\r\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\r\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\r\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\r\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\r\nPOSSIBILITY OF SUCH DAMAGES.\r\n\r\n---------------------------\r\nEND OF TERMS AND CONDITIONS\r\n\";s:6:\"readme\";s:2609:\"--------------------\nExtra: FastUploadTV\n--------------------\nVersion: 1.0.0 pl\nBuild:   26th Sep 2016 11:40am\nCommit:  \n\nAuthor: Alan Pich <alan.pich@gmail.com>, Evgeniy Yudin (JINN) <promo360@yandex.ru>\nLicense: GNU GPLv2\n\nThis project is hosted on github:\nhttps://github.com/promo360/fastuploadtv\n\nThe Fast Upload TV input provides the simplest possible file upload experience for the end user,\noffering single-button file selection & uploading without the use of the MODx file manager. File save paths are\nset on the TV itself, so the content-editor doesn\'t have to worry about where to save to.\n\nIt is fork from Alan Pich Simple File Upload TV.\n\n### Installation Instructions\nInstall this package through the Package Manager or download from the [MODx Extras Repository](http://modx.com/extras/package/fastuploadtv).\nOnce installed, \'Fast Upload TV\' will become an option in the TV Input Type selection list.\n\n\n### Input Configuration Options\nWhile hiding many of these features from the Resource editor, Fast Upload TVs are very customisable! They\nwork with any stream-based (filesystem) mediasource, can be saved to a custom path within the source, and optionally\nprefix a string to the filename in order to make maintainance and curation of uploaded files easier over time.\nYou can even restrict file upload types by specifying required MIME types!\n\n#### Placeholders\nBoth the file `Save Path` and `File Prefix` fields can be customised by editing the corresponding fields in\nthe TV Input Options tab. Both options can be customized dynamically with several placeholders:\n\n* `{id}`     - Resource ID\n* `{pid}`    - Resource Parent ID\n* `{alias}`  - Resource Alias (IMPORTANT! Alias can not contain spetssivolov prohibited OS)\n* `{palias}` - Resource Parent Alias (IMPORTANT! Alias can not contain spetssivolov prohibited OS)\n* `{tid}`    - TV ID\n* `{uid}`    - User ID\n* `{rand}`   - Random string\n* `{t}`      - Timestamp\n* `{y}`      - Year\n* `{m}`      - Month\n* `{d}`      - Day\n* `{h}`      - Hour\n* `{i}`      - Minute\n* `{s}`      - Second\n\n#### Advanced Save Path routing using Snippets\nYou can also specify a snippet that returns a path string for advanced routing by using the @SNIPPET prefix\ne.g. `@SNIPPET myPathingSnippet`\n\n\n#### Restricting file types using MIME\nMIME types describe the type of file to be uploaded and relate to the file extension.\nMultiple upload types can be specified using a comma-separated list.\n\ne.g. `image/jpeg, image/png, application/pdf`\n\nA (mostly) full list can be found [here](http://webdesign.about.com/od/multimedia/a/mime-types-by-file-extension.htm).\n\n\n\";s:9:\"changelog\";s:749:\"--------------------\r\nExtra: FastUploadTV\r\n--------------------\r\n# Version 1.0.0-pl\r\n :: Fixed placeholder {rand}\r\n :: Event OnWebPageInit changed to OnModxInit\r\n :: Refactoring code\r\n :: New button \"Clean value\"\r\n :: Added option: prefix_filename\r\n :: Added settings: check_resid, preview_width_max, preview_height_max, random_lenght\r\n :: Improved placeholders {alias} and {palias}\r\n\r\n# Version 1.0.0-beta\r\n :: Added Russian Language\r\n :: Auto translit filenames\r\n :: Change placeholder: {r} > {id}, {t} > {tid}, {u} > {uid}\r\n :: New placeholder: {rand}, {t}, {h}, {i}, {s}, {pid}, {alias}, {palias}\r\n :: The path is taken from the MediaSource\r\n :: Bug fixes \r\n\r\n# Version 0.9.0\r\n--------------------\r\n :: Fork tveasyupload 2.0.0 beta (23 Feb 2013)\";}',	'FastUploadTV',	NULL,	1,	0,	0,	'pl',	0),
('pthumb-2.3.3-pl',	'2017-09-03 02:33:52',	'2017-09-03 14:34:13',	'2017-09-03 14:33:55',	0,	1,	1,	0,	'pthumb-2.3.3-pl.transport.zip',	NULL,	'a:4:{s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:482:\"----------------------------\npThumb, a fork of phpThumbOf\n----------------------------\n\nIt\'s best to uninstall phpThumbOf before installing pThumb.\n\npThumb is a fork of phpThumbOf 1.4.0, originally developed by\nShaun McCormick <shaun@modx.com>\nLicense: GNU GPLv2\n\nPlease visit the GitHub page for documentation or to report bugs:\nhttps://github.com/oo12/phpThumbOf\n\n\nUsage:\n\n[[+imageUrl:phpthumbof=`w=234&h=123&zc=1`]]\n\nAny phpThumb-compatible options can be passed into the filter.\";s:9:\"changelog\";s:5527:\"pThumb Changelog\n\n2.3.3-pl [14.06.2014]\n---------------------\n\n- [#23] Fix cache cleaner to delete pngs and gifs from phpthumbof cache\n  (hat tip Ian Brindley)\n\n\n2.3.2-pl [26.05.2014]\n---------------------\n\n- [#20] Fix PHP error when running in mgr context (hat tip exside)\n- [#21] Better error messages when input is a directory (hat tip exside)\n- Make pThumb cache cleaning more selective\n- Update Resizer to 1.0.1-pl\n\n\n2.3.1-pl [23.03.2014]\n---------------------\n\n- [#18] Improve support for context settings (http_host and base_url)\n- Add options to return image dimensions (toPlaceholder property and\n  dims option)\n- Update Resizer to 0.5.1-pl\n- Several small bugfixes\n\n\n2.3.0-pl [18.01.2014]\n------------------------\n\n- [#3] Add Amazon S3 support\n- Improve naming and cache structure for remote files\n- [#17] Fix file paths when using phpThumb on Windows\n- Add a small optimization for phpThumb\n\n\n2.2.2-pl2 [06.12.2013]\n---------------------\n\n- [#13] Correct for any inaccurate paths caused by context settings\n- [#14] Fix handling of phpThumb fltr parameter\n- [#16] Fix handling of paths when MODX is running from a subdirectory\n\n\n2.2.1-pl [13.11.2013]\n---------------------\n\n- [#10] Fix an incompatibility with the cache manager and PHP < 5.3\n\n\n2.2.0-pl [10.11.2013]\n---------------------\n\nNote: v2.2 has a new hash generation algorithm for cache filenames. After you\n      update, cache images will be regenerated on access.\n\n- Improve cache manager plugin; add Clean Level system setting\n- Replace jpeg_quality setting with a more flexible global default options setting\n- Add several small optimizations for phpThumb\n- Update Resizer to 0.4.1-pl\n- Improve input filename checking, handling of a corner case with remote images\n- [#4] Try to avert problems when $_SERVER[\'DOCUMENT_ROOT\'] != MODX_BASE_PATH\n- [#5] Honor relevant MODX phpThumb system settings\n- [#7] Change hash generation so thumbnails are specific to phpThumb or Resizer\n    and switching between the two returns a thumbnail generated by that library,\n    without having to clear an existing version from the cache first.\n- [#8] Add the phpthumbof.cache_url setting back\n- [#9] Improve debug message when a thumbnail is already cached\n\n\n2.1.0-pl [23.09.2013]\n---------------------\n\n- Add a \'pThumb Cache\' option. With this enabled, cached images aren\'t lumped into\n  one flat directory but put into the cache in subdirectories which mirror part of\n  the original image\'s path. The hash added to filenames is also much shorter.\n  End result: cleaner, more semantic and SEO-friendly image URLs\n  See the documentation for more on configuring and enabling it:\n  https://github.com/oo12/phpThumbOf#pthumb-cache\n- Several performance optimizations, including one when using phpThumb.\n- Add pthumb snippet. It\'s the same as phpthumbof, only shorter to type :-)\n\n\n2.0.0-pl [09.09.2013]\n---------------------\n\n- Improve handling of paths, URLs and remote images\n- [#2] Fix new_file_permissions setting\n- Update Resizer to v0.3.1-pl\n- Several minor bug fixes\n\n\n2.0.0-rc3 [25.08.2013]\n----------------------\n\n- Update Resizer to v0.2.0-rc1, now a separate package\n- [#1] Fix protocol-relative URLs for remote images\n- Fix &useResizer and &debug properties\n- Several minor speed and efficiency improvements\n\n\n2.0.0-rc2 [12.08.2013]\n----------------------\n\n- Add Resizer v0.1, a light-weight modern alternative to phpThumb. Resizer is built\n  on Imagine, supports the Gmagick, Imagick and GD extensions and is considerably\n  faster than phpThumb for scaling/cropping operations. Plus all the ZC options now\n  work with GD. Enable in System Settings. Requires PHP 5.3 or higher.\n- Fix a PHP warning the phpThumbOfCacheManager plugin was throwing.\n\n\n\n2.0.0-rc1\n---------\n\n- Major refactor for improved efficiency, especially when used multiple times on\n  a page or when an image is already cached.\n- Remove Amazon S3 support. I don\'t use or know much about this and rather than\n  release completely untested and possibly broken code, I took it out.  If you\'d\n  like it added back and are interested in helping, please get in touch.\n- Improve remote image handling. Originals are now downloaded to the cache to\n  greatly speed up future access\n- Improve debugging output, including easy access to the phpThumb debug messages\n  created when a thumbnail is generated (new &debug property for phpThumbOf)\n\n\n1.0.0-beta2\n-----------\n\n- Add resource id # to error log message to make finding problem images easier\n\n\n1.0.0-beta1\n-----------\n\n- Initial Commit. Forked from phpThumbOf 1.4.0.\n- Improve cache management and performance: the cache manager plugin has been changed\n  to only clean the cache; it doesn\'t completely clear it.  Cache cleanup is only done\n  on OnSiteRefresh events instead of every time phpThumbOf is run (which previously\n  didn\'t work anyway), improving overall performance\n\n\nphpThumbOf issues addressed:\n- [#37] Add a phpthumbof.jpeg_quality global default JPEG quality setting\n- [#41] Don\'t urldecode filenames\n- [#46] add phpthumbof.check_mod_time option to refresh the cached image if the\n  original has been modified\n- [#44] [#49] Prevent generation of identical images when the same image is used in\n  multiple resources\n- [#48] [#49] Fix duplication of images with identical names in different directories\n- [#47] Exit quickly and silently when called with no file name\n- [#52] Make input file name handling more robust, particularly when MODX is\n  install in a subdirectory\n- [#53] Trim extension properly\n- [#54] [#50] Fix cache cleaning\";s:13:\"setup-options\";a:0:{}}',	'pThumb',	NULL,	2,	3,	3,	'pl',	0),
('resizer-1.0.1-pl',	'2017-09-03 02:33:55',	'2017-09-03 14:34:15',	'2017-09-03 14:33:55',	0,	1,	1,	0,	'pthumb-2.3.3-pl/xPDOTransportVehicle/aea43ca81ababaf9acb1782bbccb4b19/resizer-1.0.1-pl.transport.zip',	NULL,	'a:4:{s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:355:\"Resizer\n\nA light-weight, modern image resizer for MODX.\n\nRequires PHP 5.3.2+\nThis is a PHP class meant to be used in a snippet.  If you\'re looking for an\nimage-resizing snippet to use in your templates look at pThumb, which can\nuse Resizer.\n\nAuthor: Jason Grant\nCopyright 2013\n\nDocumentation, bug reports, feature requests:\nhttps://github.com/oo12/Resizer\";s:9:\"changelog\";s:2352:\"Resizer Changelog\n\nv1.0.1-pl  [26.05.2014]\n-----------------------\n\n- [#6] GD: Fix PNG transparency on watermark images\n- Add MODX base_path to search list for watermark assets\n\n\nv1.0.0-pl  [29.04.2014]\n-----------------------\n\n- Structural overhaul: core functionality now bundled as a Composer\n  package (oo12/Reductionist)\n- Performance improvements for thumbnailing large jpegs using Imagick\n  or Gmagick\n- Add preliminary support for watermarking: wmt and wmi filters\n  (hat tip funkbilly)\n- Add auto CMYK to RGB conversion and strip embedded profiles/metadata\n  to reduce thumbnail size\n- Improve handling of rounding discrepancies when calculating dimensions\n- Fix quality scaling when zoom cropping\n\n\nv0.5.1-pl  [23.03.2014]\n-----------------------\n\n- Fix handing of far parameter for undersized images when aoe=0\n- Fix reported output dimensions in some cases\n\n\nv0.5.0-pl  [15.03.2014]\n-----------------------\n\n- [#3] Add partial support for fltr[]=usm\n- [#4] Fix execution order for source crop parameters. Now works with\n  Image+ 2.2.\n- Improve debug output\n- Add properties for final width and height\n- Merge latest Imagine commits\n- Several minor performance tweaks\n\n\nv0.4.1-pl  [10.11.2013]\n-----------------------\n\n- Make input file checking and class loading a little more robust\n\n\nv0.4.0-pl  [05.10.2013]\n-----------------------\n\n- Add bg (background color) parameter\n- Add far (force aspect ratio) parameter\n- [#1] Fix an issue with the package validator and older versions of\n  the Imagick extension\n- Merge latest Imagine commits\n\n\nv0.3.2-pl  [29.09.2013]\n-----------------------\n\n- Fix a bug in the Imagine Imagick driver (affected a few, mostly older\n  versions of ImageMagick)\n\n\nv0.3.1-pl  [08.09.2013]\n-----------------------\n\n- Fix a bug when sw or sh (but not both) is specified\n\n\nv0.3.0-pl  [07.09.2013]\n-----------------------\n\n- Add sw, sh, sx, sy options\n- Add maxq option for jpeg quality scaling on undersized input images\n- Add available memory check when using GD\n- Fix scale option name and improve operation\n- Expand debug messages\n- Merge latest Imagine commits\n\n\nv0.2.0-rc1  [25.08.2013]\n--------------------\n\n- Convert to a separate package\n- Add scale and strip options\n- Integrate latest Imagine repo\n- Improve error handling\n- Add more debug info\n- Various minor improvements\n\n\nv0.1.0\n------\n\n- Initial Release\";s:13:\"setup-options\";a:0:{}}',	'resizer',	NULL,	1,	0,	1,	'pl',	0),
('simpleupdater-2.1.1-beta',	'2017-09-03 02:34:03',	'2017-09-03 14:34:15',	'2017-09-03 14:34:04',	0,	1,	1,	0,	'simpleupdater-2.1.1-beta.transport.zip',	NULL,	'a:5:{s:9:\"changelog\";s:194:\"Changelog for simpleUpdater.\n\n2.1.1-beta\n==============\n- Restored menu item\n\n2.1.0-beta\n==============\n- Show button on top menu\n- Removed menu item\n\n1.0.0-beta\n==============\n- Initial release\";s:7:\"license\";s:15504:\"GNU GENERAL PUBLIC LICENSE\r\n   Version 2, June 1991\r\n--------------------------\r\n\r\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\r\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\r\n\r\nEveryone is permitted to copy and distribute verbatim copies\r\nof this license document, but changing it is not allowed.\r\n\r\nPreamble\r\n--------\r\n\r\n  The licenses for most software are designed to take away your\r\nfreedom to share and change it.  By contrast, the GNU General Public\r\nLicense is intended to guarantee your freedom to share and change free\r\nsoftware--to make sure the software is free for all its users.  This\r\nGeneral Public License applies to most of the Free Software\r\nFoundation\'s software and to any other program whose authors commit to\r\nusing it.  (Some other Free Software Foundation software is covered by\r\nthe GNU Library General Public License instead.)  You can apply it to\r\nyour programs, too.\r\n\r\n  When we speak of free software, we are referring to freedom, not\r\nprice.  Our General Public Licenses are designed to make sure that you\r\nhave the freedom to distribute copies of free software (and charge for\r\nthis service if you wish), that you receive source code or can get it\r\nif you want it, that you can change the software or use pieces of it\r\nin new free programs; and that you know you can do these things.\r\n\r\n  To protect your rights, we need to make restrictions that forbid\r\nanyone to deny you these rights or to ask you to surrender the rights.\r\nThese restrictions translate to certain responsibilities for you if you\r\ndistribute copies of the software, or if you modify it.\r\n\r\n  For example, if you distribute copies of such a program, whether\r\ngratis or for a fee, you must give the recipients all the rights that\r\nyou have.  You must make sure that they, too, receive or can get the\r\nsource code.  And you must show them these terms so they know their\r\nrights.\r\n\r\n  We protect your rights with two steps: (1) copyright the software, and\r\n(2) offer you this license which gives you legal permission to copy,\r\ndistribute and/or modify the software.\r\n\r\n  Also, for each author\'s protection and ours, we want to make certain\r\nthat everyone understands that there is no warranty for this free\r\nsoftware.  If the software is modified by someone else and passed on, we\r\nwant its recipients to know that what they have is not the original, so\r\nthat any problems introduced by others will not reflect on the original\r\nauthors\' reputations.\r\n\r\n  Finally, any free program is threatened constantly by software\r\npatents.  We wish to avoid the danger that redistributors of a free\r\nprogram will individually obtain patent licenses, in effect making the\r\nprogram proprietary.  To prevent this, we have made it clear that any\r\npatent must be licensed for everyone\'s free use or not licensed at all.\r\n\r\n  The precise terms and conditions for copying, distribution and\r\nmodification follow.\r\n\r\n\r\nGNU GENERAL PUBLIC LICENSE\r\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\r\n---------------------------------------------------------------\r\n\r\n  0. This License applies to any program or other work which contains\r\na notice placed by the copyright holder saying it may be distributed\r\nunder the terms of this General Public License.  The \"Program\", below,\r\nrefers to any such program or work, and a \"work based on the Program\"\r\nmeans either the Program or any derivative work under copyright law:\r\nthat is to say, a work containing the Program or a portion of it,\r\neither verbatim or with modifications and/or translated into another\r\nlanguage.  (Hereinafter, translation is included without limitation in\r\nthe term \"modification\".)  Each licensee is addressed as \"you\".\r\n\r\nActivities other than copying, distribution and modification are not\r\ncovered by this License; they are outside its scope.  The act of\r\nrunning the Program is not restricted, and the output from the Program\r\nis covered only if its contents constitute a work based on the\r\nProgram (independent of having been made by running the Program).\r\nWhether that is true depends on what the Program does.\r\n\r\n  1. You may copy and distribute verbatim copies of the Program\'s\r\nsource code as you receive it, in any medium, provided that you\r\nconspicuously and appropriately publish on each copy an appropriate\r\ncopyright notice and disclaimer of warranty; keep intact all the\r\nnotices that refer to this License and to the absence of any warranty;\r\nand give any other recipients of the Program a copy of this License\r\nalong with the Program.\r\n\r\nYou may charge a fee for the physical act of transferring a copy, and\r\nyou may at your option offer warranty protection in exchange for a fee.\r\n\r\n  2. You may modify your copy or copies of the Program or any portion\r\nof it, thus forming a work based on the Program, and copy and\r\ndistribute such modifications or work under the terms of Section 1\r\nabove, provided that you also meet all of these conditions:\r\n\r\n    a) You must cause the modified files to carry prominent notices\r\n    stating that you changed the files and the date of any change.\r\n\r\n    b) You must cause any work that you distribute or publish, that in\r\n    whole or in part contains or is derived from the Program or any\r\n    part thereof, to be licensed as a whole at no charge to all third\r\n    parties under the terms of this License.\r\n\r\n    c) If the modified program normally reads commands interactively\r\n    when run, you must cause it, when started running for such\r\n    interactive use in the most ordinary way, to print or display an\r\n    announcement including an appropriate copyright notice and a\r\n    notice that there is no warranty (or else, saying that you provide\r\n    a warranty) and that users may redistribute the program under\r\n    these conditions, and telling the user how to view a copy of this\r\n    License.  (Exception: if the Program itself is interactive but\r\n    does not normally print such an announcement, your work based on\r\n    the Program is not required to print an announcement.)\r\n\r\nThese requirements apply to the modified work as a whole.  If\r\nidentifiable sections of that work are not derived from the Program,\r\nand can be reasonably considered independent and separate works in\r\nthemselves, then this License, and its terms, do not apply to those\r\nsections when you distribute them as separate works.  But when you\r\ndistribute the same sections as part of a whole which is a work based\r\non the Program, the distribution of the whole must be on the terms of\r\nthis License, whose permissions for other licensees extend to the\r\nentire whole, and thus to each and every part regardless of who wrote it.\r\n\r\nThus, it is not the intent of this section to claim rights or contest\r\nyour rights to work written entirely by you; rather, the intent is to\r\nexercise the right to control the distribution of derivative or\r\ncollective works based on the Program.\r\n\r\nIn addition, mere aggregation of another work not based on the Program\r\nwith the Program (or with a work based on the Program) on a volume of\r\na storage or distribution medium does not bring the other work under\r\nthe scope of this License.\r\n\r\n  3. You may copy and distribute the Program (or a work based on it,\r\nunder Section 2) in object code or executable form under the terms of\r\nSections 1 and 2 above provided that you also do one of the following:\r\n\r\n    a) Accompany it with the complete corresponding machine-readable\r\n    source code, which must be distributed under the terms of Sections\r\n    1 and 2 above on a medium customarily used for software interchange; or,\r\n\r\n    b) Accompany it with a written offer, valid for at least three\r\n    years, to give any third party, for a charge no more than your\r\n    cost of physically performing source distribution, a complete\r\n    machine-readable copy of the corresponding source code, to be\r\n    distributed under the terms of Sections 1 and 2 above on a medium\r\n    customarily used for software interchange; or,\r\n\r\n    c) Accompany it with the information you received as to the offer\r\n    to distribute corresponding source code.  (This alternative is\r\n    allowed only for noncommercial distribution and only if you\r\n    received the program in object code or executable form with such\r\n    an offer, in accord with Subsection b above.)\r\n\r\nThe source code for a work means the preferred form of the work for\r\nmaking modifications to it.  For an executable work, complete source\r\ncode means all the source code for all modules it contains, plus any\r\nassociated interface definition files, plus the scripts used to\r\ncontrol compilation and installation of the executable.  However, as a\r\nspecial exception, the source code distributed need not include\r\nanything that is normally distributed (in either source or binary\r\nform) with the major components (compiler, kernel, and so on) of the\r\noperating system on which the executable runs, unless that component\r\nitself accompanies the executable.\r\n\r\nIf distribution of executable or object code is made by offering\r\naccess to copy from a designated place, then offering equivalent\r\naccess to copy the source code from the same place counts as\r\ndistribution of the source code, even though third parties are not\r\ncompelled to copy the source along with the object code.\r\n\r\n  4. You may not copy, modify, sublicense, or distribute the Program\r\nexcept as expressly provided under this License.  Any attempt\r\notherwise to copy, modify, sublicense or distribute the Program is\r\nvoid, and will automatically terminate your rights under this License.\r\nHowever, parties who have received copies, or rights, from you under\r\nthis License will not have their licenses terminated so long as such\r\nparties remain in full compliance.\r\n\r\n  5. You are not required to accept this License, since you have not\r\nsigned it.  However, nothing else grants you permission to modify or\r\ndistribute the Program or its derivative works.  These actions are\r\nprohibited by law if you do not accept this License.  Therefore, by\r\nmodifying or distributing the Program (or any work based on the\r\nProgram), you indicate your acceptance of this License to do so, and\r\nall its terms and conditions for copying, distributing or modifying\r\nthe Program or works based on it.\r\n\r\n  6. Each time you redistribute the Program (or any work based on the\r\nProgram), the recipient automatically receives a license from the\r\noriginal licensor to copy, distribute or modify the Program subject to\r\nthese terms and conditions.  You may not impose any further\r\nrestrictions on the recipients\' exercise of the rights granted herein.\r\nYou are not responsible for enforcing compliance by third parties to\r\nthis License.\r\n\r\n  7. If, as a consequence of a court judgment or allegation of patent\r\ninfringement or for any other reason (not limited to patent issues),\r\nconditions are imposed on you (whether by court order, agreement or\r\notherwise) that contradict the conditions of this License, they do not\r\nexcuse you from the conditions of this License.  If you cannot\r\ndistribute so as to satisfy simultaneously your obligations under this\r\nLicense and any other pertinent obligations, then as a consequence you\r\nmay not distribute the Program at all.  For example, if a patent\r\nlicense would not permit royalty-free redistribution of the Program by\r\nall those who receive copies directly or indirectly through you, then\r\nthe only way you could satisfy both it and this License would be to\r\nrefrain entirely from distribution of the Program.\r\n\r\nIf any portion of this section is held invalid or unenforceable under\r\nany particular circumstance, the balance of the section is intended to\r\napply and the section as a whole is intended to apply in other\r\ncircumstances.\r\n\r\nIt is not the purpose of this section to induce you to infringe any\r\npatents or other property right claims or to contest validity of any\r\nsuch claims; this section has the sole purpose of protecting the\r\nintegrity of the free software distribution system, which is\r\nimplemented by public license practices.  Many people have made\r\ngenerous contributions to the wide range of software distributed\r\nthrough that system in reliance on consistent application of that\r\nsystem; it is up to the author/donor to decide if he or she is willing\r\nto distribute software through any other system and a licensee cannot\r\nimpose that choice.\r\n\r\nThis section is intended to make thoroughly clear what is believed to\r\nbe a consequence of the rest of this License.\r\n\r\n  8. If the distribution and/or use of the Program is restricted in\r\ncertain countries either by patents or by copyrighted interfaces, the\r\noriginal copyright holder who places the Program under this License\r\nmay add an explicit geographical distribution limitation excluding\r\nthose countries, so that distribution is permitted only in or among\r\ncountries not thus excluded.  In such case, this License incorporates\r\nthe limitation as if written in the body of this License.\r\n\r\n  9. The Free Software Foundation may publish revised and/or new versions\r\nof the General Public License from time to time.  Such new versions will\r\nbe similar in spirit to the present version, but may differ in detail to\r\naddress new problems or concerns.\r\n\r\nEach version is given a distinguishing version number.  If the Program\r\nspecifies a version number of this License which applies to it and \"any\r\nlater version\", you have the option of following the terms and conditions\r\neither of that version or of any later version published by the Free\r\nSoftware Foundation.  If the Program does not specify a version number of\r\nthis License, you may choose any version ever published by the Free Software\r\nFoundation.\r\n\r\n  10. If you wish to incorporate parts of the Program into other free\r\nprograms whose distribution conditions are different, write to the author\r\nto ask for permission.  For software which is copyrighted by the Free\r\nSoftware Foundation, write to the Free Software Foundation; we sometimes\r\nmake exceptions for this.  Our decision will be guided by the two goals\r\nof preserving the free status of all derivatives of our free software and\r\nof promoting the sharing and reuse of software generally.\r\n\r\nNO WARRANTY\r\n-----------\r\n\r\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\r\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\r\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\r\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\r\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\r\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\r\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\r\nREPAIR OR CORRECTION.\r\n\r\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\r\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\r\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\r\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\r\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\r\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\r\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\r\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\r\nPOSSIBILITY OF SUCH DAMAGES.\r\n\r\n---------------------------\r\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:258:\"--------------------\nsimpleUpdater\n--------------------\nAuthor: Ilya Utkin <ilyautkin@mail.ru>\n--------------------\n\nMODX addon updating MODX version on site.\n\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttps://github.com/ilyautkin/simpleUpdater\";s:6:\"chunks\";a:0:{}s:13:\"setup-options\";s:42:\"simpleupdater-2.1.1-beta/setup-options.php\";}',	'simpleUpdater',	NULL,	2,	1,	1,	'beta',	0),
('adminpanel-1.1.0-pl',	'2017-09-03 02:34:06',	'2017-09-03 14:34:09',	'2017-09-03 14:34:06',	0,	1,	2,	0,	'adminpanel-1.1.0-pl.transport.zip',	NULL,	'a:5:{s:9:\"changelog\";s:511:\"Changelog for AdminPanel.\n\n1.1.0-pl\n==============\n- PSR-2.\n- Added support for miniShop2.4+.\n- Improved work on mobile devices.\n- Fixed bug with remembering of panel status.\n- Added scroll to top button.\n\n1.0.3-pl\n==============\n- Improved iOS support.\n\n1.0.2-pl\n==============\n- Removed custom xtype in system settings due to issues.\n- Set priority of plugin event to 10 for better work with MinifyX.\n\n1.0.1-pl\n==============\n- Fixed javascript config on frontend.\n\n1.0.0-pl\n==============\n- Initial release.\n\";s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:220:\"--------------------\nAdminPanel\n--------------------\nAuthor: Vasiliy Naumkin <bezumkin@yandex.ru>\n--------------------\n\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttp://github.com/username/AdminPanel/issues\";s:6:\"chunks\";a:3:{s:20:\"tpl.AdminPanel.outer\";s:1190:\"<nav class=\"adminpanel ap-navbar ap-navbar-fixed-bottom [[+class_theme]] [[+class_status]]\" role=\"navigation\"\n     style=\"opacity:[[+inactive_opacity]];\">\n    <ul class=\"ap-nav ap-navbar-nav\">\n        <li class=\"ap-link-first\"><a href=\"[[+resource_update]]&id=[[*id]]\" class=\"ap-navbar-link\">[[%ap_edit_this]]</a>\n        </li>\n        [[+groups]]\n    </ul>\n\n    <ul class=\"ap-nav ap-navbar-nav ap-pull-right\">\n        <li>\n            <a href=\"https://modstore.pro/adminpanel\" class=\"ap-navbar-brand ap-pull-right\" target=\"_blank\">[[%adminpanel]]</a>\n        </li>\n        <li>\n            <a href=\"#\" class=\"ap-scroll-up\" style=\"display:none;\">\n                &uarr;\n            </a>\n        </li>\n    </ul>\n\n    [[+msearch2_index:notempty=`\n    <form class=\"ap-navbar-form ap-pull-right ap-msearch2\" role=\"search\" method=\"get\" action=\"[[+msearch2_index]]\"\n          target=\"_blank\">\n        <input type=\"hidden\" name=\"a\" value=\"[[+msearch2_index_id]]\">\n        <input type=\"text\" name=\"query\" class=\"ap-msearch-query\" placeholder=\"[[%ap_mse2_search]]\" autocomplete=\"off\">\n    </form>\n    `]]\n</nav>\n<div class=\"ap-close [[+class_theme]]\"><b class=\"ap-caret [[+class_status]]\"></b></div>\";s:20:\"tpl.AdminPanel.group\";s:235:\"<li class=\"ap-dropdown\">\n    <a href=\"#\" class=\"ap-dropdown-toggle\" data-toggle=\"ap_dropdown\">[[%ap_[[+title]]]] <b class=\"ap-caret\"></b></a>\n    <ul class=\"dropdown-menu ap-dropdown-menu [[+title]]\">\n        [[+links]]\n    </ul>\n</li>\";s:19:\"tpl.AdminPanel.link\";s:97:\"<li class=\"[[+class]]\">\n    <a href=\"[[+link]]\" target=\"[[+target]]\">[[%ap_[[+title]]]]</a>\n</li>\";}s:13:\"setup-options\";s:37:\"adminpanel-1.1.0-pl/setup-options.php\";}',	'AdminPanel',	NULL,	1,	1,	0,	'pl',	0),
('debugparser-1.1.0-pl',	'2017-09-03 02:34:07',	'2017-09-03 14:34:10',	'2017-09-03 14:34:08',	0,	1,	2,	0,	'debugparser-1.1.0-pl.transport.zip',	NULL,	'a:3:{s:9:\"changelog\";s:362:\"Changelog for debugParser.\n\n1.1.0 pl\n==============\n- Added support of pdoParser with Fenom syntax.\n\n1.0.1 pl\n==============\n- [#1] Fixed total values in report table.\n\n1.0.0 pl\n==============\n- Fixed some troubles with charset.\n\n1.0.0 rc1\n==============\n- Fixed total values.\n- Added support for 3rd party parsers.\n\n1.0.0 beta1\n==============\n- Initial release.\";s:7:\"license\";s:15218:\"GNU GENERAL PUBLIC LICENSE\n   Version 2, June 1991\n--------------------------\n\nCopyright (C) 1989, 1991 Free Software Foundation, Inc.\n59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\nPreamble\n--------\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation\'s software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author\'s protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors\' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone\'s free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\nGNU GENERAL PUBLIC LICENSE\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n---------------------------------------------------------------\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program\'s\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients\' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\nNO WARRANTY\n-----------\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n---------------------------\nEND OF TERMS AND CONDITIONS\";s:6:\"readme\";s:320:\"--------------------\ndebugParser\n--------------------\nAuthor: Vasiliy Naumkin <bezumkin@yandex.ru>\n--------------------\n\nComponent for display verbose information about processing tags in modParser of MODX Revolution.\n\nFeel free to suggest ideas/improvements/bugs on GitHub:\nhttp://github.com/bezumkin/debugParser/issues\";}',	'debugParser',	NULL,	1,	1,	0,	'pl',	0);

DROP TABLE IF EXISTS `q777_transport_providers`;
CREATE TABLE `q777_transport_providers` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `description` mediumtext,
  `service_url` tinytext,
  `username` varchar(255) NOT NULL DEFAULT '',
  `api_key` varchar(255) NOT NULL DEFAULT '',
  `created` datetime NOT NULL,
  `updated` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `priority` tinyint(4) NOT NULL DEFAULT '10',
  `properties` mediumtext NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `api_key` (`api_key`),
  KEY `username` (`username`),
  KEY `active` (`active`),
  KEY `priority` (`priority`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_transport_providers` (`id`, `name`, `description`, `service_url`, `username`, `api_key`, `created`, `updated`, `active`, `priority`, `properties`) VALUES
(1,	'modx.com',	'The official MODX transport provider for 3rd party components.',	'https://rest.modx.com/extras/',	'',	'',	'2017-04-20 13:22:09',	NULL,	1,	10,	''),
(2,	'modstore.pro',	'',	'https://modstore.pro/extras/',	'',	'',	'2017-08-29 12:51:47',	NULL,	1,	10,	'');

DROP TABLE IF EXISTS `q777_users`;
CREATE TABLE `q777_users` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(100) NOT NULL DEFAULT '',
  `password` varchar(100) NOT NULL DEFAULT '',
  `cachepwd` varchar(100) NOT NULL DEFAULT '',
  `class_key` varchar(100) NOT NULL DEFAULT 'modUser',
  `active` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `remote_key` varchar(255) DEFAULT NULL,
  `remote_data` text,
  `hash_class` varchar(100) NOT NULL DEFAULT 'hashing.modPBKDF2',
  `salt` varchar(100) NOT NULL DEFAULT '',
  `primary_group` int(10) unsigned NOT NULL DEFAULT '0',
  `session_stale` text,
  `sudo` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `createdon` int(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`),
  KEY `class_key` (`class_key`),
  KEY `remote_key` (`remote_key`),
  KEY `primary_group` (`primary_group`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_users` (`id`, `username`, `password`, `cachepwd`, `class_key`, `active`, `remote_key`, `remote_data`, `hash_class`, `salt`, `primary_group`, `session_stale`, `sudo`, `createdon`) VALUES
(1,	'admin',	'OugL7+i0XzY3Dy9/j5vEDnRtwE38BM46XZCfAtYlFXI=',	'',	'modUser',	1,	NULL,	NULL,	'hashing.modPBKDF2',	'b64f367ad558e9ad43fa1ec5d3febae6',	1,	NULL,	1,	1504008436);

DROP TABLE IF EXISTS `q777_user_attributes`;
CREATE TABLE `q777_user_attributes` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `internalKey` int(10) NOT NULL,
  `fullname` varchar(100) NOT NULL DEFAULT '',
  `email` varchar(100) NOT NULL DEFAULT '',
  `phone` varchar(100) NOT NULL DEFAULT '',
  `mobilephone` varchar(100) NOT NULL DEFAULT '',
  `blocked` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `blockeduntil` int(11) NOT NULL DEFAULT '0',
  `blockedafter` int(11) NOT NULL DEFAULT '0',
  `logincount` int(11) NOT NULL DEFAULT '0',
  `lastlogin` int(11) NOT NULL DEFAULT '0',
  `thislogin` int(11) NOT NULL DEFAULT '0',
  `failedlogincount` int(10) NOT NULL DEFAULT '0',
  `sessionid` varchar(100) NOT NULL DEFAULT '',
  `dob` int(10) NOT NULL DEFAULT '0',
  `gender` int(1) NOT NULL DEFAULT '0',
  `address` text NOT NULL,
  `country` varchar(255) NOT NULL DEFAULT '',
  `city` varchar(255) NOT NULL DEFAULT '',
  `state` varchar(25) NOT NULL DEFAULT '',
  `zip` varchar(25) NOT NULL DEFAULT '',
  `fax` varchar(100) NOT NULL DEFAULT '',
  `photo` varchar(255) NOT NULL DEFAULT '',
  `comment` text NOT NULL,
  `website` varchar(255) NOT NULL DEFAULT '',
  `extended` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `internalKey` (`internalKey`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_user_attributes` (`id`, `internalKey`, `fullname`, `email`, `phone`, `mobilephone`, `blocked`, `blockeduntil`, `blockedafter`, `logincount`, `lastlogin`, `thislogin`, `failedlogincount`, `sessionid`, `dob`, `gender`, `address`, `country`, `city`, `state`, `zip`, `fax`, `photo`, `comment`, `website`, `extended`) VALUES
(1,	1,	'Администратор по умолчанию',	'kundius.ruslan@gmail.com',	'',	'',	0,	0,	0,	5,	1504536311,	1504786685,	0,	'06b88n8u949bffo8i80nhrmob2',	0,	0,	'',	'',	'',	'',	'',	'',	'',	'',	'',	NULL);

DROP TABLE IF EXISTS `q777_user_group_roles`;
CREATE TABLE `q777_user_group_roles` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `description` mediumtext,
  `authority` int(10) unsigned NOT NULL DEFAULT '9999',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `authority` (`authority`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_user_group_roles` (`id`, `name`, `description`, `authority`) VALUES
(1,	'Member',	NULL,	9999),
(2,	'Super User',	NULL,	0);

DROP TABLE IF EXISTS `q777_user_group_settings`;
CREATE TABLE `q777_user_group_settings` (
  `group` int(10) unsigned NOT NULL DEFAULT '0',
  `key` varchar(50) NOT NULL,
  `value` text,
  `xtype` varchar(75) NOT NULL DEFAULT 'textfield',
  `namespace` varchar(40) NOT NULL DEFAULT 'core',
  `area` varchar(255) NOT NULL DEFAULT '',
  `editedon` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`group`,`key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_user_messages`;
CREATE TABLE `q777_user_messages` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `type` varchar(15) NOT NULL DEFAULT '',
  `subject` varchar(255) NOT NULL DEFAULT '',
  `message` text NOT NULL,
  `sender` int(10) NOT NULL DEFAULT '0',
  `recipient` int(10) NOT NULL DEFAULT '0',
  `private` tinyint(4) NOT NULL DEFAULT '0',
  `date_sent` datetime DEFAULT NULL,
  `read` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_user_settings`;
CREATE TABLE `q777_user_settings` (
  `user` int(11) NOT NULL DEFAULT '0',
  `key` varchar(50) NOT NULL DEFAULT '',
  `value` text,
  `xtype` varchar(75) NOT NULL DEFAULT 'textfield',
  `namespace` varchar(40) NOT NULL DEFAULT 'core',
  `area` varchar(255) NOT NULL DEFAULT '',
  `editedon` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`user`,`key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS `q777_workspaces`;
CREATE TABLE `q777_workspaces` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL DEFAULT '',
  `path` varchar(255) NOT NULL DEFAULT '',
  `created` datetime NOT NULL,
  `active` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `attributes` mediumtext,
  PRIMARY KEY (`id`),
  UNIQUE KEY `path` (`path`),
  KEY `name` (`name`),
  KEY `active` (`active`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

INSERT INTO `q777_workspaces` (`id`, `name`, `path`, `created`, `active`, `attributes`) VALUES
(1,	'Default MODX workspace',	'{core_path}',	'2017-08-29 12:07:14',	1,	NULL);

-- 2017-09-08 14:38:24
